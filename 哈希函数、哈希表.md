



# ä½è¿ç®—

## ^è¿ç®—ç¬¦ç†è§£

- ^ å¯ç†è§£ä¸ºä¸è¿›ä½ç›¸åŠ 

- a^a=0

- a^0=a

  ```
  public static void sway(int[] arr,int i,int j){
  	if(i!=j){
  		//ä¸èƒ½ä¸¤ä¸ªå€¼æŒ‡å‘åŒä¸€åœ°å€
  	    arr[i]=arr[i]^arr[j];
  	    arr[j]=arr[i]^arr[j];//å°±æ˜¯arr[i]^arr[j]^arr[j]å°±è¡¨ç¤ºa
  	    arr[i]=arr[i]^arr[j];//è¡¨ç¤ºarr[i]^arr[j]^arr[i]^arr[j]^arr[j]å°±æ˜¯b
      }
  }
  
  ```

  ## å¯»æ‰¾å‡ºç°åŒä¸­çš„å•æ•°

  é¢˜ç›®ï¼šä¸€ç»„æ•°åªæœ‰ä¸€ä¸ªæ•°å‡ºç°ä¸€æ¬¡ï¼Œå…¶ä»–å‡ºç°ä¸¤æ¬¡ï¼Œæ‰¾å‡ºè¿™ä¸ªå‡ºç°ä¸€æ¬¡çš„æ•°

```
public class Main {
	private static int process(int[] arr) {
		int res = 0;
		for (int i : arr) {
			res ^= i;
		}
		return res;
	}
}

```

## å–å‡ºä¸€ä¸ªæ•°æœ€å³è¾¹1çš„ä½ç½®



```
int mostRightOne = pos & (~pos + 1); 
// mostRightOneå€¼åœ¨äºŒè¿›åˆ¶ä½ä¸Šçš„ä½æ¬¡å°±æ˜¯poså¾—æœ€å³ç¬¬ä¸€ä¸ª1çš„ä½ç½®

```

60 = 0011 1**1**00

-61 = 1100 0011

-60+1 = 1100 0100

60&(-60+1)=0000 0**1**00
å¾—å‡ºç­”æ¡ˆ



ä¸‹è¡¨åˆ—å‡ºäº†ä½è¿ç®—ç¬¦çš„åŸºæœ¬è¿ç®—ï¼Œå‡è®¾æ•´æ•°å˜é‡ A çš„å€¼ä¸º 60 å’Œå˜é‡ B çš„å€¼ä¸º 13ï¼š

| æ“ä½œç¬¦ | æè¿°                                                         | ä¾‹å­                           |
| :----- | :----------------------------------------------------------- | :----------------------------- |
| ï¼†     | å¦‚æœç›¸å¯¹åº”ä½éƒ½æ˜¯1ï¼Œåˆ™ç»“æœä¸º1ï¼Œå¦åˆ™ä¸º0                        | ï¼ˆAï¼†Bï¼‰ï¼Œå¾—åˆ°12ï¼Œå³0000 1100  |
| \|     | å¦‚æœç›¸å¯¹åº”ä½éƒ½æ˜¯ 0ï¼Œåˆ™ç»“æœä¸º 0ï¼Œå¦åˆ™ä¸º 1                     | ï¼ˆA \| Bï¼‰å¾—åˆ°61ï¼Œå³ 0011 1101 |
| ^      | å¦‚æœç›¸å¯¹åº”ä½å€¼ç›¸åŒï¼Œåˆ™ç»“æœä¸º0ï¼Œå¦åˆ™ä¸º1                       | ï¼ˆA ^ Bï¼‰å¾—åˆ°49ï¼Œå³ 0011 0001  |
| ã€œ     | æŒ‰ä½å–åè¿ç®—ç¬¦ç¿»è½¬æ“ä½œæ•°çš„æ¯ä¸€ä½ï¼Œå³0å˜æˆ1ï¼Œ1å˜æˆ0ã€‚         | ï¼ˆã€œAï¼‰å¾—åˆ°-61ï¼Œå³1100 0011    |
| <<     | æŒ‰ä½å·¦ç§»è¿ç®—ç¬¦ã€‚å·¦æ“ä½œæ•°æŒ‰ä½å·¦ç§»å³æ“ä½œæ•°æŒ‡å®šçš„ä½æ•°ã€‚         | A << 2å¾—åˆ°240ï¼Œå³ 1111 0000    |
| >>     | æŒ‰ä½å³ç§»è¿ç®—ç¬¦ã€‚å·¦æ“ä½œæ•°æŒ‰ä½å³ç§»å³æ“ä½œæ•°æŒ‡å®šçš„ä½æ•°ã€‚         | A >> 2å¾—åˆ°15å³ 1111            |
| >>>    | æŒ‰ä½å³ç§»è¡¥é›¶æ“ä½œç¬¦ã€‚å·¦æ“ä½œæ•°çš„å€¼æŒ‰å³æ“ä½œæ•°æŒ‡å®šçš„ä½æ•°å³ç§»ï¼Œç§»åŠ¨å¾—åˆ°çš„ç©ºä½ä»¥é›¶å¡«å……ã€‚ | A>>>2å¾—åˆ°15å³0000 1111         |

```
public class Test {
  public static void main(String[] args) {
     int a = 60; /* 60 = 0011 1100 */ 
     int b = 13; /* 13 = 0000 1101 */
     int c = 0;
     c = a & b;       /* 12 = 0000 1100 */
     System.out.println("a & b = " + c );
 
     c = a | b;       /* 61 = 0011 1101 */
     System.out.println("a | b = " + c );
 
     c = a ^ b;       /* 49 = 0011 0001 */
     System.out.println("a ^ b = " + c );
 
     c = ~a;          /*-61 = 1100 0011 */
     System.out.println("~a = " + c );
 
     c = a << 2;     /* 240 = 1111 0000 */
     System.out.println("a << 2 = " + c );
 
     c = a >> 2;     /* 15 = 1111 */
     System.out.println("a >> 2  = " + c );
  
     c = a >>> 2;     /* 15 = 0000 1111 */
     System.out.println("a >>> 2 = " + c );
  }
} 
```

ä»¥ä¸Šå®ä¾‹ç¼–è¯‘è¿è¡Œç»“æœå¦‚ä¸‹ï¼š

```
a & b = 12
a | b = 61
a ^ b = 49
~a = -61
a << 2 = 240
a >> 2  = 15
a >>> 2 = 15
```

### [javaè¿ç®—ç¬¦ ä¸ï¼ˆ&ï¼‰ã€éï¼ˆ~ï¼‰ã€æˆ–ï¼ˆ|ï¼‰ã€å¼‚æˆ–ï¼ˆ^ï¼‰](https://www.cnblogs.com/jpfss/p/11014780.html)

1.åè¿›åˆ¶è½¬äºŒè¿›åˆ¶

åŸç†ï¼šç»™å®šçš„æ•°å¾ªç¯é™¤ä»¥2ï¼Œç›´åˆ°å•†ä¸º0æˆ–è€…1ä¸ºæ­¢ã€‚å°†æ¯ä¸€æ­¥é™¤çš„ç»“æœçš„ä½™æ•°è®°å½•ä¸‹æ¥ï¼Œç„¶ååè¿‡æ¥å°±å¾—åˆ°ç›¸åº”çš„äºŒè¿›åˆ¶äº†ã€‚

æ¯”å¦‚8è½¬äºŒè¿›åˆ¶ï¼Œç¬¬ä¸€æ¬¡é™¤ä»¥2ç­‰äº4ï¼ˆä½™æ•°0ï¼‰ï¼Œç¬¬äºŒæ¬¡é™¤ä»¥2ç­‰äº2ï¼ˆä½™æ•°0ï¼‰ï¼Œç¬¬ä¸‰æ¬¡é™¤ä»¥2ç­‰äº1ï¼ˆä½™æ•°0ï¼‰ï¼Œæœ€åä½™æ•°1ï¼Œå¾—åˆ°çš„ä½™æ•°ä¾æ¬¡æ˜¯0 0 0 1 ï¼Œ

åè¿‡æ¥å°±æ˜¯1000ï¼Œè®¡ç®—æœºå†…éƒ¨è¡¨ç¤ºæ•°çš„å­—èŠ‚é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œæ¯”å¦‚8ä½ï¼Œ16ä½ï¼Œ32ä½ã€‚æ‰€ä»¥åœ¨é«˜ä½è¡¥é½ï¼Œjavaä¸­å­—èŠ‚ç æ˜¯8ä½çš„ï¼Œæ‰€ä»¥é«˜ä½è¡¥é½å°±æ˜¯00001000.

å†™æ³•ä½ï¼ˆ8ï¼‰10=ï¼ˆ00001000ï¼‰2ï¼›

```
package sourceCode.hashMap;

public class mapHashCodeTest {
    public static void main(String[] args) {
        String str = toBinary(8);
        System.out.println(str);
    }

    static String toBinary(int num) {
        String str = "";
        while (num != 0) {
            str = num % 2 + str;
            num = num / 2;
        }
        return str;
    }

}
```

è¿è¡Œç»“æœï¼š1000

2.äºŒè¿›åˆ¶è½¬åè¿›åˆ¶

è®¡ç®—ä¹Ÿå¾ˆç®€å•ï¼Œæ¯”å¦‚8çš„äºŒè¿›åˆ¶è¡¨ç¤ºä½00001000ï¼Œå»æ‰è¡¥é½çš„é«˜ä½å°±æ˜¯1000.æ­¤æ—¶ä»ä¸ªä½å¼€å§‹è®¡ç®—2çš„å¹‚ï¼ˆä¸ªä½æ˜¯0ï¼Œä¾æ¬¡å¾€åæ¨ï¼‰ä¹˜ä»¥å¯¹åº”ä½æ•°ä¸Šçš„æ•°ï¼Œç„¶åå¾—åˆ°çš„å€¼æƒ³åŠ 

äºæ˜¯æœ‰äº†ï¼Œï¼ˆ2çš„0æ¬¡å¹‚ï¼‰*0+ï¼ˆ2çš„1æ¬¡å¹‚ï¼‰*0+ï¼ˆ2çš„2æ¬¡å¹‚ï¼‰*0+ï¼ˆ2çš„3æ¬¡å¹‚ï¼‰*1 = 8

ä»£ç å®ç°ï¼Œç›´æ¥è°ƒç”¨Integer.parseInt("",2);

```
1 System.out.println(Integer.parseInt("1000",2));
```

è¿è¡Œç»“æœï¼š8

3.ä½å¼‚æˆ–è¿ç®—ï¼ˆ^ï¼‰

è¿ç®—è§„åˆ™æ˜¯ï¼šä¸¤ä¸ªæ•°è½¬ä¸ºäºŒè¿›åˆ¶ï¼Œç„¶åä»é«˜ä½å¼€å§‹æ¯”è¾ƒï¼Œå¦‚æœç›¸åŒåˆ™ä¸º0ï¼Œä¸ç›¸åŒåˆ™ä¸º1ã€‚

æ¯”å¦‚ï¼š8^11.

8è½¬ä¸ºäºŒè¿›åˆ¶æ˜¯1000ï¼Œ11è½¬ä¸ºäºŒè¿›åˆ¶æ˜¯1011.ä»é«˜ä½å¼€å§‹æ¯”è¾ƒå¾—åˆ°çš„æ˜¯ï¼š0011.ç„¶åäºŒè¿›åˆ¶è½¬ä¸ºåè¿›åˆ¶ï¼Œå°±æ˜¯Integer.parseInt("0011",2)=3;

 

å»¶ä¼¸ï¼š

4.ä½ä¸è¿ç®—ç¬¦ï¼ˆ&ï¼‰

è¿ç®—è§„åˆ™ï¼šä¸¤ä¸ªæ•°éƒ½è½¬ä¸ºäºŒè¿›åˆ¶ï¼Œç„¶åä»é«˜ä½å¼€å§‹æ¯”è¾ƒï¼Œå¦‚æœä¸¤ä¸ªæ•°éƒ½ä¸º1åˆ™ä¸º1ï¼Œå¦åˆ™ä¸º0ã€‚

æ¯”å¦‚ï¼š129&128.

129è½¬æ¢æˆäºŒè¿›åˆ¶å°±æ˜¯10000001ï¼Œ128è½¬æ¢æˆäºŒè¿›åˆ¶å°±æ˜¯10000000ã€‚ä»é«˜ä½å¼€å§‹æ¯”è¾ƒå¾—åˆ°ï¼Œå¾—åˆ°10000000ï¼Œå³128.

 

5.ä½æˆ–è¿ç®—ç¬¦ï¼ˆ|ï¼‰

è¿ç®—è§„åˆ™ï¼šä¸¤ä¸ªæ•°éƒ½è½¬ä¸ºäºŒè¿›åˆ¶ï¼Œç„¶åä»é«˜ä½å¼€å§‹æ¯”è¾ƒï¼Œä¸¤ä¸ªæ•°åªè¦æœ‰ä¸€ä¸ªä¸º1åˆ™ä¸º1ï¼Œå¦åˆ™å°±ä¸º0ã€‚

æ¯”å¦‚ï¼š129|128.

129è½¬æ¢æˆäºŒè¿›åˆ¶å°±æ˜¯10000001ï¼Œ128è½¬æ¢æˆäºŒè¿›åˆ¶å°±æ˜¯10000000ã€‚ä»é«˜ä½å¼€å§‹æ¯”è¾ƒå¾—åˆ°ï¼Œå¾—åˆ°10000001ï¼Œå³129.

 

**6.ä½éè¿ç®—ç¬¦ï¼ˆ~ï¼‰**

è¿ç®—è§„åˆ™ï¼šå¦‚æœä½ä¸º0ï¼Œç»“æœæ˜¯1ï¼Œå¦‚æœä½ä¸º1ï¼Œç»“æœæ˜¯0.

æ¯”å¦‚ï¼š~37

åœ¨Javaä¸­ï¼Œæ‰€æœ‰æ•°æ®çš„è¡¨ç¤ºæ–¹æ³•éƒ½æ˜¯ä»¥è¡¥ç çš„å½¢å¼è¡¨ç¤ºï¼Œå¦‚æœæ²¡æœ‰ç‰¹æ®Šè¯´æ˜ï¼ŒJavaä¸­çš„æ•°æ®ç±»å‹é»˜è®¤æ˜¯int,intæ•°æ®ç±»å‹çš„é•¿åº¦æ˜¯8ä½ï¼Œä¸€ä½æ˜¯å››ä¸ªå­—èŠ‚ï¼Œå°±æ˜¯32å­—èŠ‚ï¼Œ32bit.

8è½¬ä¸ºäºŒè¿›åˆ¶æ˜¯100101.

è¡¥ç åä¸ºï¼š 00000000 00000000 00000000 00100101

å–åä¸ºï¼š  11111111 11111111 11111111 11011010

å› ä¸ºé«˜ä½æ˜¯1ï¼Œæ‰€ä»¥åŸç ä¸ºè´Ÿæ•°ï¼Œè´Ÿæ•°çš„è¡¥ç æ˜¯å…¶ç»å¯¹å€¼çš„åŸç å–åï¼Œæœ«å°¾å†åŠ 1ã€‚

å› æ­¤ï¼Œæˆ‘ä»¬å¯å°†è¿™ä¸ªäºŒè¿›åˆ¶æ•°çš„è¡¥ç è¿›è¡Œè¿˜åŸï¼š é¦–å…ˆï¼Œæœ«å°¾å‡1å¾—åç ï¼š11111111 11111111 11111111 11011001 å…¶æ¬¡ï¼Œå°†å„ä½å–åå¾—åŸç ï¼š

00000000 00000000 00000000 00100110ï¼Œæ­¤æ—¶äºŒè¿›åˆ¶è½¬åŸç ä¸º38

æ‰€ä»¥~37 = -38. 



## æ‰¾æ‰€æœ‰åŒå‡ºç°ä¸­çš„ä¸¤ä¸ªå•æ•°

é¢˜ç›®ï¼šä¸€ç»„æ•°åªæœ‰ä¸¤ä¸ªæ•°å‡ºç°ä¸€æ¬¡ï¼Œå…¶ä»–å‡ºç°ä¸¤æ¬¡ï¼Œæ‰¾å‡ºè¿™ä¸¤ä¸ªæ•°ï¼š

- å› ä¸ºä¸¤ä¸ªå€¼ä¸åŒï¼Œæ‰€ä»¥ä¸¤ä¸ªå€¼å®šå­˜åœ¨äºŒè¿›åˆ¶æŸä¸€ä½å®šä¸åŒï¼Œç”¨è¿™ä¸¤ä¸ªå€¼çš„å¼‚æˆ–ç»“æœäºŒè¿›åˆ¶ä¸­çš„1ï¼Œä»è€Œå°†æ•°å­—åˆ†æˆä¸¤ç»„ï¼Œè¯¥ä½ä¸º1å’Œä¸ä¸º1

```java
public class Main {
	private static void process(int[] arr) {
		int med = 0;
		for (int a : arr) {
			med ^= a;// ä¸¤ä¸ªä¸åŒçš„å•æ•°^æœ€åå¾—åˆ°med
		}
		int rightOne = med & (~med + 1);// å–å‡ºmedä¸­äºŒè¿›åˆ¶ä¸º1çš„ä½å€¼ï¼ˆå¿…å­˜åœ¨ï¼Œå› ä¸ºä¸åŒå€¼ï¼‰
		int med1 = 0;
		for (int a : arr) {
			// å¯¹åº”ä½ä¸º1çš„å€¼å–å‡ºè¿›è¡Œ^æœ€åçš„åˆ°ä¸¤ä¸ªå•æ•°å¯¹åº”ä½ä¸º1çš„
			// (a&rightOne)== 0å¾—åˆ°å¯¹åº”ä½ä¸º0
			if ((a & rightOne) == rightOne) {
				med1 ^= a;
			}
		}
		System.out.println(med1);// ä¸¤ä¸ªå•æ•°å…¶ä¸­ä¸€ä¸ªå€¼
		System.out.println(med ^ med1);// ä¸¤ä¸ªå•æ•°ä»¤ä¸€ä¸ªå€¼
	}
}

```

## æ•´æ•°äºŒè¿›åˆ¶å¥‡æ•°ä½å¶æ•°ä½äº¤æ¢

é¢˜ç›® : ä¾‹å¦‚ï¼š010110â€”>101001

```
public class Main {
	private static int process(int pos) {
		int pre = 0xAAAAAAAA; // 1010 1010 1010 1010 1010 1010 1010 1010 
		int post = 0x55555555; // 0101 0101 0101 0101 0101 0101 0101 0101 
		pre &= pos;
		post &= pos;
		pre >>= 1;
		post <<= 1;
		return pos + post;
	}
}

```



## æ•°ç»„ä¸­å…¨éƒ¨å‡ºç°kæ¬¡è¿”å›å‡ºç°ä¸€æ¬¡çš„æ•°

é¢˜ç›®ï¼šç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ï¼Œåªæœ‰ä¸€ä¸ªæ•°å‡ºç°äº†ä¸€æ¬¡ï¼Œå…¶ä»–æ•°å­—å‡å‡ºç°äº†ä¸‰æ¬¡ï¼Œè¾“å‡ºè¿™ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°ã€‚

- åªçœ‹å‡ºç°ä¸‰æ¬¡åˆ°æ•°å­—ï¼Œé‚£ä¹ˆå¯¹äºè¿™äº›å€¼çš„äºŒè¿›åˆ¶ä½çš„ç´¯åŠ å’Œå®šèƒ½è¢«3æ•´é™¤ã€‚
- ç°åœ¨å‡ºç°äº†ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„æ•°ï¼Œç”±äºè¯¥æ•°çš„å­˜åœ¨ï¼Œæ‰€æœ‰äºŒè¿›åˆ¶ä½ç´¯åŠ å’Œé™¤ä»¥3çš„ä½™æ•°å°±æ˜¯è¯¥å€¼çš„å¯¹åº”äºŒè¿›åˆ¶ä½æ•°ã€‚
- é™¤äº†3ï¼Œä¸»è¦æ˜¯å¤§äºç­‰äº2éƒ½å¯ä»¥è¿™æ ·åšã€‚

```
public class Main {
	public static int twoSingleNum(int[] arr) {
		int[] bit = new int[32];// æ¯ä¸€ä½æ±‚å’Œ
		for (int a : arr) {
			int b = 1;
			for (int i = 31; i >= 0; --i) {
				if ((a & b) != 0) {// ä¸º1å°±ç´¯åŠ 
					++bit[i];
				}
				b <<= 1;// æ¢ä½
			}
		}
		int res = 0;
		for (int i = 0; i < 32; ++i) {
			res = res << 1;
			res += (bit[i] % 3);// å–ä½™æ•°
		}
		return res;
	}
}

```





# é“¾è¡¨

## åˆ¤è¯»é“¾è¡¨å…ƒç´ æ˜¯å¦å›æ–‡

### åˆ©ç”¨æ ˆç»“æ„

- å…ˆéå†åå…¨éƒ¨å…¥æ ˆï¼Œç„¶åå†éå†å’Œæ ˆä¸­å…ƒç´ ä¾æ¬¡æ¯”è¾ƒã€‚

```java
public class Main {
	public static boolean process(Node header) {
		if (header == null) {
			return false;
		}
		Stack<Node> stack = new Stack<>();
		Node tail = header;
		while (tail != null) {
			stack.push(tail);
			tail = tail.next;
		}
		tail = header;
		while (tail != null) {
			if (stack.pop().value != tail.value) {
				return false;
			}
		}
		return true;
	}

	public static class Node {
		int value;
		Node next;
	}
}

```

### åˆ©ç”¨æ ˆç»“æ„å’Œå¿«æ…¢æŒ‡é’ˆ

- å…ˆç”¨å¿«æ…¢æŒ‡é’ˆå®šä½ä¸­é—´ä½ç½®ï¼Œç„¶åç»§ç»­è¿åŠ¨æ…¢æŒ‡é’ˆä¾æ¬¡å’Œæ ˆä¸­å…ƒç´ è¿›è¡Œæ¯”è¾ƒã€‚éœ€è¦æ³¨æ„é“¾è¡¨æ•´ä½“çš„ä¸ªæ•°æ˜¯åŒæ˜¯å•ã€‚

```java
public class Main {
	public static boolean process(Node header) {
		if (header == null) {
			return false;
		}
		Node slow = header;
		Node quick = header;
		Stack<Node> stack = new Stack<>();
		while (quick.next != null && quick.next.next != null) {
			stack.push(slow);
			slow = slow.next;
			quick = quick.next.next;
		}
		// æ­¤æ—¶è‹¥æ•´ä¸ªé“¾è¡¨ä¸ºåŒæ•°ï¼ŒslowæŒ‡å‘ä¸Šä¸€åŠçš„æœ€åä¸€ä¸ªï¼Œéœ€è¦å…¥æ ˆslow
		// è‹¥ä¸ºå•æ•°ï¼ŒæŒ‡å‘ä¸­é—´å…ƒç´ ï¼Œä¸éœ€è¦å…¥æ ˆslow
		// å•åŒæ•°çš„åˆ¤æ–­ç”±quickçš„ç»ˆæ­¢æ¡ä»¶ç¡®å®š
		if (quick.next!=null) {
			stack.push(slow);
		}
		slow = slow.next;
		while (!stack.isEmpty()) {
			if (slow.value != stack.pop().value) {
				return false;
			}
		}
		return true;
	}

	public static class Node {
		int value;
		Node next;
	}
}

```



### å¿«æ…¢æŒ‡é’ˆå’Œé“¾è¡¨åå‘

```java
public class Main {
	public static boolean process(Node header) {
		if (header == null) {
			return false;
		}
		Node slow = header;
		Node quick = header;
		while (quick.next != null && quick.next.next != null) {
			slow = slow.next;
			quick = quick.next.next;
		}
		slow=slow.next;
		Node preNode=null;
		Node postNode=null;
		// ååŠæ®µåè½¬
		while (slow!=null) {
			preNode=slow.next;
			slow.next=postNode;
			postNode=slow;
			slow=preNode;
		}
		Node tailLeft=header;
		Node tailRight=postNode;
		boolean flag=true;
		// ä¸¤è¾¹å‘ä¸­é—´åˆ¤æ–­
		while (tailRight!=null) {
			if (tailLeft.value!=tailRight.value) {
				flag=false;
				break;
			}
			tailLeft=tailLeft.next;
			tailRight=tailRight.next;
		}
		Node tailNode=null;
		// ååŠæ®µé“¾è¡¨æ¢å¤
		while (postNode!=null) {
			preNode=postNode.next;
			postNode.next=tailNode;
			tailNode=postNode;
			postNode=preNode;
		}
		return flag;
	}

	public static class Node {
		int value;
		Node next;
	}
}

```







ç©ºé—´å¤æ‚åº¦ä¸ºo(1)
å¿«æ…¢æŒ‡é’ˆ,ä»ç»ˆç‚¹å¼€å§‹ï¼Œå°†ååŠæ®µç¿»è½¬ï¼Œç„¶åç”¨å¤´å°¾èŠ‚ç‚¹éå†å¼€å§‹æ¯”å¯¹

```
node node1 = head;
node node2 = head;
while(node2.next!=null&&node2.next.next!=null){
  node1=node1.next;
  node2=node2.next.next;
}

```

![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142095356-102e2456-154b-4a69-8741-8297cc0df337.png)
![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142095813-184c2d8a-b460-4225-94a6-03832ea7fa52.png)



## ä¸‰åˆ†é“¾è¡¨

ç»™å®šä¸€ä¸ªå€¼ï¼Œå°†æ¯”è¯¥å€¼å°çš„èŠ‚ç‚¹æ”¾å·¦è¾¹ï¼Œå¤§çš„æ”¾å³è¾¹

å€ŸåŠ©å…­ä¸ªå˜é‡ã€‚åˆ†åˆ«æ˜¯å°äºåŸºå‡†èŠ‚ç‚¹çš„å­é“¾è¡¨å¤´å°¾èŠ‚ç‚¹ã€å¤§äºçš„å¤´å°¾ã€ç­‰äºçš„å¤´å°¾ã€‚ç„¶ååˆå¹¶å°äºå’Œç­‰äºçš„éƒ¨åˆ†ã€‚ç„¶ååˆ†åˆ«å¯¹ä¸¤ä¸ªå­é“¾è¡¨é€’å½’æ‰§è¡Œä»¥ä¸Šæ“ä½œã€‚è¿”å›ä»¥åå°±åˆå¹¶ä¸¤ä¸ªå­é“¾è¡¨ã€‚åŸºæœ¬è·Ÿå¿«æ‹çš„æ“ä½œä¸€è‡´ã€‚

- è¯¥é¢˜å¹¶ä¸æ˜¯æ€ç»´ä¸Šéš¾ç‚¹ï¼Œä¸»è¦æ˜¯æ³¨æ„è¾¹ç•Œæ¡ä»¶

```java
class SEL{
    public static Node sEL(Node header,int pivot){
        Node head_1=null;
        Node tail_1=null;
        Node head_2=null;
        Node tail_2=null;
        Node head_3=null;
        Node tail_3=null;
        Node nextNode=null;
        while (header!=null){
            nextNode=header.next;
            header.next=null;
            if (header.num<pivot){
                if (head_1==null){
                    head_1=header;
                    tail_1=header;
                }else { 
                    tail_1.next=header;
                    tail_1=tail_1.next;
                }
            }else if (header.num==pivot){
                if (head_2==null){
                    head_2=header;
                    tail_2=header;
                }else {
                    tail_2.next=header;
                    tail_2=tail_2.next;
                }
            }else {
                if (head_3==null){
                    head_3=header;
                    tail_3=header;
                }else {
                    tail_3.next=header;
                    tail_3=tail_3.next;
                }
            }
            header=nextNode;
        }
        if (tail_1==null){
            if (tail_2==null){
                return head_3;
            }else {
                tail_2.next=head_3;
                return head_2;
            }
        }else {
            if (tail_2==null){
                tail_1.next=head_3;
            }else {
                tail_1.next=head_2;
                tail_2.next=head_3;
            }
            return head_1;
        }
    }
	public static class Node {
		int value;
		Node next;
	}
}

```







## ç”¨å¿«æ’çš„æ€æƒ³å®ç°å•é“¾è¡¨çš„æ’åº



## å¤åˆ¶å¸¦randæŒ‡é’ˆçš„å•é“¾è¡¨ï¼Œè¦æ±‚ç©ºé—´å¤æ‚åº¦01





![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142204359-3b6bd820-aa26-421d-8915-1c57cb0e0c44.png)

å°†å¤åˆ¶çš„èŠ‚ç‚¹ç›´æ¥è¿åœ¨åŸæ¥èŠ‚ç‚¹çš„åé¢ï¼Œç„¶åæ‰§è¡Œå¤åˆ¶èŠ‚ç‚¹çš„randèŠ‚ç‚¹çš„æŒ‡å‘æ“ä½œã€‚ç„¶åå»æ‰è€èŠ‚ç‚¹å°±æ˜¯æ–°çš„å¤åˆ¶çš„é“¾è¡¨ï¼Œ
![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142204315-a050c13c-f9b3-4507-b91d-96454758b0c9.png)

![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142203370-5b7792a7-ff35-498e-8c26-ffbb7177ca83.png)



## åˆ¤æ–­å•é“¾è¡¨æ˜¯å¦æœ‰ç¯

åˆ¤æ–­é“¾è¡¨æ˜¯å¦æœ‰ç¯ï¼Œè‹¥æœ‰è¿”å›ç¬¬ä¸€ä¸ªå…¥ç¯èŠ‚ç‚¹

æµç¨‹ï¼šä¸€å¼€å§‹å¿«æ…¢æŒ‡é’ˆéƒ½åœ¨å¼€å§‹èŠ‚ç‚¹å¤„ã€‚å¿«æŒ‡é’ˆèµ°ä¸¤æ­¥ï¼Œæ…¢æŒ‡é’ˆèµ°ä¸€æ­¥ã€‚ç„¶åä¸€ç›´èµ°ã€‚å¦‚æœç›¸é‡ï¼Œå¿«æŒ‡é’ˆå›åˆ°å¼€å§‹èŠ‚ç‚¹å¤„ï¼Œå¼€å§‹èµ°ä¸€æ­¥ï¼Œæ…¢æŒ‡é’ˆä¹Ÿèµ°ä¸€æ­¥ï¼Œä¸‹ä¸€æ¬¡ç›¸é‡çš„æ—¶å€™å°±æ˜¯ç¯çš„å…¥å£ã€‚

æ…¢:1 å¿«:2
è‹¥æ…¢:1å¿«3ï¼š
éƒ½å…¥ç¯æ—¶ç›¸å·®å¥‡æ•°æ­¥ï¼Œä¸”ç¯èŠ‚ç‚¹æ•°é‡ä¸ºå¶æ•°åˆ™æ°¸ä¸ç›¸äº¤,éƒ½å…¥ç¯æ—¶ç›¸å·®å¥‡æ•°æ­¥è¯´æ˜æ¯æ¬¡å·®å€¼å‡å°‘2æ­¥ï¼Œå®šåœ¨ç¬¬ä¸€è½®åè¶…ï¼Œæ­¤æ—¶å·® ç¯èŠ‚ç‚¹ä¸ªæ•°-1ï¼Œè‹¥è¯¥å€¼ä»ä¸ºå¥‡æ•°ï¼Œé‚£ä¹ˆç¬¬äºŒè½®ä¹Ÿåè¶…ï¼Œæ•…æ°¸ä¸ç›¸é‡

æµç¨‹ï¼šä¸€å¼€å§‹å¿«æ…¢æŒ‡é’ˆéƒ½åœ¨å¼€å§‹èŠ‚ç‚¹å¤„ã€‚å¿«æŒ‡é’ˆèµ°ä¸¤æ­¥ï¼Œæ…¢æŒ‡é’ˆèµ°ä¸€æ­¥ã€‚ç„¶åä¸€ç›´èµ°ã€‚å¦‚æœç›¸é‡ï¼Œå¿«æŒ‡é’ˆå›åˆ°å¼€å§‹èŠ‚ç‚¹å¤„ï¼Œå¼€å§‹èµ°ä¸€æ­¥ï¼Œæ…¢æŒ‡é’ˆä¹Ÿèµ°ä¸€æ­¥ï¼Œä¸‹ä¸€æ¬¡ç›¸é‡çš„æ—¶å€™å°±æ˜¯ç¯çš„å…¥å£ã€‚
 é€šè¿‡è®¡ç®—aå’Œbèµ°çš„ä½ç½®å¯ä»¥æ¨å¯¼å‡ºæ¥ã€‚

```
    private static Node hasCircle(Node header){
        if (header==null)return null;
        boolean flag=false;
        Node slow=header;
        Node quick=header;
        //
        // æœ‰ç¯è‚¯å®šä¼šç›¸é‡
        while (quick.next!=null&&quick.next.next!=null){
            slow=slow.next;
            quick=quick.next.next;
            if (slow==quick){//åˆ¤æ–­æ˜¯å¦å´æœ‰ç¯
                flag=true;
                break;
            }
        }
        if (!flag)return null;
        quick=header;
        while (quick!=slow){//ç›¸é‡æ—¶å°†å…¶ä¸­ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘headerèµ°ç›¸åŒçš„æ­¥æ•°å®šåœ¨å…¥ç¯èŠ‚ç‚¹ç›¸é‡
            quick=quick.next;
            slow=slow.next;
        }
        return quick;
    }
```





## é“¾è¡¨ç¯é—®é¢˜	







 ![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142207642-041fc64c-815b-4c76-9b94-c4006bf3a1fc.png)










## ä¸¤ä¸ªå•é“¾è¡¨ç›¸äº¤çš„é—®é¢˜

![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142204613-79d522e5-27e2-4b7d-8835-b3b9a72f6109.png)

1.å…ˆæ ¹æ®ä¸Šé¢çš„æ–¹æ³•åˆ¤æ–­ä¸¤ä¸ªé“¾è¡¨æœ‰æ²¡æœ‰ç¯ã€‚
2å¦‚æœä¸¤ä¸ªé“¾è¡¨éƒ½æ²¡æœ‰ç¯çš„è¯ï¼Œåˆ™è¯´æ˜ä¸¤ä¸ªå•é“¾è¡¨è¦ä¹ˆæ²¡æœ‰ç›¸äº¤ï¼Œè¦ä¹ˆå°¾éƒ¨çš„ä¸€å°æ®µæ˜¯å…¬å…±éƒ¨åˆ†ã€‚
 è¿™ä¸ªæ—¶å€™å°±åˆ†åˆ«éå†ä¸¤ä¸ªé“¾è¡¨ï¼Œè®°å½•é•¿åº¦å’Œå°¾ç»“ç‚¹ï¼Œçœ‹ä¸€ä¸‹å°¾ç»“ç‚¹çš„å†…å­˜åœ°å€æ˜¯ä¸æ˜¯åŒä¸€ä¸ªï¼Œå¦‚æœä¸æ˜¯åŒä¸€ä¸ªï¼Œåˆ™è‚¯å®šä¸æƒ³äº¤ã€‚
 å¦‚æœæ˜¯åŒä¸€ä¸ªï¼Œå°±æ ¹æ®ä¸¤ä¸ªé“¾è¡¨çš„é•¿åº¦ï¼Œé•¿çš„å…ˆèµ°åˆ°å‰©ä½™é•¿åº¦ä¸€è‡´çš„èŠ‚ç‚¹ï¼Œç„¶åä¸€èµ·éå†ï¼Œç›´åˆ°æ‰¾åˆ°å†…å­˜åœ°å€ä¸€æ ·çš„èŠ‚ç‚¹ï¼Œè¿™ä¸ªå°±æ˜¯ç›¸äº¤éƒ¨åˆ†ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚

3.å¦‚æœä¸€ä¸ªæœ‰ç¯ä¸€ä¸ªæ— ç¯ï¼Œåˆ™ä¸å¯èƒ½ç›¸äº¤çš„ã€‚
4.å¦‚æœä¸¤ä¸ªéƒ½æœ‰ç¯ï¼š
  ![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142335167-abff9244-c9d5-4aac-9c56-c5a22e371a70.png)
  é€šè¿‡ä¸Šé¢çš„æ–¹æ³•æˆ‘ä»¬å¯ä»¥æ‹¿åˆ°ä¸¤ä¸ªç¯çš„å…¥ç¯ä½ç½®ã€‚å¦‚æœç›¸ç­‰ï¼Œåˆ™å˜æˆäº†2çš„æ–¹æ³•æ‰¾ç›¸äº¤éƒ¨åˆ†ã€‚
  å¦‚æœä¸ç›¸ç­‰ï¼Œå°±è¦åŒºåˆ†ä¸€ä¸‹å›¾ä¸­1å’Œ3ä¸¤ç§æƒ…å†µï¼š
 è®©loop1ç»§ç»­å¾€ä¸‹èµ°ï¼Œç›´åˆ°è½¬äº†ä¸€åœˆã€‚
     - å¦‚æœèƒ½é‡åˆ°loop2å°±æ˜¯3çš„æƒ…å†µï¼Œç›¸äº¤ï¼Œè¿”å›loop1æˆ–è€…loop2éƒ½å¯ä»¥ï¼Œéƒ½ç®—ç›¸äº¤çš„èŠ‚ç‚¹ã€‚
          - å¦‚æœé‡ä¸åˆ°loop2å°±æ˜¯1çš„æƒ…å†µã€‚ ä¸æƒ³äº¤


![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142336010-5d834c73-3d6a-476f-808f-f1582a387e9c.png)







```java
class List{
    /*
    æœ‰ç¯ï¼š
            1.åŒç¯ï¼š
                - å…¥ç¯èŠ‚ç‚¹ç›¸åŒ  è¿”å›ç›¸äº¤èŠ‚ç‚¹
                - å…¥ç¯èŠ‚ç‚¹ä¸åŒ  è¿”å›å…¶ä¸­ä¸€ä¸ªå…¥ç¯èŠ‚ç‚¹
            2.ä¸åŒç¯ï¼š
                - è¿”å›null
     æ— ç¯ï¼š
            1.ç›¸äº¤ï¼š
                - è¿”å›ç›¸äº¤èŠ‚ç‚¹
            2.ä¸ç›¸äº¤ï¼š
                - è¿”å›null
     */
    public static Node getIntersectNode(Node head1, Node head2) {
        if (head1 == null || head2 == null) {
            return null;
        }
        Node loop1 = hasCircle(head1);
        Node loop2 = hasCircle(head2);
        if (loop1 == null && loop2 == null) {
            return noLoop(head1, head2);//æ— ç¯ï¼Œåˆ¤æ–­æ˜¯å¦ä¸ºé“¾å¼ç›¸äº¤æˆ–ä¸ç›¸äº¤
        }
        if (loop1 != null && loop2 != null) {
            return bothLoop(head1, loop1, head2, loop2);//æœ‰ç¯ï¼Œè¿”å›ç›¸äº¤èŠ‚ç‚¹
        }
        return null;//ä¸€æœ‰ç¯ï¼Œä¸€æ— ç¯å¿…å®šä¸ç›¸äº¤
    }


    private static Node hasCircle(Node header){
        if (header==null)return null;
        boolean flag=false;
        Node slow=header;
        Node quick=header;
        while (quick.next!=null&&quick.next.next!=null){
            slow=slow.next;
            quick=quick.next.next;
            if (slow==quick){//åˆ¤æ–­æ˜¯å¦å´æœ‰ç¯
                flag=true;
                break;
            }
        }
        if (!flag)return null;
        quick=header;
        while (quick!=slow){//ç›¸é‡æ—¶å°†å…¶ä¸­ä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘headerèµ°ç›¸åŒçš„æ­¥æ•°å®šåœ¨å…¥ç¯èŠ‚ç‚¹ç›¸é‡
            quick=quick.next;
            slow=slow.next;
        }
        return quick;
    }

    private static Node noLoop(Node head1, Node head2) {
        if (head1 == null || head2 == null) {
            return null;
        }
        Node cur1 = head1;
        Node cur2 = head2;
        int n = 0;
        //è®¡ç®—é“¾è¡¨å·®å€¼
        while (cur1.next != null) {
            n++;
            cur1 = cur1.next;
        }
        while (cur2.next != null) {
            n--;
            cur2 = cur2.next;
        }
        if (cur1 != cur2) {
            return null;
        }
        cur1 = n > 0 ? head1 : head2;
        cur2 = cur1 == head1 ? head2 : head1;
        n = Math.abs(n);
        //é•¿çš„èµ°åˆ°å’ŒçŸ­çš„é•¿åº¦åŒä½ç½®
        while (n != 0) {
            n--;
            cur1 = cur1.next;
        }
        //åˆ¤æ–­æ˜¯å¦æœ‰ç›¸åŒèŠ‚ç‚¹ï¼Œè‹¥æ— å°±ä¼šèµ°åˆ°æœ€åè¿”å›null
        while (cur1 != cur2) {
            cur1 = cur1.next;
            cur2 = cur2.next;
        }
        return cur1;
    }

    private static Node bothLoop(Node head1, Node loop1, Node head2, Node loop2) {
        Node cur1 = null;
        Node cur2 = null;
        if (loop1 == loop2) {
            cur1 = head1;
            cur2 = head2;
            int n = 0;
            while (cur1 != loop1) {
                n++;
                cur1 = cur1.next;
            }
            while (cur2 != loop2) {
                n--;
                cur2 = cur2.next;
            }
            cur1 = n > 0 ? head1 : head2;
            cur2 = cur1 == head1 ? head2 : head1;
            n = Math.abs(n);
            while (n != 0) {
                n--;
                cur1 = cur1.next;
            }
            while (cur1 != cur2) {
                cur1 = cur1.next;
                cur2 = cur2.next;
            }
            return cur1;
        } else {
            cur1 = loop1.next;
            while (cur1 != loop1) {
                if (cur1 == loop2) {
                    return loop1;//ç¯å†…ç›¸äº¤
                }
                cur1 = cur1.next;
            }
            return null;//ä¸¤ä¸ªæœ‰ç¯é“¾è¡¨ç¯ä¸æ˜¯åŒä¸€ä¸ª
        }
    }
    public class Node{
	    int value;
	    Node next;
	}
}

```





### 

# äºŒå‰æ ‘

## ä¸€å¥—æ‹³æ³•ğŸ‘Šåˆ·æ‰nä¸ªéå†æ ‘çš„é—®é¢˜

https://leetcode-cn.com/problems/convert-bst-to-greater-tree/solution/yi-tao-quan-fa-shua-diao-nge-bian-li-shu-de-wen-5/



## é€’å½’éå†

![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142337278-120e5275-fd69-415a-8cc1-31a7a2dcb965.png)

## éé€’å½’éå†

è‡ªå·±è¿›è¡Œå‹æ ˆçš„æ“ä½œã€‚

### å…ˆåºéå†ï¼š

- æ–°å»ºä¸€ä¸ªstack
- 1.å…ˆæ”¾å…¥å¤´ç»“ç‚¹ï¼Œ
  2 å†å¼¹ä¸€ä¸ªå‡ºæ¥å¤´ç»“ç‚¹ã€‚
  æ ˆå¼¹å‡ºä¸€ä¸ªå¤´èŠ‚ç‚¹å¼¹å‡ºï¼Œç„¶åæ‰“å°ï¼Œç„¶åå³èŠ‚ç‚¹åŠ å…¥æ ˆä¸­ï¼Œå·¦èŠ‚ç‚¹åŠ å…¥æ ˆä¸­ã€‚å‘¨è€Œå¤å§‹ç›´åˆ°æ ˆä¸­å…ƒç´ ä¸ºç©ºã€‚
  æ³¨æ„å…ˆå‹å³èŠ‚ç‚¹å†å‹å·¦èŠ‚ç‚¹

![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142418160-c72f1041-1001-4b4b-9d8a-830208e8a8d0.png)

### ä¸­åºéå†


å·¦å­æ ‘ä¸€æºœçƒŸå„¿è¿›æ ˆï¼Œç›¸å½“äºæ‰¾åˆ°æœ€å·¦å­èŠ‚ç‚¹ï¼Œç„¶åå¼¹å‡ºï¼Œæ‰“å°ã€‚ç„¶åå³èŠ‚ç‚¹è¿›æ ˆï¼Œå³èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹è·Ÿç€ä¸€æºœçƒŸå„¿è¿›æ ˆã€‚ç„¶åè¿”å›å¼€å§‹å‘¨è€Œå¤å§‹ã€‚ç›´åˆ°æ ˆä¸­å…ƒç´ ä¸ºç©ºã€‚

![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142419929-989b9ca9-3c3c-49d7-8a69-b9ece28decd9.png)

![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142420645-4a4cd13f-3eed-4925-9534-616ff213b190.png)

```java
class Solution {
     List<Integer> lists=new ArrayList<>();
    public List<Integer> inorderTraversal(TreeNode root) {
      
      Stack<TreeNode> st=new Stack<>();
      if(root==null) return lists;
      while(root!=null||!st.isEmpty()){
          while(root!=null){
              st.push(root);
              root=root.left;
          }
          root=st.pop();
          lists.add(root.val);
          root=root.right;
      }
    return lists;
    }
}
```







### åç»­éå†

å€ŸåŠ©ä¸€ä¸ªè¾…åŠ©çš„æ ˆï¼ŒæŒ‰ç…§å…ˆåºéå†çš„æ–¹æ³•å‹æ ˆï¼Œæ”¹æˆå¼¹å‡ºä¸€ä¸ªèŠ‚ç‚¹ä»¥åæ”¾å…¥åˆ°è¾…åŠ©æ ˆä¸­ï¼Œç„¶åå…ˆå‹å³è¾¹å†å‹å·¦è¾¹å­èŠ‚ç‚¹çš„æ€è·¯ã€‚æœ€åå‹æ ˆä¸ºç©ºçš„æ—¶å€™ï¼ŒæŒ¨ä¸ªå¼¹å‡ºè¾…åŠ©æ ˆï¼Œå°±æˆäº†åç»­éå†äº†ã€‚

![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142418738-d23990ea-809d-4c7c-8846-88d565339640.png)
![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142419498-75ea6f21-e8d5-4138-b107-4ee68a101585.png)



```
class Solution {
    List<Integer> res = new ArrayList<>();
    public List<Integer> postorderTraversal(TreeNode root) {
          if (root == null){
              return res;
          }
        Stack<TreeNode> s1 = new Stack<>();
        Stack<TreeNode> s2 = new Stack<>();
        s1.push(root);
        while(!s1.isEmpty()){
        root = s1.pop();
        s2.push(root);
        if(root.left!=null){
             s1.add(root.left);
        }
            if(root.right!=null){
            s1.add(root.right);
        }   
        }
        while(!s2.isEmpty()){
            res.add(s2.pop().val);
        }
        return res;

    }
}
```



```
public class Main {
	public static void postOrder(Node header) {
		if (header == null) {
			return;
		}
		Stack<Node> stack = new Stack<>();
		Stack<Node> postStack = new Stack<>();
		stack.push(header);
		while (!stack.isEmpty()) {
			// å…ˆå³åå·¦çš„å…ˆåºéå†çš„åå‘å°±æ˜¯å…ˆå·¦åå³çš„ååºéå†
			Node popNode = stack.pop();
			postStack.push(popNode);
			if (popNode.leftNode != null) {
				stack.push(popNode.leftNode);
			}
			if (popNode.rightNode != null) {
				stack.push(popNode.rightNode);
			}
		}
		while (!postStack.isEmpty()) {
			System.out.println(postStack.pop().value);
		}
	}

	public static class Node {
		int value;
		Node leftNode;
		Node rightNode;
	}
}

```



æ–¹æ³•2

```
public class Main {
	public static void postOrder(Node header) {
		if (header == null) {
			return;
		}
		Stack<Node> stack = new Stack<Node>();
		stack.push(header);
		Node tail = null;
		while (!stack.isEmpty()) {
			tail = stack.peek();
			if (tail.leftNode != null && header != tail.leftNode && header != tail.rightNode) {
				stack.push(tail.leftNode);
			} else if (tail.rightNode != null && header != tail.rightNode) {
				stack.push(tail.rightNode);
			} else {
				System.out.print(stack.pop().value + " ");
				header = tail;
			}
		}

	}

	public static class Node {
		int value;
		Node leftNode;
		Node rightNode;
	}
}

```



### å±‚æ¬¡éå†



```java
public class Main {
	public static void wedthOrder(Node header) {
		if (header == null) {
			return;
		}
		ArrayDeque<Node> deque = new ArrayDeque<>();
		deque.add(header);
		while (!deque.isEmpty()) {
			Node popNode = deque.poll();
			System.out.println(popNode.value);
			if (popNode.leftNode != null) {
				deque.add(popNode.leftNode);
			}
			if (popNode.rightNode != null) {
				deque.add(popNode.rightNode);
			}
		}
	}

	public static class Node {
		int value;
		Node leftNode;
		Node rightNode;
	}
}

```





## æ±‚äºŒå‰æ ‘çš„å®½åº¦

å±‚æ¬¡éå†ï¼Œç»Ÿè®¡æ ˆçš„é•¿åº¦ã€‚
æˆ–è€…æä¸€ä¸ªé˜Ÿåˆ—ï¼Œæä¸€ä¸ªhashmapï¼Œkeyä¸ºnodeï¼Œvalueä¸ºå±‚æ•°ã€‚ç„¶åæŒ‰ç…§å±‚æ¬¡éå†ï¼Œç»Ÿè®¡æ¯ä¸€å±‚çš„æ•°é‡ã€‚
![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142424040-fe0736b0-dda3-4f43-b2da-d90960f143b3.png)

å¦‚æœå°±æ˜¯ç”¨ä¸€ä¸ªé˜Ÿåˆ—çš„è¯ï¼Œå¯ä»¥æä¸¤ä¸ªå˜é‡ï¼Œä¸€ä¸ªè®°å½•å½“å‰å±‚æœ€åä¸€ä¸ªnodeï¼Œä¸€ä¸ªè®°å½•ä¸‹ä¸€å±‚æœ€åä¸€ä¸ªnodeã€‚å½“å‰éå†çš„èŠ‚ç‚¹ä¸æ˜¯å½“å‰å±‚æœ€åä¸€ä¸ªnodeï¼Œåœ¨å°†å·¦å³å­©å­åŠ å…¥åˆ°é˜Ÿåˆ—çš„æ—¶å€™ï¼Œå°±æ›´æ–°ä¸‹ä¸€å±‚æœ€åä¸€ä¸ªnodeã€‚å¦‚æœç­‰äºå½“å‰å±‚æœ€åä¸€ä¸ªnodeï¼Œåˆ™å°†å·¦å³å­©å­å…¥é˜Ÿåˆ—ä»¥åï¼Œå½“å‰æœ€åä¸€ä¸ªnodeæŒ‡å‘ä¸‹ä¸€å±‚æœ€åä¸€ä¸ªnodeï¼Œä¸‹ä¸€å±‚æœ€åä¸€ä¸ªnodeå¿—ä¸ºç©ºã€‚åŒæ—¶åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­è®°å½•èŠ‚ç‚¹çš„ä¸ªæ•°ï¼Œæ›´æ–°æœ€å¤§å®½åº¦ã€‚

- è¿™é‡Œå¯¹äºæ¯å±‚æ¥è¯´å°±æ˜¯ä¸€ä¸ªå±‚æ¬¡ï¼Œæ‰€ä»¥æ˜¾ç„¶å°±æ˜¯åŸºäºæ¨ªå‘éå†ã€‚
- åœ¨æ¨ªå‘éå†æ—¶æˆ‘ä»¬è¦éšæœºè®°å½•æ¯ä¸ªèŠ‚ç‚¹æ‰€åœ¨å±‚æ•°ï¼Œä»¥ä¾¿åˆ¤æ–­è¯¥å±‚æ˜¯å¦å·²ç»ç»“æŸï¼Œè¿›å…¥äº†ä¸‹ä¸€å±‚ã€‚æœ‰ä¸¤ç§æ–¹å¼è¿›è¡Œå±‚æ•°çš„è®°å½•ï¼š
  - mapç©ºé—´è®°å½•ï¼Œæ¯”è¾ƒè€—ç©ºé—´
  - ç”¨æŒ‡é’ˆè®°å½•æ¯ä¸€å±‚ç»“æŸèŠ‚ç‚¹çš„ä½ç½®

**mapå®ç°**

```
public class Main {
	public static int floorMaxNodeNum(Node header) {
		if (header == null) {
			return 0;
		}
		ArrayDeque<Node> deque = new ArrayDeque<>();
		int thisFloorNum = 0;// è¯¥å±‚èŠ‚ç‚¹ä¸ªæ•°è®°å½•
		int thisFloor = 1;// è¿™æ˜¯ç¬¬å‡ å±‚
		int max = Integer.MIN_VALUE;
		HashMap<Node, Integer> map = new HashMap<>();
		deque.add(header);
		map.put(header, thisFloor);
		while (!deque.isEmpty()) {
			Node popNode = deque.poll();
			if (map.get(popNode) == thisFloor) {// è‹¥æ˜¯è¯¥å±‚å…ƒç´ 
				++thisFloorNum;
			} else {// è‹¥å·²ç»è¿›å…¥ä¸‹ä¸€å±‚ä¸­çš„èŠ‚ç‚¹
				max = Math.max(max, thisFloorNum);
				++thisFloor;
				thisFloorNum = 1;
			}
			// æ¯æ¬¡æ·»åŠ éƒ½è¦åœ¨mapä¸­è®°å½•èŠ‚ç‚¹å±‚æ•°
			if (popNode.leftNode != null) {
				deque.add(popNode.leftNode);
				map.put(popNode.leftNode, thisFloor + 1);
			}
			if (popNode.rightNode != null) {
				deque.add(popNode.rightNode);
				map.put(popNode.rightNode, thisFloor + 1);
			}
		}
		// è¿™ä¸€è¿™é‡Œè¿˜æ˜¯å–æœ€å¤§å€¼ï¼Œæœ€åä¸€å±‚æ²¡æœ‰å’Œmaxæ¯”è¾ƒè¿‡
		return Math.max(max, thisFloorNum);
	}

	public static class Node {
		int value;
		Node leftNode;
		Node rightNode;
	}
}

```



**æŒ‡é’ˆå®ç°**

```
public class Main {
	public static int floorMaxNodeNum(Node header) {
		if (header == null) {
			return 0;
		}
		ArrayDeque<Node> deque = new ArrayDeque<>();
		int thisFloorNum = 0;// è¯¥å±‚èŠ‚ç‚¹ä¸ªæ•°è®°å½•
		int max = Integer.MIN_VALUE;
		Node thisFloorLastNode = header;// è¯¥å±‚æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œåªèƒ½ç»§æ‰¿nextFloorLastNode
		Node nextFloorLastNode = null;// ä¸‹ä¸€å±‚æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œç”¨äºæ›´æ–°thisFloorLastNode
		deque.add(header);
		while (!deque.isEmpty()) {
			Node popNode = deque.poll();
			thisFloorNum++;
			// å…¥é˜Ÿå°±è¦æ›´æ–°nextFloorLastNode
			if (popNode.leftNode != null) {
				deque.add(popNode.leftNode);
				nextFloorLastNode = popNode.leftNode;
			}
			if (popNode.rightNode != null) {
				deque.add(popNode.rightNode);
				nextFloorLastNode = popNode.rightNode;
			}
			// è‹¥è¯¥å±‚ç»“æŸ
			if (popNode == thisFloorLastNode) {
				max = Math.max(max, thisFloorNum);
				thisFloorLastNode = nextFloorLastNode;
				nextFloorLastNode = null;
				thisFloorNum = 0;
			}
		}
		return max;
	}

	public static class Node {
		int value;
		Node leftNode;
		Node rightNode;
	}
}

```





## çœ‹ä¸€ä¸ªäºŒå‰æ ‘æ˜¯ä¸æ˜¯æœç´¢äºŒå‰æ ‘

https://leetcode-cn.com/problems/legal-binary-search-tree-lcci/

ä¸­åºéå†æ˜¯å‡åºçš„å°±æ˜¯æœç´¢äºŒå‰æ ‘ã€‚è®¾ç½®ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œè¡¨ç¤ºä¸Šä¸€ä¸ªéå†çš„èŠ‚ç‚¹çš„å€¼ï¼Œå¦‚æœå½“å‰èŠ‚ç‚¹æ˜¯ç©ºï¼Œè¿”å›TRUEã€‚é€’å½’å·¦å­æ ‘ã€‚å¦‚æœå·¦å­æ ‘è¿”å›FALSEï¼Œå°±è¿”å›FALSEï¼Œå¦‚æœå·¦å­æ ‘è¿”å›TRUEï¼Œçœ‹å½“å‰èŠ‚ç‚¹çš„å€¼æ˜¯å¦å¤§äºå…¨å±€å˜é‡ï¼Œå¦‚æœå°äºï¼Œåˆ™è¿”å›FALSEã€‚å¦‚æœå¤§äºï¼Œè®¾ç½®å…¨å±€å˜é‡ä¸ºå½“å‰èŠ‚ç‚¹çš„å€¼ï¼Œé€’å½’å³å­æ ‘ï¼Œçœ‹å³å­æ ‘æ˜¯ä¸æ˜¯ã€‚

**ä¸­åºéå†å®ç°**

![image-20220311225822382](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220311225822382.png)

### é€’å½’å®ç°

```
class Solution {
    public boolean isValidBST(TreeNode root) {
        return isValidBST(root, Long.MIN_VALUE, Long.MAX_VALUE);
    }

    public boolean isValidBST(TreeNode node, long lower, long upper) {
        if (node == null) {
            return true;
        }
        if (node.val <= lower || node.val >= upper) {
            return false;
        }
        return isValidBST(node.left, lower, node.val) && isValidBST(node.right, node.val, upper);
    }
}
```





```
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    public boolean isValidBST(TreeNode root) {
        return pastOrder(root).valid;
    }
    public Tem pastOrder(TreeNode root){
        if(root==null){
            return new Tem(Long.MIN_VALUE,Long.MAX_VALUE, true);
        }
        Tem leftData=pastOrder(root.left);
        Tem rightData = pastOrder(root.right);
       boolean flag =leftData.valid&&rightData.valid &&leftData.maxV < root.val && rightData.minV > root.val;
		return new Tem( Math.max(rightData.maxV, root.val), Math.min(leftData.minV,root.val),flag);
    }
    public static class Tem{
        long maxV;
        long minV;
        boolean valid;
        Tem(long maxV, long minV, boolean valid) {
         this.maxV = maxV;
          this.minV = minV;
         this.valid = valid;
    }
    }
}
```



### ä¸­åºéå†å®ç°



```
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public static long preValue = Long.MIN_VALUE;
    public boolean isValidBST(TreeNode root) {
        preValue = Long.MIN_VALUE;
          if (root==null){
            return true;
        }
        if(root.left==null&&root.right==null){
            return true;
        }
       return help(root);
    }
     public boolean help(TreeNode root) {
        if (root==null){
            return true;
        }
        if(root.left!=null){
            if(!help(root.left)){
                 System.out.println(3);
                return false;
            }
        }
 
        if(preValue>=root.val){
            System.out.println(preValue);
            System.out.println(1);
            return false;
        }
        preValue = root.val;
        if(root.right!=null){
            if(!help(root.right)){
                System.out.println(2);
                return false;
            }
        }
        return true;
    }
}
```



```
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public boolean isValidBST(TreeNode root) {
        Deque<TreeNode> stack = new LinkedList<TreeNode>();
        double inorder = -Double.MAX_VALUE;

        while (!stack.isEmpty() || root != null) {
            while (root != null) {
                stack.push(root);
                root = root.left;
            }
            root = stack.pop();
              // å¦‚æœä¸­åºéå†å¾—åˆ°çš„èŠ‚ç‚¹çš„å€¼å°äºç­‰äºå‰ä¸€ä¸ª inorderï¼Œè¯´æ˜ä¸æ˜¯äºŒå‰æœç´¢æ ‘
            if (root.val <= inorder) {
                return false;
            }
            inorder = root.val;
            root = root.right;
        }
        return true;
    }
}


```




## åˆ¤æ–­ä¸€é¢—äºŒå‰æ ‘æ˜¯å¦æ˜¯å®Œå…¨äºŒå‰æ ‘

äºŒå‰æ ‘æŒ‰å®½åº¦æ¥éå†ï¼Œå¦‚æœæœ‰å³å­æ ‘æ²¡æœ‰å·¦å­æ ‘ï¼Œç›´æ¥è¿”å›FALSE
å¦‚æœæœ‰ä¸€ä¸ªå­©å­å·¦å³ä¸¤ä¸ªå­©å­ä¸åŒå…¨ï¼Œåˆ™ä¸‹ä¸€å±‚æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½åº”è¯¥æ˜¯å¶å­èŠ‚ç‚¹

![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142552913-816c0a18-a18a-4709-b68c-8fbcc35c3acc.png)





```java
public class Main {
	public static boolean isBST(Node header) {
		if (header == null) {
			return true;
		}
		ArrayDeque<Node> deque = new ArrayDeque<>();
		deque.add(header);
		boolean flag = false;
		while (!deque.isEmpty()) {
			Node popNode = deque.poll();
			if ((popNode.leftNode == null && popNode.rightNode != null)// å·¦æ— èŠ‚ç‚¹æœ‰å³èŠ‚ç‚¹å®šä¸æ˜¯å®Œå…¨äºŒå‰æ ‘
					|| (flag && (popNode.leftNode != null || popNode.rightNode != null))) {// æ ‡è®°åå·¦å³å­˜åœ¨èŠ‚ç‚¹
				return false;
			}
			if (popNode.leftNode != null) {
				deque.add(popNode.leftNode);
			}
			if (popNode.rightNode != null) {
				deque.add(popNode.rightNode);
			}
			// æ­¤åä¸è¯¥æœ‰å­èŠ‚ç‚¹ï¼Œåº”è¯¥æ”¾åœ¨æœ€ååˆ¤æ–­ï¼Œå› ä¸ºåˆ¤æ–­ç»“æœflagä¸èƒ½å¯¹æ­¤æ¬¡ç»“æœæœ‰å½±å“
			// å»æ‰popNode.leftNode == nullä¸å½±å“
			if (popNode.leftNode == null || popNode.rightNode == null) {
				flag = true;
			}
		}
		return true;
	}

	public static class Node {
		int value;
		Node leftNode;
		Node rightNode;
	}
}

```





## åˆ¤æ–­ä¸€ä¸ªæ ‘æ˜¯ä¸æ˜¯å¹³è¡¡äºŒå‰æ ‘

å·¦å³å­æ ‘é«˜åº¦å·®ä¸è¶…è¿‡1ï¼Œæ¯ä¸ªèŠ‚ç‚¹éƒ½é€‚ç”¨

https://leetcode-cn.com/problems/balanced-binary-tree/



å¥—è·¯æ˜¯å¼€å§‹æ¡ä»¶+æœ€ç»ˆæ”¾å›å€¼+å·¦å³ä¿¡æ¯é€’å½’



![image-20220312003552669](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220312003552669.png)



```
public class Main {
	public static boolean process(Node header) {
		if (header == null) {
			return true;
		}
		TransformData data = isAVLTree(header);
		return data.isAVL;
	}

	private static TransformData isAVLTree(Node header) {
		if (header == null) {
			return new TransformData(true, 0);
		}
		TransformData lData = isAVLTree(header.leftNode);
		TransformData rData = isAVLTree(header.rightNode);
		return new TransformData(lData.isAVL && rData.isAVL && Math.abs(lData.height - rData.height) <= 1,
				Math.max(lData.height, rData.height) + 1);

	}

	public static class TransformData {
		boolean isAVL;
		int height;
		public TransformData(boolean flag, int h) {
			this.isAVL = flag;
			this.height = h;
		}
	}

	public static class Node {
		int value;
		Node leftNode;
		Node rightNode;
	}
}

```

```
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    public boolean isBalanced(TreeNode root) {
        if (root==null){
            return true;
        }
        return height(root)>=0;
    } 
     public int height(TreeNode root){
        if(root==null) return 0;
        int leftHeight = height(root.left);
        int rightHeight = height(root.right);
        if(leftHeight ==-1||rightHeight == -1|| Math.abs(leftHeight-rightHeight)>1){
            return -1;
        }else{
            return Math.max(leftHeight,rightHeight)+1;
        }
     }

}
```



## åˆ¤æ–­ä¸€ä¸ªæ ‘æ˜¯ä¸æ˜¯æ»¡äºŒå‰æ ‘

æ€è·¯æ˜¯çœ‹ä¸€ä¸‹è¿™ä¸ªæ ‘çš„èŠ‚ç‚¹çš„æ€»æ•°æ˜¯ä¸æ˜¯é«˜åº¦çš„äºŒçš„æ¬¡æ–¹åŠ ä¸€ã€‚
å­èŠ‚ç‚¹è¿”å›è‡ªå·±çš„é«˜åº¦å’ŒèŠ‚ç‚¹çš„ä¸ªæ•°ã€‚

![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142629204-75121bf2-53ad-41ee-a030-8f2e1847ef90.png)

![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142629079-02ef35ea-496f-40a4-9fcd-22d237a8dc95.png)

## æ±‚ä¸¤ä¸ªèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ

https://leetcode-cn.com/problems/er-cha-shu-de-zui-jin-gong-gong-zu-xian-lcof/



### å€ŸåŠ©hashmap

æ–¹æ³•ä¸€ï¼šéå†æ‰€æœ‰çš„èŠ‚ç‚¹ï¼Œç„¶åå°†æ¯ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹ä½œä¸ºhashmapçš„keyï¼Œè‡ªå·±ä½œä¸ºvæ”¾å…¥ä¸€ä¸ªhashmapä¸­ã€‚ç„¶åä»ç»™å®šçš„èŠ‚ç‚¹å¼€å§‹æŸ¥hashmapï¼Œç›¸å½“äºæŠŠæ ¹èŠ‚ç‚¹åˆ°è‡ªå·±çš„è·¯å¾„æ”¾å…¥åˆ°ä¸€ä¸ªsetä¸­ã€‚ç¬¬äºŒä¸ªèŠ‚ç‚¹ç”¨åŒæ ·çš„æ–¹æ³•æ‰¾çˆ¶èŠ‚ç‚¹çš„é“¾è·¯ï¼Œæ¯æ¬¡éƒ½çœ‹åœ¨ä¸åœ¨ä¸Šä¸ªèŠ‚ç‚¹çš„setä¸­ï¼Œåœ¨çš„è¯å°±æ˜¯æœ€è¿‘çš„å…¬å…±çˆ¶èŠ‚ç‚¹ï¼Œç›´æ¥è¿”å›ã€‚

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) {
        HashMap<TreeNode, TreeNode> map = new HashMap<>();
        process(root,map);
        HashSet<TreeNode> set = new HashSet<>();
        while(p!=null){
            set.add(p);
            p = map.get(p);
        }
        while(q!=null){
            if(set.contains(q)){
                return q;
            }
            q = map.get(q);
        }
        return null;
        

        
    }
    public void process(TreeNode root, HashMap map){
        if(root==null) return;
        if(root.left!=null){
            map.put(root.left, root);
            process(root.left,map);
        }
        if(root.right!=null){
            map.put(root.right, root);
            process(root.right,map);
        }
    }
}
```



### é€’å½’

ä¸¤ç§æƒ…å†µï¼š

- 01å’Œ02ä¸€ä¸ªæ˜¯å¦ä¸€ä¸ªçš„ç¥–å…ˆã€‚
- o1å’Œ02ä¸€ä¸ªä¸æ˜¯å¦ä¸€ä¸ªçš„ç¥–å…ˆã€‚
  ä¸¤ç§æƒ…å†µéƒ½èµ°ä¸€ä¸‹ä»£ç å°±èƒ½ç†è§£äº†ã€‚

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public TreeNode lowestCommonAncestor(TreeNode root, TreeNode p, TreeNode q) {
        if(root == null||root == p || root == q){
            return root;
        }
        TreeNode left = lowestCommonAncestor(root.left,p,q);
        TreeNode right = lowestCommonAncestor(root.right,p,q);
        if(left!=null&&right!=null){
            return root;
        }
        return left==null?right:left;
        
    }
}
```

```
public class Main {
	/**
	 * @param header æ ¹èŠ‚ç‚¹
	 * @param o1     èŠ‚ç‚¹ä¸€
	 * @param o2     èŠ‚ç‚¹äºŒ
	 * @return æœ€è¿‘å…±çˆ¶èŠ‚ç‚¹
	 * 
	 */
	public static Node ancestor(Node header, Node o1, Node o2) {
		if (header == null || o1 == header || o2 == header)
			return header;
		Node lNode = ancestor(header.leftNode, o1, o2);
		Node rNode = ancestor(header.rightNode, o1, o2);

		// è¯¥æ¡ä»¶åªä¼šæˆåŠŸä¸€æ¬¡ï¼Œè¿”å›çš„headerå°±æ˜¯æˆ‘ä»¬æ‰€è¦æ‰¾çš„èŠ‚ç‚¹
		// å½“è¯¥æ¡ä»¶æˆç«‹æ—¶ï¼Œheaderç»“æœå°±æ‰¾åˆ°äº†ï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥çš„ç›®çš„å°±æ˜¯å‘ä¸Šä¼ é€’ç›´è‡³ç»“æŸè¯¥é€’å½’è°ƒç”¨
		// ç”±äºæˆ‘ä»¬ä¸çŸ¥é“è¿™ä¸ªheaderèŠ‚ç‚¹æ˜¯å®ƒçš„çˆ¶èŠ‚ç‚¹çš„å·¦è¿˜æ˜¯å³
		// ä½†æ˜¯æˆ‘ä»¬çŸ¥é“æˆåŠŸè¿›å…¥è¯¥æ¡ä»¶åçš„æ‰€æœ‰é€’å½’ä¸­åªèƒ½å‡ºç°ä¸€è¾¹ä¸ºnullï¼Œå¦ä¸€è¾¹ä¸ºheaderèŠ‚ç‚¹
		// æ‰€ä»¥ è¿”å›ï¼š lNode != null ? lNode : rNode
		// å¦å¤–è¿™å¥è¯ä¹Ÿä¼šåœ¨æ‰¾åˆ°ç›®æ ‡èŠ‚ç‚¹å‰å°†o1æˆ–o2ä¼ åˆ°ä¸Šä¸€ä¸ªé€’å½’ä¸­ï¼Œä»£è¡¨ç€è¿™ä¸ªè·¯å¾„ä¸Šå­˜åœ¨o1æˆ–o2
		// å½“è·¯å¾„ä¸Šæ²¡æœ‰o1æˆ–o2æ—¶ï¼ŒlNodeå’ŒrNodeå‡ä¸ºç©ºï¼Œéšä¾¿è¿”å›ä¸€ä¸ª
		if (lNode != null && rNode != null)
			return header;
		return lNode != null ? lNode : rNode;
	}

	static class Node {
		int value;
		Node leftNode;
		Node rightNode;
	}
}

```

## [ å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°](https://leetcode-cn.com/problems/count-complete-tree-nodes/)

![image-20220312222216582](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220312222216582.png)

å› æ­¤å¯¹äºæœ€å¤§å±‚æ•°ä¸º hh çš„å®Œå…¨äºŒå‰æ ‘ï¼ŒèŠ‚ç‚¹ä¸ªæ•°ä¸€å®šåœ¨ `[2^hï¼Œ2^(h+1)-1]` çš„èŒƒå›´å†…ï¼Œå¯ä»¥åœ¨è¯¥èŒƒå›´å†…é€šè¿‡äºŒåˆ†æŸ¥æ‰¾çš„æ–¹å¼å¾—åˆ°å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚



å¦‚ä½•åˆ¤æ–­ç¬¬ k ä¸ªèŠ‚ç‚¹æ˜¯å¦å­˜åœ¨å‘¢ï¼Ÿå¦‚æœç¬¬ k ä¸ªèŠ‚ç‚¹ä½äºç¬¬ hh å±‚ï¼Œåˆ™ k çš„äºŒè¿›åˆ¶è¡¨ç¤ºåŒ…å« h+1ä½ï¼Œå…¶ä¸­æœ€é«˜ä½æ˜¯ 1ï¼Œå…¶ä½™å„ä½ä»é«˜åˆ°ä½è¡¨ç¤ºä»æ ¹èŠ‚ç‚¹åˆ°ç¬¬ kkä¸ªèŠ‚ç‚¹çš„è·¯å¾„ï¼Œ0è¡¨ç¤ºç§»åŠ¨åˆ°å·¦å­èŠ‚ç‚¹ï¼Œ1è¡¨ç¤ºç§»åŠ¨åˆ°å³å­èŠ‚ç‚¹ã€‚é€šè¿‡ä½è¿ç®—å¾—åˆ°ç¬¬ k ä¸ªèŠ‚ç‚¹å¯¹åº”çš„è·¯å¾„ï¼Œåˆ¤æ–­è¯¥è·¯å¾„å¯¹åº”çš„èŠ‚ç‚¹æ˜¯å¦å­˜åœ¨ï¼Œå³å¯åˆ¤æ–­ç¬¬ kk ä¸ªèŠ‚ç‚¹æ˜¯å¦å­˜åœ¨ã€‚

å±‚æ•°ä»0å¼€å§‹ï¼Œ

```
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    public int countNodes(TreeNode root) {
        if (root==null) return 0;
        int height = 0;//æ ¹èŠ‚ç‚¹ç®—æ˜¯ç¬¬0å±‚
        TreeNode lchild = root;
        while(lchild.left !=null){
            height++;
            lchild=lchild.left;
        }
        int less = 1<<height;//æ ¹èŠ‚ç‚¹ç¼–å·ä»1å¼€å§‹ã€‚
        int most= (1<<(height+1))-1;
        while(less<most){
            int mid = less+(most-less+1)/2;
            if(existNode( root, mid,height)){
                less=mid;
            }
            else{
                most=mid-1;
            }

        }
        return less;


    }
    public boolean existNode(TreeNode root, int mid, int level){
        int binNum = 1<<(level-1);//é™¤äº†ç¬¬ä¸€ä½1ï¼Œç¬¬äºŒä½å¼€å§‹
        TreeNode tem=root;
        while(binNum>0&&tem!=null){
            //1å¾€å³ï¼Œ0å¾€å·¦
            if((binNum&mid)==0){
                tem=tem.left;

            }else{
                tem =tem.right;
            }
           binNum>>=1;
        }
        return tem!=null;
    }
}
```



## å­æœç´¢äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ï¼ˆå¥—è·¯é¢˜ï¼‰

æ‰¾åˆ°ä¸€æ£µäºŒå‰æ ‘ä¸­ï¼Œæœ€å¤§çš„æœç´¢äºŒå‰å­æ ‘ï¼Œè¿”å›æœ€å¤§æœç´¢äºŒå‰å­æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ã€‚.

```java
public class Main {
	public static boolean process(Node header) {
		if (header == null) {
			return true;
		}
		TransformData data = maxChildBSTree(header);
		return data.isBST;
	}

	private static TransformData maxChildBSTree(Node header) {
		if (header == null) {
			return new TransformData(true, 0, Integer.MIN_VALUE, Integer.MAX_VALUE);
		}
		TransformData leftData = maxChildBSTree(header.leftNode);
		TransformData rightData = maxChildBSTree(header.rightNode);
		if (leftData.isBST && rightData.isBST && header.value > leftData.maxValue
				&& header.value < rightData.maxValue) {

			return new TransformData(true, leftData.childMaxBSTNodeNum + rightData.childMaxBSTNodeNum + 1,
					Math.max(header.value, rightData.maxValue), Math.min(leftData.minValue, leftData.minValue));
		}
		return new TransformData(false, Math.max(leftData.childMaxBSTNodeNum, rightData.childMaxBSTNodeNum),
				Integer.MIN_VALUE, Integer.MAX_VALUE);

	}

	public static class TransformData {
		boolean isBST;
		int childMaxBSTNodeNum;
		int maxValue;
		int minValue;
		public TransformData(boolean isBST, int num, int max, int min) {
			this.isBST = isBST;
			this.childMaxBSTNodeNum = num;
			this.maxValue = max;
			this.minValue = min;
		}

	}

	public static class Node {
		int value;
		Node leftNode;
		Node rightNode;
	}
}

```



## æ‰¾åˆ°äºŒå‰æ ‘çš„åç»§èŠ‚ç‚¹

![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142754947-ef41d590-bd86-4087-8aaa-e44d837ebba4.png)

nodeèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªæœ‰ä¸‰ç§æƒ…å†µï¼š
1.nodeæœ‰å³å­æ ‘ï¼Œåˆ™å°±æ˜¯å³å­æ ‘çš„æœ€å·¦æœ€ä¸‹èŠ‚ç‚¹
2.nodeèŠ‚ç‚¹æ²¡æœ‰å³å­æ ‘ï¼š

nodeèŠ‚ç‚¹æ²¡æœ‰çˆ¶èŠ‚ç‚¹ï¼Œé‚£ä¹Ÿå°±æ˜¯æ ¹èŠ‚ç‚¹ï¼Œç”±äºæ²¡æœ‰å³å­æ ‘ï¼Œè¿™æ—¶å€™æ²¡æœ‰ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œparentä¹Ÿæ˜¯null

nodeèŠ‚ç‚¹æ˜¯çˆ¶èŠ‚ç‚¹çš„å·¦å­æ ‘ï¼Œé‚£ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯çˆ¶èŠ‚ç‚¹

nodeèŠ‚ç‚¹æ˜¯çˆ¶èŠ‚ç‚¹çš„å³å­æ ‘ï¼Œé‚£ä¸‹ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯ä¸€ç›´å¾€ä¸Šæ‰¾ï¼Œç›´åˆ°æ‰¾åˆ°ä¸€ä¸ªèŠ‚ç‚¹ï¼Œnodeåœ¨è¿™ä¸ªèŠ‚ç‚¹çš„å·¦å­æ ‘ä¸Š




```
public class Main {
	public static Node process(Node header) {
		if (header == null) {
			return null;
		}
		if (header.rightNode != null) {
			return lastLeftNode(header.rightNode);
		}
		Node parent = header.parentNode;
		while (parent != null && parent.leftNode != header) {
			header = parent;
			parent = parent.parentNode;
		}
		return parent;
	}
	private static Node lastLeftNode(Node rightNode) {
		while (rightNode.leftNode != null) {
			rightNode = rightNode.leftNode;
		}
		return rightNode;
	}
	static class Node {
		int value;
		Node leftNode;
		Node rightNode;
		Node parentNode;
	}
}

```



https://leetcode-cn.com/problems/successor-lcci/solution/100liang-chong-qing-kuang-zhi-xu-yao-yi-ghpai/

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
class Solution {
    public TreeNode inorderSuccessor(TreeNode root, TreeNode p) {
        TreeNode pre = null;//è®°å½•æœ€è¿‘ä¸€æ¬¡å·¦è½¬çš„å¤´ç»“ç‚¹
        while(root.val!=p.val){
            //å³è¾¹
            if(p.val > root.val){          
                root = root.right;
            }
            //å·¦è¾¹
            else{   
                pre = root;
                root = root.left;
            }
        }
        //å‡å¦‚æ²¡æœ‰å³å­æ ‘
        if(root.right==null){
            return pre;
        } 
        else{
            root = root.right;
            while(root.left!=null){
                root = root.left;
            }
            return root;
        }  
    }
}
```



## äºŒå‰æ ‘çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–

https://leetcode-cn.com/problems/xu-lie-hua-er-cha-shu-lcof/

https://leetcode-cn.com/problems/serialize-and-deserialize-binary-tree/submissions/

![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142756102-75b789e5-e277-4cde-8627-213fa40205f9.png)


![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142756247-068974c6-5e8a-4013-a0d7-817756339d4b.png)

é€’å½’çš„æ–¹å¼ï¼š



```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
public class Codec {

    // Encodes a tree to a single string.
    public String serialize(TreeNode root) {
        if (root == null) return "null,";
        String res = root.val+",";
        res += serialize(root.left);
        res += serialize(root.right);
        return res;
        
    }

    // Decodes your encoded data to tree.
    public TreeNode deserialize(String data) {
        String[] values = data.split(",");
        Queue<String> queue= new LinkedList<>();
        for(int i=0;i<values.length;i++){
            queue.add(values[i]);
        }
        
        return reconPreOrder(queue);
    }

    public static TreeNode reconPreOrder(Queue<String> queue){
        String val = queue.poll();
        if(val.equals("null")){
            return null;
        }
        TreeNode head = new TreeNode(Integer.valueOf(val));
        head.left=reconPreOrder(queue);
        head.right=reconPreOrder(queue);
        return head;
    }
}

// Your Codec object will be instantiated and called as such:
// Codec codec = new Codec();
// codec.deserialize(codec.serialize(root));
```

éé€’å½’çš„æ–¹å¼

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode(int x) { val = x; }
 * }
 */
public class Codec {

    // Encodes a tree to a single string.
    public String serialize(TreeNode root) {
          if(root == null) return "[]";
        StringBuilder res = new StringBuilder("[");
        Queue<TreeNode> queue = new LinkedList<>() {{ add(root); }};
        while(!queue.isEmpty()) {
            TreeNode node = queue.poll();
            if(node != null) {
                res.append(node.val + ",");
                queue.add(node.left);
                queue.add(node.right);
            }
            else res.append("null,");
        }
        res.deleteCharAt(res.length() - 1);
        res.append("]");
        return res.toString();
    }

    // Decodes your encoded data to tree.
    public TreeNode deserialize(String data) {
          if(data.equals("[]")) return null;
        String[] vals = data.substring(1, data.length() - 1).split(",");
        TreeNode root = new TreeNode(Integer.parseInt(vals[0]));
        Queue<TreeNode> queue = new LinkedList<>() {{ add(root); }};
        int i = 1;
        while(!queue.isEmpty()) {
            TreeNode node = queue.poll();
            if(!vals[i].equals("null")) {
                node.left = new TreeNode(Integer.parseInt(vals[i]));
                queue.add(node.left);
            }
            i++;
            if(!vals[i].equals("null")) {
                node.right = new TreeNode(Integer.parseInt(vals[i]));
                queue.add(node.right);
            }
            i++;
        }
        return root;

    }
}

```

![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142756826-89cdd006-6b38-4c4c-bfc6-a9146fc92b15.png)
![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142756841-53102096-a643-4c93-9c4f-0fdaf98fc261.png)
ä¸­åºéå†å°±æ˜¯ çº¸æ¡æ˜¾ç¤ºçš„å†…å®¹  



## [101. å¯¹ç§°äºŒå‰æ ‘](https://leetcode-cn.com/problems/symmetric-tree/)

### é€’å½’

```
class Solution {
    public boolean isSymmetric(TreeNode root) {
        if(root==null ){
            return true;
        }
        return valid(root.left,root.right);
    }
    public boolean valid(TreeNode left, TreeNode right){
        if (left==null&&right==null){
            return true;
        }
        if(left==null||right==null){
            return false;
        }
        return left.val==right.val&&valid(left.right,right.left)&&valid(left.left,right.right);
    }
}
```



### è¿­ä»£

```
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    public boolean isSymmetric(TreeNode root) {
        if(root==null ){
            return true;
        }
        return valid(root,root);
    }
    public boolean valid(TreeNode u, TreeNode v){
        Queue<TreeNode> q = new LinkedList<>();
        q.offer(u);
        q.offer(v);
        while(!q.isEmpty()){
            u = q.poll();
            v = q.poll();
            if (u == null && v == null) {
                continue;
            }
            if ((u == null || v == null) || (u.val != v.val)) {
                return false;
            }
            q.offer(u.left);
            q.offer(v.right);
            q.offer(v.left);
            q.offer(u.right);

        }
        return true;
    }
}
```



## [538. æŠŠäºŒå‰æœç´¢æ ‘è½¬æ¢ä¸ºç´¯åŠ æ ‘](https://leetcode-cn.com/problems/convert-bst-to-greater-tree/)

### é€’å½’

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    public int count = 0;
    public TreeNode convertBST(TreeNode root) {
        reInOreder(root);
        return root;
    }
    public void reInOreder(TreeNode root){
        if(root == null) return;
        reInOreder(root.right);
        count += root.val;
        root.val = count;
        reInOreder(root.left);
    }
    
}
```



```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    int sum = 0;

    public TreeNode convertBST(TreeNode root) {
        if (root != null) {
            convertBST(root.right);
            sum += root.val;
            root.val = sum;
            convertBST(root.left);
        }
        return root;
    }
}

```

### æ–¹æ³•äºŒï¼šMorris éå†

![image-20220316212053354](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220316212053354.png)

```java
class Solution {
    public TreeNode convertBST(TreeNode root) {
        int sum = 0;
        TreeNode node = root;

        while (node != null) {
            if (node.right == null) {
                sum += node.val;
                node.val = sum;
                node = node.left;
            } else {
                TreeNode succ = getSuccessor(node);
                if (succ.left == null) {
                    succ.left = node;
                    node = node.right;
                } else {
                    succ.left = null;
                    sum += node.val;
                    node.val = sum;
                    node = node.left;
                }
            }
        }

        return root;
    }

    public TreeNode getSuccessor(TreeNode node) {
        TreeNode succ = node.right;
        while (succ.left != null && succ.left != node) {
            succ = succ.left;
        }
        return succ;
    }
}
```

## [543. äºŒå‰æ ‘çš„ç›´å¾„](https://leetcode-cn.com/problems/diameter-of-binary-tree/)

æˆ‘è‡ªå·±çš„è§£æ³•

```
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    public int res = 0;
    public int diameterOfBinaryTree(TreeNode root) {
         if(root==null){
            return 0;
        }
        dfs(root);
        return res-1;
        


    }
    public int dfs(TreeNode root){
        if(root==null){
            return 0;
        }
        int left=dfs(root.left);
        int right=dfs(root.right);
        res = Math.max(res,left+right+1);
        return Math.max(left,right)+1;
    }
}
```



## å“ˆå¤«æ›¼æœ€å°ä»£ä»·é—®é¢˜

**å“ˆå¤«æ›¼æ ‘ç›¸å…³çš„å‡ ä¸ªåè¯**

è·¯å¾„ï¼šåœ¨ä¸€æ£µæ ‘ä¸­ï¼Œä¸€ä¸ªç»“ç‚¹åˆ°å¦ä¸€ä¸ªç»“ç‚¹ä¹‹é—´çš„é€šè·¯ï¼Œç§°ä¸ºè·¯å¾„ã€‚å›¾ 1 ä¸­ï¼Œä»æ ¹ç»“ç‚¹åˆ°ç»“ç‚¹ a ä¹‹é—´çš„é€šè·¯å°±æ˜¯ä¸€æ¡è·¯å¾„ã€‚

è·¯å¾„é•¿åº¦ï¼šåœ¨ä¸€æ¡è·¯å¾„ä¸­ï¼Œæ¯ç»è¿‡ä¸€ä¸ªç»“ç‚¹ï¼Œè·¯å¾„é•¿åº¦éƒ½è¦åŠ  1 ã€‚ä¾‹å¦‚åœ¨ä¸€æ£µæ ‘ä¸­ï¼Œè§„å®šæ ¹ç»“ç‚¹æ‰€åœ¨å±‚æ•°ä¸º1å±‚ï¼Œé‚£ä¹ˆä»æ ¹ç»“ç‚¹åˆ°ç¬¬ i å±‚ç»“ç‚¹çš„è·¯å¾„é•¿åº¦ä¸º i - 1 ã€‚å›¾ 1 ä¸­ä»æ ¹ç»“ç‚¹åˆ°ç»“ç‚¹ c çš„è·¯å¾„é•¿åº¦ä¸º 3ã€‚

ç»“ç‚¹çš„æƒï¼šç»™æ¯ä¸€ä¸ªç»“ç‚¹èµ‹äºˆä¸€ä¸ªæ–°çš„æ•°å€¼ï¼Œè¢«ç§°ä¸ºè¿™ä¸ªç»“ç‚¹çš„æƒã€‚ä¾‹å¦‚ï¼Œå›¾ 1 ä¸­ç»“ç‚¹ a çš„æƒä¸º 7ï¼Œç»“ç‚¹ b çš„æƒä¸º 5ã€‚

ç»“ç‚¹çš„å¸¦æƒè·¯å¾„é•¿åº¦ï¼šæŒ‡çš„æ˜¯ä»æ ¹ç»“ç‚¹åˆ°è¯¥ç»“ç‚¹ä¹‹é—´çš„è·¯å¾„é•¿åº¦ä¸è¯¥ç»“ç‚¹çš„æƒçš„ä¹˜ç§¯ã€‚ä¾‹å¦‚ï¼Œå›¾ 1 ä¸­ç»“ç‚¹ b çš„å¸¦æƒè·¯å¾„é•¿åº¦ä¸º 2 * 5 = 10 ã€‚

æ ‘çš„å¸¦æƒè·¯å¾„é•¿åº¦ä¸ºæ ‘ä¸­æ‰€æœ‰å¶å­ç»“ç‚¹çš„å¸¦æƒè·¯å¾„é•¿åº¦ä¹‹å’Œã€‚é€šå¸¸è®°ä½œ â€œWPLâ€ ã€‚ä¾‹å¦‚å›¾ 1 ä¸­æ‰€ç¤ºçš„è¿™é¢—æ ‘çš„å¸¦æƒè·¯å¾„é•¿åº¦ä¸ºï¼š

> WPL = 7 * 1 + 5 * 2 + 2 * 3 + 4 * 3

![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/09563Tb0-0.png)







**ä»€ä¹ˆæ˜¯å“ˆå¤«æ›¼æ ‘**

å½“ç”¨ n ä¸ªç»“ç‚¹ï¼ˆéƒ½åšå¶å­ç»“ç‚¹ä¸”éƒ½æœ‰å„è‡ªçš„æƒå€¼ï¼‰è¯•å›¾æ„å»ºä¸€æ£µæ ‘æ—¶ï¼Œå¦‚æœæ„å»ºçš„è¿™æ£µæ ‘çš„å¸¦æƒè·¯å¾„é•¿åº¦æœ€å°ï¼Œç§°è¿™æ£µæ ‘ä¸ºâ€œæœ€ä¼˜äºŒå‰æ ‘â€ï¼Œæœ‰æ—¶ä¹Ÿå«â€œèµ«å¤«æ›¼æ ‘â€æˆ–è€…â€œå“ˆå¤«æ›¼æ ‘â€ã€‚

åœ¨æ„å»ºå“ˆå¼—æ›¼æ ‘æ—¶ï¼Œè¦ä½¿æ ‘çš„å¸¦æƒè·¯å¾„é•¿åº¦æœ€å°ï¼Œåªéœ€è¦éµå¾ªä¸€ä¸ªåŸåˆ™ï¼Œé‚£å°±æ˜¯ï¼šæƒé‡è¶Šå¤§çš„ç»“ç‚¹ç¦»æ ‘æ ¹è¶Šè¿‘ã€‚åœ¨å›¾ 1 ä¸­ï¼Œå› ä¸ºç»“ç‚¹ a çš„æƒå€¼æœ€å¤§ï¼Œæ‰€ä»¥ç†åº”ç›´æ¥ä½œä¸ºæ ¹ç»“ç‚¹çš„å­©å­ç»“ç‚¹ã€‚

**æ„å»ºå“ˆå¤«æ›¼æ ‘çš„è¿‡ç¨‹**

å¯¹äºç»™å®šçš„æœ‰å„è‡ªæƒå€¼çš„ n ä¸ªç»“ç‚¹ï¼Œæ„å»ºå“ˆå¤«æ›¼æ ‘æœ‰ä¸€ä¸ªè¡Œä¹‹æœ‰æ•ˆçš„åŠæ³•ï¼š

1. åœ¨ n ä¸ªæƒå€¼ä¸­é€‰å‡ºä¸¤ä¸ªæœ€å°çš„æƒå€¼ï¼Œå¯¹åº”çš„ä¸¤ä¸ªç»“ç‚¹ç»„æˆä¸€ä¸ªæ–°çš„äºŒå‰æ ‘ï¼Œä¸”æ–°äºŒå‰æ ‘çš„æ ¹ç»“ç‚¹çš„æƒå€¼ä¸ºå·¦å³å­©å­æƒå€¼çš„å’Œï¼›
2. åœ¨åŸæœ‰çš„ n ä¸ªæƒå€¼ä¸­åˆ é™¤é‚£ä¸¤ä¸ªæœ€å°çš„æƒå€¼ï¼ŒåŒæ—¶å°†æ–°çš„æƒå€¼åŠ å…¥åˆ° nâ€“2 ä¸ªæƒå€¼çš„è¡Œåˆ—ä¸­ï¼Œä»¥æ­¤ç±»æ¨ï¼›
3. é‡å¤ 1 å’Œ 2 ï¼Œç›´åˆ°æ‰€ä»¥çš„ç»“ç‚¹æ„å»ºæˆäº†ä¸€æ£µäºŒå‰æ ‘ä¸ºæ­¢ï¼Œè¿™æ£µæ ‘å°±æ˜¯å“ˆå¤«æ›¼æ ‘ã€‚

![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/09563QS5-1.png)

å›¾ 2 å“ˆå¤«æ›¼æ ‘çš„æ„å»ºè¿‡ç¨‹


å›¾ 2 ä¸­ï¼Œï¼ˆAï¼‰ç»™å®šäº†å››ä¸ªç»“ç‚¹aï¼Œbï¼Œcï¼Œdï¼Œæƒå€¼åˆ†åˆ«ä¸º7ï¼Œ5ï¼Œ2ï¼Œ4ï¼›ç¬¬ä¸€æ­¥å¦‚ï¼ˆBï¼‰æ‰€ç¤ºï¼Œæ‰¾å‡ºç°æœ‰æƒå€¼ä¸­æœ€å°çš„ä¸¤ä¸ªï¼Œ2 å’Œ 4 ï¼Œç›¸åº”çš„ç»“ç‚¹ c å’Œ d æ„å»ºä¸€ä¸ªæ–°çš„äºŒå‰æ ‘ï¼Œæ ‘æ ¹çš„æƒå€¼ä¸º 2 + 4 = 6ï¼ŒåŒæ—¶å°†åŸæœ‰æƒå€¼ä¸­çš„ 2 å’Œ 4 åˆ æ‰ï¼Œå°†æ–°çš„æƒå€¼ 6 åŠ å…¥ï¼›è¿›å…¥ï¼ˆCï¼‰ï¼Œé‡å¤ä¹‹å‰çš„æ­¥éª¤ã€‚ç›´åˆ°ï¼ˆDï¼‰ä¸­ï¼Œæ‰€æœ‰çš„ç»“ç‚¹æ„å»ºæˆäº†ä¸€ä¸ªå…¨æ–°çš„äºŒå‰æ ‘ï¼Œè¿™å°±æ˜¯å“ˆå¤«æ›¼æ ‘ã€‚







### é‡‘æ¡åˆ‡å‰²é—®é¢˜

<img src="%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220318230316327.png" alt="image-20220318230316327" style="zoom:60%;" />



```java
public class Main {
	public static int lessConsumer(int[] arr) {
		if (arr.length == 1)
			return arr[0];
		PriorityQueue<Integer> queue = new PriorityQueue<>();// å†…éƒ¨å…ƒç´ ä¸ºå †ç»“æ„ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼šé»˜è®¤æ˜¯å°é¡¶å †ï¼Œæœ‰å°åˆ°å¤§æ’åˆ—ï¼‰
		for (int i : arr)
			queue.add(i);
		int sum = 0;
		while (queue.size() > 1) {
			// æ„å»ºèµ«å¤«æ›¼æ ‘
			int num1 = queue.poll();
			int num2 = queue.poll();
			sum += (num1 + num2);
			queue.add(num1 + num2);
		}
		return sum;
	}
}

```





# æ ‘å½¢dp

![sdfsdfdssd](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/7D95FBD3D6DD4FF2CBDAA5A9011CCC7E.jpg)



é£ 9:11:52
![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/8137EC9804C17A0400E254509CD5AD74.jpg)

é£ 9:11:53
![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/759C819ADFCB16E2CA56D2AEED307D6A.jpg)

## æ ‘èŠ‚ç‚¹æœ€è¿œè·ç¦»



![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/3D9B73ED255C5D81E3CC844F11CB856B.jpg)




![image-20220313150713372](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220313150713372.png)



***é€’å½’å¥—è·¯ï¼š***

- æ ¹æ®å­æ ‘æœ€å¤§æ·±åº¦è®¡ç®—å‡ºç»è¿‡å½“å‰èŠ‚ç‚¹çš„æœ€é•¿è·ç¦»
- å‘ä¸Šä¼ é€’å­æ ‘å’Œç»è¿‡å½“å‰èŠ‚ç‚¹æœ€é•¿è·ç¦» çš„æœ€å¤§å€¼
- æœ€é•¿è·ç¦»éœ€è¦å­æ ‘æ·±åº¦
- æ‰€ä»¥é€’å½’æ•°æ®åŒ…æ‹¬æœ€å¤§è·ç¦»å’Œæœ€å¤§æ·±åº¦



æœ€å¤§æ·±åº¦è¡¨ç¤ºå½“å‰å­æ ‘çš„æœ€å¤§æ·±åº¦ã€‚æœ€å¤§è·ç¦»è¡¨ç¤ºå½“å‰å­æ ‘åŒ…å«çš„æœ€å¤§è·ç¦»ï¼Œæœ‰å¯èƒ½ç»è¿‡å­èŠ‚ç‚¹ï¼Œä¹Ÿæœ‰å¯èƒ½ä¸ç»è¿‡å­èŠ‚ç‚¹ã€‚

```
public class Main {
	public static int process(Node header) {
		if (header == null) {
			return 0;
		}
		TransformData data = maxLenPath(header);
		return data.maxLen;
	}

	private static TransformData maxLenPath(Node header) {
		if (header == null) {
			return new TransformData(0, 0);
		}
		TransformData leftData = maxLenPath(header.leftNode);
		TransformData rightData = maxLenPath(header.rightNode);
		return new TransformData(
				Math.max(leftData.maxHeight + rightData.maxHeight + 1, Math.max(leftData.maxLen, rightData.maxLen)),
				Math.max(leftData.maxHeight, rightData.maxHeight) + 1);

	}

	public static class TransformData {
		int maxLen;
		int maxHeight;
		public TransformData(int maxLen, int maxHeight) {
			this.maxLen = maxLen;
			this.maxHeight = maxHeight;
		}
	}

	public static class Node {
		int value;
		Node leftNode;
		Node rightNode;
	}
}

```



## å‘˜å·¥çš„å¿«ä¹å€¼



![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/513BBF7364AF9B669F89CB5E33521B1C.jpg)


![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/36AEC04043D12E4DD4B9DD9B070B6BE8.jpg)

***é€’å½’å¥—è·¯ï¼š***

- æœ€å¤§å€¼å’Œæ¯ä¸ªèŠ‚ç‚¹æ˜¯å¦å»æœ‰å…³ï¼Œå°±æ˜¯å– **å½“å‰èŠ‚ç‚¹ä¸å»ï¼ˆ0ï¼‰+å­èŠ‚ç‚¹å»æˆ–ä¸å»çš„æœ€å¤§å€¼** å’Œ **å½“å‰èŠ‚ç‚¹å»ï¼ˆhappyï¼‰+å­èŠ‚ç‚¹ä¸å»çš„æœ€å¤§å€¼**
- æ¯ä¸ªèŠ‚ç‚¹çš„å»å’Œä¸å»éƒ½ä¼šç›´æ¥å½±å“çˆ¶ç±»èŠ‚ç‚¹ï¼Œé—´æ¥å½±å“ç¥–å®—èŠ‚ç‚¹ã€‚
- åªè¦é€’å½’ä¼ é€’è¯¥èŠ‚ç‚¹å»å’Œä¸å»çš„æœ€å¤§å€¼ä¿¡æ¯å³å¯ã€‚

```java
public class Main {
	public static int process(Node header) {
		if (header == null) {
			return 0;
		}
		TransformData data = maxHappy(header);
		return Math.max(data.thisNodeDontWentSumHappy, data.thisNodeWentSumHappy);
	}

	private static TransformData maxHappy(Node header) {
		if (header.nexts == null) {
			return new TransformData(0, header.happyNum);
		}
		int dontWent = 0;
		int went = 0;
		for (Node nextNode : header.nexts) {
			TransformData data = maxHappy(nextNode);
			went += data.thisNodeDontWentSumHappy;
			dontWent += Math.max(data.thisNodeDontWentSumHappy, data.thisNodeWentSumHappy);
		}
		return new TransformData(dontWent, went);
	}

	public static class TransformData {
		int thisNodeDontWentSumHappy;
		int thisNodeWentSumHappy;
		public TransformData(int thisNodeDontWentSumHappy, int thisNodeWentSumHappy) {
			this.thisNodeDontWentSumHappy = thisNodeDontWentSumHappy;
			this.thisNodeWentSumHappy = thisNodeWentSumHappy;
		}

	}

	public static class Node {
		int happyNum;
		Node[] nexts;
	}
}

```

## [337. æ‰“å®¶åŠ«èˆ III](https://leetcode-cn.com/problems/house-robber-iii/)

è·Ÿä¸Šä¸ªé¢˜ç±»ä¼¼ï¼Œåªä¸è¿‡æ˜¯äºŒå‰æ ‘

é€’å½’çš„è§£æ³•

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    public int rob(TreeNode root) {
        if(root==null) return 0;
        nodeMaxV res =  dfs(root);
        return Math.max(res.have,res.donehave);

    }
    public nodeMaxV dfs(TreeNode root){
        if(root == null){
            return new nodeMaxV(0,0);
        }
        nodeMaxV left = dfs(root.left);
        nodeMaxV right = dfs(root.right);

        return new nodeMaxV(left.donehave+right.donehave+root.val,
                            Math.max(left.have,left.donehave)+Math.max(right.have,right.donehave)
                            );
    }
    public static class nodeMaxV{
        int have;
        int donehave;
        public nodeMaxV(int have,int donehave){
            this.have = have;
            this.donehave = donehave;
        }
    }
}
```



æ¢æˆä¸ç”¨å®šä¹‰ç±»çš„è§£æ³•ï¼Œç”¨intä»£æ›¿ç±»

```
class Solution {
    public int rob(TreeNode root) {
        int[] rootStatus = dfs(root);
        return Math.max(rootStatus[0], rootStatus[1]);
    }

    public int[] dfs(TreeNode node) {
        if (node == null) {
            return new int[]{0, 0};
        }
        int[] l = dfs(node.left);
        int[] r = dfs(node.right);
        int selected = node.val + l[1] + r[1];
        int notSelected = Math.max(l[0], l[1]) + Math.max(r[0], r[1]);
        return new int[]{selected, notSelected};
    }
}

```




## æ ‘ç»“æ„è½¬æˆé“¾è¡¨ï¼ˆå¥—è·¯é¢˜ï¼‰

![image-20220313152313422](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220313152313422.png)

- å°†å·¦å³å­æ ‘æ„å»ºå¥½çš„ç»“æœé€šè¿‡æœ¬èŠ‚ç‚¹é“¾æ¥ï¼Œå°±æ˜¯é€’å½’å¯¹æ•°æ®å°±æ˜¯é“¾æ¥èµ·å§‹å’Œç»“æŸèŠ‚ç‚¹ã€‚

ä¸­åºéå†



```java
public class Main {
    public static Data process(Node x) {
        if (x == null) {
            return new Data(null, null);
        }
        // å°†xä½œä¸ºä¸­é—´èŠ‚ç‚¹ï¼Œx.leftNodeä¸ºåˆ›å»ºxçš„å‰é¢çš„é“¾è¡¨ï¼Œx.rightNodeä¸ºåˆ›å»ºåé¢çš„é“¾è¡¨ã€‚
        Data leftData = process(x.leftNode);
        Data rightData = process(x.rightNode);
        // å‰ååˆ›å»ºçš„é“¾è¡¨å’Œä¸­é—´èŠ‚ç‚¹xé“¾æ¥ï¼Œå› ä¸ºæ˜¯åŒå‘é“¾è¡¨ï¼Œæ‰€ä»¥è¦æœ‰å››å¥é“¾æ¥
        if (leftData.end != null) {
            leftData.end.rightNode = x;
        }
        x.leftNode = leftData.end;
        if (rightData.start != null) {
            rightData.start.leftNode = x;
        }
        x.rightNode = rightData.start;
        // åˆ›å»ºå¥½åé‡æ–°åˆ†è£…è¿”å›èµ·å§‹èŠ‚ç‚¹å’Œå°¾èŠ‚ç‚¹
        return new Data(leftData.start != null ? leftData.start : x,
                rightData.end != null ? rightData.end : x);
    }

    static class Data {
        Node start;
        Node end;
        public Data(Node start, Node end) {
            this.start = start;
            this.end = end;
        }
    }

	public static class Node {
		int value;
		Node leftNode;
		Node rightNode;
	}
}

```

https://leetcode-cn.com/problems/er-cha-sou-suo-shu-yu-shuang-xiang-lian-biao-lcof/



```java
/*
// Definition for a Node.
class Node {
    public int val;
    public Node left;
    public Node right;

    public Node() {}

    public Node(int _val) {
        val = _val;
    }

    public Node(int _val,Node _left,Node _right) {
        val = _val;
        left = _left;
        right = _right;
    }
};
*/
class Solution {
    public Node treeToDoublyList(Node root) {
             if (root == null) return null;
        Stack<Node> stack=new Stack<>();
        Node pre=null;
        Node p=root;
        boolean isFirst=true;
        while (p!=null||!stack.isEmpty()){
            while (p!=null){//å¯»æ‰¾å­æ ‘çš„æœ€å·¦èŠ‚ç‚¹
                stack.push(p);
                p=p.left;
            }
            p=stack.pop();
            if (isFirst){//å¤„ç†ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç¬¬ä¸€ä¸ªèŠ‚ç‚¹æ²¡æœ‰å‰ç½®èŠ‚ç‚¹
                root=p;
                pre=root;
                isFirst=false;
            }else {pre.right=p;//ç›¸å½“äºéå†å½“å‰èŠ‚ç‚¹ï¼Œå› ä¸ºä¸æ˜¯ç¬¬ä¸€ä¸ªäº†ï¼Œä¿®æ”¹ä»–ä¹‹å‰èŠ‚ç‚¹çš„æŒ‡å‘
            p.left=pre;
            pre=p;

            }
            p=p.right;//ä¸­åºéå†ï¼Œéå†ä¸‹ä¸€ä¸ªèŠ‚ç‚¹

        }
        root.left=pre;
        pre.right=root;
        return  root;
    }
}
```

é€’å½’çš„æ–¹å¼

```java
/*
// Definition for a Node.
class Node {
    public int val;
    public Node left;
    public Node right;

    public Node() {}

    public Node(int _val) {
        val = _val;
    }

    public Node(int _val,Node _left,Node _right) {
        val = _val;
        left = _left;
        right = _right;
    }
};
*/
class Solution {
    Node pre,head;
    public Node treeToDoublyList(Node root) {
        if(root==null)return null;
           dfs(root);
        head.left = pre;
        pre.right = head;
        return head;
    }
    public void dfs(Node root){
        if(root == null) return;
        dfs(root.left);
        if(pre!=null){
            pre.right=root;
        }else{
            head=root;
        }
        root.left=pre;
        pre=root;
        dfs(root.right);

    }
}
```

## [114. äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨](https://leetcode-cn.com/problems/flatten-binary-tree-to-linked-list/)

æˆ‘ä¸ªäººçš„è§£æ³•ï¼š

```java
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    TreeNode pre;
    public void flatten(TreeNode root) {
         if(root==null) return;
        if(pre!=null){
            pre.right=root;
            pre.left=null;
        }
       TreeNode right=root.right;
        pre = root;
        flatten(root.left);
        flatten(right);
    }
   
} 
```







## äºŒå‰æ ‘çš„ä¸ªæ•°

https://leetcode-cn.com/problems/unique-binary-search-trees/solution/

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/adea57019f814883a17071344d4f5f96.png)

### é€’å½’

```java
public class Main {
	public static int process(int N) {
		if (N == 0 || N == 1) {
			return 1;
		}
		int res = 0;
		for (int i = 0; i < N; i++) {
			res += process(i) * process(N - i - 1);
		}
		return res;
	}
}

```

![image-20211227231055343](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211227231055343.png)

### åŠ¨æ€è§„åˆ’

```java
public static int num(int n) {
    if (n < 2) {
        return 1;
    }
    int[] dp = new int (n + 1);
    dp[0] = 1;
    dp[1] = 1;
    for (int i = 2; i <= n; i++) {
        for (int j = 1; j <= i; j++) {
            dp[i]+=dp[j-1]*dp[i-j];
        }
    }
    return dp[n];

}
```

### **æ•°å­¦å…¬å¼**

![image-20220314232245177](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220314232245177.png)

```
class Solution {
    public int numTrees(int n) {
        // æç¤ºï¼šæˆ‘ä»¬åœ¨è¿™é‡Œéœ€è¦ç”¨ long ç±»å‹é˜²æ­¢è®¡ç®—è¿‡ç¨‹ä¸­çš„æº¢å‡º
        long C = 1;
        for (int i = 0; i < n; ++i) {
            C = C * 2 * (2 * i + 1) / (i + 2);
        }
        return (int) C;
    }
}
```



## åˆ¤æ–­æ˜¯æœç´¢äºŒå‰æ ‘ï¼ˆå¥—è·¯é¢˜ï¼‰

**ä¸­åºéå†å®ç°**

ä¸­åºéå†æ˜¯æœ‰å°åˆ°å¤§çš„

```
public class Main {
	public static int lastNum=Integer.MIN_VALUE;
	public static boolean isBST(Node header) {
		if (header.leftNode!=null) {
			if (!isBST(header.leftNode)) {
				return false;
			}
		}
		if (lastNum>header.value) {
			return false;
		}
		lastNum=header.value;
		if (header.rightNode!=null) {
			if (!isBST(header.rightNode)) {
				return false;
			}
		}
		return true;
	}

	public static class Node {
		int value;
		Node leftNode;
		Node rightNode;
	}
}

```

**é€’å½’å¥—è·¯å®ç°**

![image-20220117092658302](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220117092658302.png)



```
public class Main {
	public static TransformData isBST(Node header) {
		if (header == null) {
			return new TransformData(true, Integer.MIN_VALUE, Integer.MAX_VALUE);
		}
		TransformData leftData = isBST(header.leftNode);
		TransformData rightData = isBST(header.rightNode);
		boolean flag = leftData.max < header.value && rightData.min > header.value;
		return new TransformData(flag, Math.max(rightData.max, header.value), Math.min(leftData.min, header.value));
	}

	private static class TransformData {
		boolean sucess;
		int max;
		int min;
		public TransformData(boolean sucess, int max, int min) {
			this.sucess = sucess;
			this.max = max;
			this.min = min;
		}
	}

	public static class Node {
		int value;
		Node leftNode;
		Node rightNode;
	}
}

```





## å­æœç´¢äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°ï¼ˆå¥—è·¯é¢˜ï¼‰

![image-20220117092722704](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220117092722704.png) 





![image-20220117093905556](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220117093905556.png)

```java
public class Main {
	public static boolean process(Node header) {
		if (header == null) {
			return true;
		}
		TransformData data = maxChildBSTree(header);
		return data.isBST;
	}

	private static TransformData maxChildBSTree(Node header) {
	//basecase å¦‚æœæ˜¯ç©ºèŠ‚ç‚¹ï¼Œä¹Ÿå¸Œæœ›ä¼ é€’ä¸ªä¸Šå±‚èŠ‚ç‚¹å·²æœ‰èƒ½å°†é€’å½’è¿›è¡Œä¸‹å»ï¼Œæ‰€ä»¥ç»™æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚ 	
		if (header == null) {
			return new TransformData(true, 0, Integer.MIN_VALUE, Integer.MAX_VALUE);
		}
		//é€’å½’å·¦å³å­èŠ‚ç‚¹è·å–ä¿¡æ¯
		TransformData leftData = maxChildBSTree(header.leftNode);
		TransformData rightData = maxChildBSTree(header.rightNode);
		//åˆ¤æ–­åŠ ä¸Šç›®å‰èŠ‚ç‚¹æ˜¯ä¸æ˜¯æ„æˆä¸€é¢—äºŒå‰æœç´¢æ ‘ï¼Œè¯¥èŠ‚ç‚¹çš„å€¼åº”è¯¥å¤§äºå·¦å­æ ‘æœ€å¤§å€¼ï¼Œå°äºå³å­æ ‘æœ€å°å€¼
		if (leftData.isBST && rightData.isBST && header.value > leftData.maxValue
				&& header.value < rightData.maxValue) {
			//å¯èƒ½æ€§1ï¼Œè¯¥èŠ‚ç‚¹ä¸å·¦å³å­æ ‘æ„æˆä¸€é¢—æ–°çš„äºŒå‰æœç´¢æ ‘ï¼Œå·¦å³éƒ½å¾—æ˜¯äºŒå‰æœç´¢æ ‘
			return new TransformData(true, leftData.childMaxBSTNodeNum + rightData.childMaxBSTNodeNum + 1,
					Math.max(header.value, rightData.maxValue), Math.min(leftData.minValue, leftData.minValue));
		}
        // å¯èƒ½æ€§2 ï¼Œè¯¥èŠ‚ç‚¹ä¸å·¦å³å­æ ‘æ„ä¸æˆäºŒå‰æœç´¢æ ‘ï¼Œå°±ç»™maxValueèµ‹å€¼æœ€å°ï¼ŒminValueèµ‹å€¼æœ€å¤§ï¼Œä¿è¯ä¸Šå±‚èŠ‚ç‚¹æ— æ³•æ„æˆäºŒå‰æœç´¢æ ‘ã€‚ç„¶åæ¯”è¾ƒå·¦å³å­æ ‘å“ªä¸ªèŠ‚ç‚¹å¤šå°±è¿”å›å“ªä¸ª
		return new TransformData(false, Math.max(leftData.childMaxBSTNodeNum, rightData.childMaxBSTNodeNum),
				Integer.MIN_VALUE, Integer.MAX_VALUE);

	}

	public static class TransformData {
		boolean isBST;//ä»¥è¯¥èŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘æ˜¯ä¸æ˜¯äºŒå‰æœç´¢æ ‘
		int childMaxBSTNodeNum;//ä¸ç®¡æ˜¯æˆ–è€…ä¸æ˜¯ï¼Œè¿™é¢—å­æ ‘æ‹¥æœ‰çš„æœ€å¤§çš„æœç´¢äºŒå‰æ ‘çš„èŠ‚ç‚¹ä¸ªæ•°
		int maxValue;// æ„æˆæœç´¢äºŒå‰æ ‘çš„æœ€å¤§çš„å€¼
		int minValue;//æ„æˆæœç´¢äºŒå‰æ ‘æœ€å°çš„å€¼
		public TransformData(boolean isBST, int num, int max, int min) {
			this.isBST = isBST;
			this.childMaxBSTNodeNum = num;
			this.maxValue = max;
			this.minValue = min;
		}

	}

	public static class Node {
		int value;
		Node leftNode;
		Node rightNode;
	}
}

```









## å‰ä¸­åºæ¨ååºéå†

![image-20220117235316030](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220117235316030.png)

- å…³æ³¨åœ¨å‰ä¸­ååºéå†ä¹‹é—´çš„å…ƒç´ ç›¸å¯¹ä½ç½®å…³ç³»ã€‚
- ![image-20220117235951620](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220117235951620.png)

```java
public class Test {
    public static void main(String[] args) {
        int[] post = genPost(new int[]{1, 2, 4, 5, 3, 6, 7}, new int[]{4, 2, 5, 1, 6, 3, 7});
        System.out.println(Arrays.toString(post));
    }

    public static int[] genPost(int[] pre, int[] in) {
        int[] post = new int[pre.length];
        HashMap<Integer, Integer> map = new HashMap<>();
        for (int i = 0; i < in.length; i++) {
            map.put(in[i], i);
        }
        genPost(pre, 0, pre.length - 1, in, 0, in.length - 1, post, 0, post.length - 1, map);
        return post;
    }

    private static void genPost(int[] pre, int preStart, int preEnd,
                                int[] in, int medStart, int medEnd,
                                int[] post, int postStart, int postEnd,
                                HashMap<Integer, Integer> map) {
        if (preStart > preEnd) {
            return;
        }
        if (postStart == postEnd) {
            post[postStart] = pre[preStart];
            return;
        }
        //æ¯ä¸€è½®çš„å‰åºç¬¬ä¸€ä¸ªå…ƒç´ å°±æ˜¯ååºæœ€åä¸€ä¸ªå…ƒç´ ï¼Œåœ¨åç»­çš„genPostä¸­ä¸èƒ½å†åŒ…å«å…¶ä»–å…ƒç´ 
        post[postEnd] = pre[preStart];

        //æ­¤æ—¶å¯»æ‰¾pre[preStart]åœ¨medä¸­çš„ç´¢å¼•indexStartï¼Œé‚£ä¹ˆæœ€åçš„ indexStart - medStart å°±æ˜¯ä¸­é—´å…ƒç´ ä¸ªæ•°
        int indexStart = map.get(pre[preStart]);
        
        //ä»¥preä¸­preStartä½ç½®çš„å…ƒç´ ä¸ºå·¦å³åˆ†å‰²ç‚¹,æ ¹æ® indexStart ç¡®å®špre,in,postä¸­çš„æ•°æ®èŒƒå›´
        genPost(pre, preStart + 1, preStart + indexStart - medStart,
                in, medStart, indexStart - 1,
                post, postStart, postStart + indexStart - medStart - 1,
                map);
        genPost(pre, preStart + indexStart - medStart + 1, preEnd,
                in, indexStart + 1, medEnd,
                post, postStart + indexStart - medStart, postEnd - 1,
                map);
    }
}

```

https://leetcode-cn.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal/



```
class Solution {
    private Map<Integer, Integer> indexMap;

    public TreeNode myBuildTree(int[] preorder, int[] inorder, int preorder_left, int preorder_right, int inorder_left, int inorder_right) {
        if (preorder_left > preorder_right) {
            return null;
        }

        // å‰åºéå†ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹å°±æ˜¯æ ¹èŠ‚ç‚¹
        int preorder_root = preorder_left;
        // åœ¨ä¸­åºéå†ä¸­å®šä½æ ¹èŠ‚ç‚¹
        int inorder_root = indexMap.get(preorder[preorder_root]);
        
        // å…ˆæŠŠæ ¹èŠ‚ç‚¹å»ºç«‹å‡ºæ¥
        TreeNode root = new TreeNode(preorder[preorder_root]);
        // å¾—åˆ°å·¦å­æ ‘ä¸­çš„èŠ‚ç‚¹æ•°ç›®
        int size_left_subtree = inorder_root - inorder_left;
        // é€’å½’åœ°æ„é€ å·¦å­æ ‘ï¼Œå¹¶è¿æ¥åˆ°æ ¹èŠ‚ç‚¹
        // å…ˆåºéå†ä¸­ã€Œä» å·¦è¾¹ç•Œ+1 å¼€å§‹çš„ size_left_subtreeã€ä¸ªå…ƒç´ å°±å¯¹åº”äº†ä¸­åºéå†ä¸­ã€Œä» å·¦è¾¹ç•Œ å¼€å§‹åˆ° æ ¹èŠ‚ç‚¹å®šä½-1ã€çš„å…ƒç´ 
        root.left = myBuildTree(preorder, inorder, preorder_left + 1, preorder_left + size_left_subtree, inorder_left, inorder_root - 1);
        // é€’å½’åœ°æ„é€ å³å­æ ‘ï¼Œå¹¶è¿æ¥åˆ°æ ¹èŠ‚ç‚¹
        // å…ˆåºéå†ä¸­ã€Œä» å·¦è¾¹ç•Œ+1+å·¦å­æ ‘èŠ‚ç‚¹æ•°ç›® å¼€å§‹åˆ° å³è¾¹ç•Œã€çš„å…ƒç´ å°±å¯¹åº”äº†ä¸­åºéå†ä¸­ã€Œä» æ ¹èŠ‚ç‚¹å®šä½+1 åˆ° å³è¾¹ç•Œã€çš„å…ƒç´ 
        root.right = myBuildTree(preorder, inorder, preorder_left + size_left_subtree + 1, preorder_right, inorder_root + 1, inorder_right);
        return root;
    }

    public TreeNode buildTree(int[] preorder, int[] inorder) {
        int n = preorder.length;
        // æ„é€ å“ˆå¸Œæ˜ å°„ï¼Œå¸®åŠ©æˆ‘ä»¬å¿«é€Ÿå®šä½æ ¹èŠ‚ç‚¹
        indexMap = new HashMap<Integer, Integer>();
        for (int i = 0; i < n; i++) {
            indexMap.put(inorder[i], i);
        }
        return myBuildTree(preorder, inorder, 0, n - 1, 0, n - 1);
    }
}

```



## æ±‚å®Œå…¨äºŒå‰æ ‘çš„èŠ‚ç‚¹çš„ä¸ªæ•°

â€‹	

![image-20220118092613612](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220118092613612.png)

![image-20220118093215169](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220118093215169.png)

æ±‚å®Œå…¨äºŒå‰æ ‘çš„æ·±åº¦çš„æ–¹æ³•ã€‚

![image-20220118092804821](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220118092804821.png)



![image-20220118093156008](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220118093156008.png)

![image-20220118093510245](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220118093510245.png)

çœ‹å³å­æ ‘çš„æ·±åº¦æ˜¯ä¸æ˜¯ä¸å½“å‰æœ€æ·±åº¦ç›¸ç­‰ï¼Œæ˜¯çš„ï¼Œé‚£å·¦å­æ ‘è‚¯å®šæ˜¯æ»¡äºŒå‰æ ‘ï¼Œå¦‚æœä¸æ˜¯çš„è¯ï¼Œé‚£è¿™ä¸ªå³å­æ ‘è‚¯å®šæ˜¯æ»¡äºŒå‰æ ‘ã€‚ç¡®å®šäº†æ»¡äºŒå‰æ ‘çš„ä¸ªæ•°ï¼Œå°±å¯ä»¥é€’å½’è®¡ç®—å¦å¤–ä¸€ä¸ªä¸æ˜¯æ»¡äºŒå‰æ ‘çš„å­äºŒå‰æ ‘çš„ä¸ªæ•°ã€‚baseæ˜¯ç©ºæˆ–è€…åˆ°äº†æœ€åä¸€å±‚ï¼Œè‚¯å®šæ²¡æœ‰å­æ ‘äº†ï¼Œè¿”å›1ã€‚



## [124. äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ](https://leetcode-cn.com/problems/binary-tree-maximum-path-sum/)

![image-20220313221616601](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220313221616601.png)

```
class Solution {
    int maxSum = Integer.MIN_VALUE;

    public int maxPathSum(TreeNode root) {
        maxGain(root);
        return maxSum;
    }

    public int maxGain(TreeNode node) {
        if (node == null) {
            return 0;
        }
        
        // é€’å½’è®¡ç®—å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼
        // åªæœ‰åœ¨æœ€å¤§è´¡çŒ®å€¼å¤§äº 0 æ—¶ï¼Œæ‰ä¼šé€‰å–å¯¹åº”å­èŠ‚ç‚¹
        int leftGain = Math.max(maxGain(node.left), 0);
        int rightGain = Math.max(maxGain(node.right), 0);

        // èŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„å’Œå–å†³äºè¯¥èŠ‚ç‚¹çš„å€¼ä¸è¯¥èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼
        int priceNewpath = node.val + leftGain + rightGain;

        // æ›´æ–°ç­”æ¡ˆ
        maxSum = Math.max(maxSum, priceNewpath);

        // è¿”å›èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼
        return node.val + Math.max(leftGain, rightGain);
    }
}

```







## [226. ç¿»è½¬äºŒå‰æ ‘](https://leetcode-cn.com/problems/invert-binary-tree/)



é€’å½’



```
class Solution {
    public TreeNode invertTree(TreeNode root) {
        if(root==null) return null;
        TreeNode left = invertTree(root.left);
        TreeNode right = invertTree(root.right);
        root.left=right;
        root.right=left;
        return root;

    }
}
```



```
   /**
     * å±‚åºéå†æ–¹å¼åè½¬
     */
    public TreeNode invertTreeByQueue(TreeNode root) {
        if (root == null) {
            return null;
        }
        Queue<TreeNode> queue = new ArrayDeque<>();
        queue.offer(root);
        while (!queue.isEmpty()) {
            TreeNode node = queue.poll();
            TreeNode temp = node.left;
            node.left = node.right;
            node.right = temp;
            if (node.left != null) {
                queue.offer(node.left);
            }
            if (node.right != null) {
                queue.offer(node.right);
            }
        }
        return root;
    }

    /**
     * æ·±åº¦ä¼˜å…ˆéå†çš„æ–¹å¼åè½¬
     */
    private TreeNode invertTreeByStack(TreeNode root) {
        if (root == null) {
            return null;
        }
        Stack<TreeNode> stack = new Stack<>();
        stack.push(root);
        while (!stack.isEmpty()) {
            int size = stack.size();
            for (int i = 0; i < size; i++) {
                TreeNode cur = stack.pop();
                TreeNode temp = cur.left;
                cur.left = cur.right;
                cur.right = temp;
                if (cur.right != null) {
                    stack.push(cur.right);
                }
                if (cur.left != null) {
                    stack.push(cur.left);
                }
            }
        }
        return root;
    }
```

## [617. åˆå¹¶äºŒå‰æ ‘](https://leetcode-cn.com/problems/merge-two-binary-trees/)

### æˆ‘çš„è§£æ³•

å°±æ˜¯æ·±åº¦ä¼˜å…ˆæœç´¢

```
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    public TreeNode mergeTrees(TreeNode root1, TreeNode root2) {
        if(root1==null && root2==null){
            return null;
        }
        if(root1==null){
            root1=root2;
        }else if(root2!=null){
            root1.val+=root2.val;
            root1.left = mergeTrees(root1.left,root2.left);
            root1.right = mergeTrees(root1.right,root2.right);
        }
        return root1;
    }
}
```

### å®˜æ–¹çš„æ·±åº¦ä¼˜å…ˆæœç´¢

```java
class Solution {
    public TreeNode mergeTrees(TreeNode t1, TreeNode t2) {
        if (t1 == null) {
            return t2;
        }
        if (t2 == null) {
            return t1;
        }
        TreeNode merged = new TreeNode(t1.val + t2.val);
        merged.left = mergeTrees(t1.left, t2.left);
        merged.right = mergeTrees(t1.right, t2.right);
        return merged;
    }
}
```



### å¹¿åº¦ä¼˜å…ˆæœç´¢

![image-20220316222307002](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220316222307002.png)



å…¶å®å°±æ˜¯å±‚æ¬¡éå†,å€ŸåŠ©ä¸‰ä¸ªé˜Ÿåˆ—

```java
class Solution {
    public TreeNode mergeTrees(TreeNode t1, TreeNode t2) {
        if (t1 == null) {
            return t2;
        }
        if (t2 == null) {
            return t1;
        }
        TreeNode merged = new TreeNode(t1.val + t2.val);
        Queue<TreeNode> queue = new LinkedList<TreeNode>();
        Queue<TreeNode> queue1 = new LinkedList<TreeNode>();
        Queue<TreeNode> queue2 = new LinkedList<TreeNode>();
        queue.offer(merged);
        queue1.offer(t1);
        queue2.offer(t2);
        while (!queue1.isEmpty() && !queue2.isEmpty()) {
            TreeNode node = queue.poll(), node1 = queue1.poll(), node2 = queue2.poll();
            TreeNode left1 = node1.left, left2 = node2.left, right1 = node1.right, right2 = node2.right;
            if (left1 != null || left2 != null) {
                if (left1 != null && left2 != null) {
                    TreeNode left = new TreeNode(left1.val + left2.val);
                    node.left = left;
                    queue.offer(left);
                    queue1.offer(left1);
                    queue2.offer(left2);
                } else if (left1 != null) {
                    node.left = left1;
                } else if (left2 != null) {
                    node.left = left2;
                }
            }
            if (right1 != null || right2 != null) {
                if (right1 != null && right2 != null) {
                    TreeNode right = new TreeNode(right1.val + right2.val);
                    node.right = right;
                    queue.offer(right);
                    queue1.offer(right1);
                    queue2.offer(right2);
                } else if (right1 != null) {
                    node.right = right1;
                } else {
                    node.right = right2;
                }
            }
        }
        return merged;
    }
}

```



## æŠ˜çº¸å‡¹å‡¸é—®é¢˜

![image-20220318230102031](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220318230102031.png)

- ä¸Šæ¬¡æ¯ä¸ªæŠ˜ç—•éƒ½æœ‰ä¸¤ä¸ªå­æŠ˜ç—•ï¼Œä¸Šå‡¹ä¸‹å‡¸ï¼Œä¹Ÿå°±æ˜¯äºŒå‰æ ‘èŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªå‡¹å·¦èŠ‚ç‚¹ä¸€ä¸ªå‡¸å³èŠ‚ç‚¹ã€‚è¿™äº›æŠ˜ç—•çš„é¡ºåºå°±æ˜¯äºŒå‰æ ‘çš„ä¸­åºéå†ã€‚

```
public class Main {
	/**
	 * @param N æŠ˜Næ¬¡
	 */
	public static void pre(int N) {
		pre(N, true);
	}

	private static void pre(int num, boolean down) {
		if (num == 0)
			return;
		pre(num - 1, true);// trueè¡¨ç¤ºå‡¹ï¼Œfalseè¡¨ç¤ºå‡¸
		System.out.print(down ? "down " : "up ");
		pre(num - 1, false);
	}
}

```

# å­—å…¸æ ‘



## [208. å®ç° Trie (å‰ç¼€æ ‘)](https://leetcode-cn.com/problems/implement-trie-prefix-tree/)

![image-20220321215557982](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220321215557982.png)

```
/**
 * @author chilcyWind
 * @Description
 * @Author Yang
 * @Date 2022/3/21
 * @Version 1.0
 **/
class Trie {
    private TrieNode root = new TrieNode('/');

    class TrieNode {
        public char data;
        public TrieNode[] children = new TrieNode[26];
        public boolean isEndingChar = false;

        public TrieNode(char data) {
            this.data = data;
        }
    }


    public void insert(String word) {
        TrieNode p = root;
        for (int i = 0; i < word.length(); ++i) {
            int index = word.charAt(i) - 'a';
            if (p.children[index] == null) {
                TrieNode newNode = new TrieNode(word.charAt(i));
                p.children[index] = newNode;
            }
            p = p.children[index];
        }
        p.isEndingChar = true;
    }

    public boolean search(String word) {
        TrieNode p = root;//ä¸Šä¸€ä¸ªå•è¯æ‰¾å®Œåˆ°ç»“å°¾äº†ï¼Œä»rootå¼€å§‹æ‰¾
        for (int i = 0; i < word.length(); i++) {//iä»¥å‰çš„å•è¯éƒ½è¢«æ‰¾å®Œäº†ã€‚
            int index = word.charAt(i) - 'a';
            if (p.children[index] == null) {
                return false;
            }
            p = p.children[index];
        }
        if (p.isEndingChar == true) {
            return true;
        }
        return false;


    }

    public boolean startsWith(String prefix) {
        TrieNode p = root;//ä¸Šä¸€ä¸ªå•è¯æ‰¾å®Œåˆ°ç»“å°¾äº†ï¼Œä»rootå¼€å§‹æ‰¾
        for (int i = 0; i < prefix.length(); i++) {//iä»¥å‰çš„å•è¯éƒ½è¢«æ‰¾å®Œäº†ã€‚
            int index = prefix.charAt(i) - 'a';
            if (p.children[index] == null) {
                return false;
            }
            p = p.children[index];
        }
        return true;
    }
}

/**
 * Your Trie object will be instantiated and called as such:
 * Trie obj = new Trie();
 * obj.insert(word);
 * boolean param_2 = obj.search(word);
 * boolean param_3 = obj.startsWith(prefix);
 */
```

å®˜æ–¹çš„è§£æ³•

```java
class Trie {
    private Trie[] children;
    private boolean isEnd;

    public Trie() {
        children = new Trie[26];
        isEnd = false;
    }
    
    public void insert(String word) {
        Trie node = this;
        for (int i = 0; i < word.length(); i++) {
            char ch = word.charAt(i);
            int index = ch - 'a';
            if (node.children[index] == null) {
                node.children[index] = new Trie();
            }
            node = node.children[index];
        }
        node.isEnd = true;
    }
    
    public boolean search(String word) {
        Trie node = searchPrefix(word);
        return node != null && node.isEnd;
    }
    
    public boolean startsWith(String prefix) {
        return searchPrefix(prefix) != null;
    }

    private Trie searchPrefix(String prefix) {
        Trie node = this;
        for (int i = 0; i < prefix.length(); i++) {
            char ch = prefix.charAt(i);
            int index = ch - 'a';
            if (node.children[index] == null) {
                return null;
            }
            node = node.children[index];
        }
        return node;
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/implement-trie-prefix-tree/solution/shi-xian-trie-qian-zhui-shu-by-leetcode-ti500/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```







## [139. å•è¯æ‹†åˆ†](https://leetcode-cn.com/problems/word-break/)

### å­—å…¸æ ‘

```java
import java.util.List;

/**
 * @author chilcyWind
 * @Description
 * @Author Yang
 * @Date 2022/3/20
 * @Version 1.0
 **/
public class wordBreak {
    // 1ms
    public boolean wordBreak(String s, List<String> wordDict) {
        Trie trie = new Trie();

        for (String word : wordDict)
            trie.insert(word.toCharArray());

        return trie.find(s, 0);
    }

    class TrieNode {
        public char data;
        public TrieNode[] children = new TrieNode[26];
        public boolean isEndingChar = false;

        public TrieNode(char data) {
            this.data = data;
        }
    }

    class Trie {
        private TrieNode root = new TrieNode('/');
        boolean[] failed = new boolean[301]; // s.length <= 300

        public void insert(char[] text) {
            TrieNode p = root;
            for (int i = 0; i < text.length; ++i) {
                int index = text[i] - 'a';
                if (p.children[index] == null) {
                    TrieNode newNode = new TrieNode(text[i]);
                    p.children[index] = newNode;
                }
                p = p.children[index];
            }
            p.isEndingChar = true;
        }

        public boolean find(String s, int i) {
            if (failed[i])//è¯´æ˜ä»i+1å¾€åæ‰¾s[i+1:...]å¾€åçš„åŒ¹é…ï¼Œåç»­æ‰¾ä¸åˆ°äº†ã€‚
                return false;

            if (i >= s.length())//åŒ¹é…å®Œæˆ
                return true;
            TrieNode p = root;//ä¸Šä¸€ä¸ªå•è¯æ‰¾å®Œåˆ°ç»“å°¾äº†ï¼Œä»rootå¼€å§‹æ‰¾
            for (; i < s.length(); i++) {//iä»¥å‰çš„å•è¯éƒ½è¢«æ‰¾å®Œäº†ã€‚
                int index = s.charAt(i) - 'a';
                if (p.children[index] == null) {
                    return false;
                }
                p = p.children[index];
                if (p.isEndingChar) {//æ‰¾åˆ°äº†iæ‰èƒ½èµ°åˆ°è¿™ä¸€æ­¥

                    if (find(s, i + 1))//ï¼Œç›¸å½“äºæ˜¯æ¯æ¬¡å¦‚æœpä½ç½®æ˜¯ä¸€ä¸ªå•è¯çš„ç»“å°¾å°±å…ˆå¾€ä¸‹é€’å½’ã€‚ç›¸å½“äºå…ˆåŒ¹é…è¾ƒçŸ­çš„å•è¯
                        return true;
                    failed[i + 1] = true;//èµ°åˆ°è¿™ä¸€æ­¥ï¼Œè¯´æ˜ä»i+1å¾€åæ‰¾s[i+1:...]å¾€åçš„å­—ç¬¦ä¸²å¤±è´¥äº†ï¼Œåç»­æ‰¾ä¸åˆ°äº†ã€‚åé¢å°±ä¸ç”¨ä»iä½ç½®æ‰¾äº†ã€‚
                }
            }
            return false;//é»˜è®¤è¿”å›falseï¼Œèµ°åˆ°è¿™ä¸€æ­¥ï¼Œ
        }
    }
}
```



æœ€åä¹‹æ‰€ä»¥è¦return falseï¼Œè¯´æ˜iæ²¡æœ‰èµ°åˆ°åŒ¹é…çš„ä¸€ä¸ªå•è¯çš„å®Œæ•´éƒ¨åˆ†ã€‚ä¾‹å¦‚è¿™ä¸ªï¼Œæœ€ç»ˆèµ°åˆ°çš„æ˜¯ä¸€ä¸ªå­—æ¯aï¼Œæ²¡æœ‰ èµ°å®Œä¸€ä¸ªå®Œæ•´å•è¯

![image-20220321010020897](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220321010020897.png)



### åŠ¨æ€è§„åˆ’

s.substring(j,i) ä»0ä½ç½®å¼€å§‹è®¡ç®—ï¼ŒåŒ…å«jä¸åŒ…å«iä½ç½®çš„å­—ç¬¦ã€‚

```java
class Solution {
    public boolean wordBreak(String s, List<String> wordDict) {
        HashSet<String> set = new HashSet<>(wordDict);
        boolean[] dp = new boolean[s.length()+1];
        dp[0] =true;
        for(int i = 1;i<=s.length();i++){
            for(int j = 0;j<i;j++){
                if(dp[j]&&set.contains(s.substring(j,i))){
                    dp[i]=true;
                    break;
                }
            }
        }

    return dp[s.length()];

    }
}
```







## [437. è·¯å¾„æ€»å’Œ III](https://leetcode-cn.com/problems/path-sum-iii/)

é€’å½’

```
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    public int pathSum(TreeNode root, int targetSum) {
        if(root==null) return 0;
        int res=0;
        res+=rootSum(root,targetSum);
        res+=pathSum(root.left,targetSum);
        res+=pathSum(root.right,targetSum);
        return res;

    }
    public int rootSum(TreeNode root, int targetSum) {
        if(root==null){
            return 0;
        }
        
        int ret=0;
        if(targetSum==root.val){
            ret++;
        }
        ret+=rootSum(root.left,targetSum-root.val);
        ret+=rootSum(root.right,targetSum-root.val);
        return ret;

    }
}
```

å‰ç¼€å’Œ

çœ‹è¿™ä¸ªåœ°æ–¹æ¥ç†è§£ã€‚

https://leetcode-cn.com/problems/path-sum-iii/solution/dui-qian-zhui-he-jie-fa-de-yi-dian-jie-s-dey6/

```
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    public int pathSum(TreeNode root, int targetSum) {
        //HashMapçš„keyæ˜¯å‰ç¼€å’Œï¼Œ valueæ˜¯è¯¥å‰ç¼€å’Œçš„èŠ‚ç‚¹æ•°é‡ï¼Œè®°å½•æ•°é‡æ˜¯å› ä¸ºæœ‰å‡ºç°å¤æ•°è·¯å¾„çš„å¯èƒ½ã€‚
        HashMap<Long, Integer> map=new HashMap<>();
        map.put(0L,1);
        
        return dfs(root,map,0,targetSum);

    }
    public int dfs(TreeNode root,HashMap<Long, Integer> prefix,long cur,int targetSum){
        if(root==null)  return 0;
        cur +=root.val;
        int res = prefix.getOrDefault(cur-targetSum,0);
          prefix.put(cur, prefix.getOrDefault(cur, 0) + 1);
        res+=dfs(root.left,prefix,cur,targetSum);
        res+=dfs(root.right,prefix,cur,targetSum);
        prefix.put(cur,prefix.getOrDefault(cur,0)-1);
        return res;




    }
}
```







## æ–‡ä»¶å¤¹ç»“æ„



![image-20220111233804077](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220111233804077.png)

![image-20220112000055179](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220112000055179.png)

ç„¶åæ·±åº¦ä¼˜å…ˆéå†

![image-20220112000201818](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220112000201818.png)

![image-20220112003108883](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220112003108883.png)



# å›¾

![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142758750-d7ee486b-38b2-4b2b-958d-0399c5511f58.png)

è¡¨è¾¾å›¾çš„ä¸€ç§æ–¹å¼
è¡¨ç¤ºnodeçš„æè¿°
![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142759443-88012d8e-dd5b-43f0-a2f3-bc297580ce16.png)
ä»ä¸Šåˆ°ä¸‹ï¼Œåˆ†åˆ«æ˜¯

- å€¼
- å…¥åº¦
- å‡ºåº¦
- ç”±è¿™ä¸ªç‚¹æŒ‡å‘çš„ç‚¹çš„é›†åˆ
- æŒ‡å‘è¿™ä¸ªç‚¹çš„é›†åˆ

è¡¨ç¤ºè¾¹çš„æè¿°
![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142759537-dba9a3aa-e7ef-4716-a095-6d902dd50a39.png)

- æƒå€¼
- ä»å“ªä¸ªç‚¹èµ·
- æŒ‡å‘å“ªä¸ªç‚¹

å›¾çš„è¡¨ç¤ºï¼Œè¾¹é›†å’Œç‚¹é›†

![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142759679-95421d22-2b96-4681-9b32-d3a4753945b6.png)

æ ¹æ®äºŒç»´çŸ©é˜µæ„å»ºä¸Šé¢çš„å›¾çš„ä»£ç 
![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142759766-81df64fe-81ae-4ee2-b917-8d0b186511b6.png)

## å›¾çš„å®½åº¦ä¼˜å…ˆéå†

![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142759860-a07c5d09-3996-41a9-b7f5-9650028eee9c.png)
![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142759911-078d0e38-bda0-49aa-8b4f-9f91c181d2b7.png)





## å›¾çš„å¹¿åº¦ä¼˜å…ˆéå†

![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142760807-8415810b-d085-452f-8411-4cb220a1270c.png)
æ ˆé‡Œé¢çš„æ¯ä¸ªèŠ‚ç‚¹éƒ½æ˜¯è®¿é—®è¿‡çš„ï¼Œå› æ­¤ä¸‹æ¬¡åªæ˜¯å¼¹å‡ºæ¥å¯»æ‰¾æ·±åº¦ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¦‚æœæ‰¾åˆ°äº†ï¼Œå°±æŠŠè¿™ä¸¤ä¸ªéƒ½åŠ å…¥åˆ°æ ˆä¸­ï¼Œç„¶åè®¿é—®ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°†ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¿å­˜åˆ°setä¸­ã€‚setçš„ä½œç”¨å°±æ˜¯ä¿å­˜å·²ç»è®¿é—®è¿‡çš„èŠ‚ç‚¹ã€‚

## æ‹“æ‰‘æ’åº

åœ¨ä¸€ä¸ªæœ‰å‘å›¾ä¸­ï¼Œå¯¹æ‰€æœ‰çš„èŠ‚ç‚¹è¿›è¡Œæ’åºï¼Œè¦æ±‚æ²¡æœ‰ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘å®ƒå‰é¢çš„èŠ‚ç‚¹ã€‚

å…ˆç»Ÿè®¡æ‰€æœ‰èŠ‚ç‚¹çš„å…¥åº¦ï¼Œå¯¹äºå…¥åº¦ä¸º0çš„èŠ‚ç‚¹å°±å¯ä»¥åˆ†ç¦»å‡ºæ¥ï¼Œç„¶åæŠŠè¿™ä¸ªèŠ‚ç‚¹æŒ‡å‘çš„èŠ‚ç‚¹çš„å…¥åº¦å‡ä¸€ã€‚

ä¸€ç›´åšæ”¹æ“ä½œï¼Œç›´åˆ°æ‰€æœ‰çš„èŠ‚ç‚¹éƒ½è¢«åˆ†ç¦»å‡ºæ¥ã€‚

å¦‚æœæœ€åä¸å­˜åœ¨å…¥åº¦ä¸º0çš„èŠ‚ç‚¹ï¼Œé‚£å°±è¯´æ˜æœ‰ç¯ï¼Œä¸å­˜åœ¨æ‹“æ‰‘æ’åºï¼Œä¹Ÿå°±æ˜¯å¾ˆå¤šé¢˜ç›®çš„æ— è§£çš„æƒ…å†µã€‚

ä¸‹é¢æ˜¯ç®—æ³•çš„æ¼”ç¤ºè¿‡ç¨‹ã€‚

![image-20220319231051717](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220319231051717.png)





![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142765102-871b3421-eca8-4dfd-87c4-9cabaf885886.png)

## æœ€å°ç”Ÿæˆæ ‘

1ã€ä»€ä¹ˆæ˜¯æœ€å°ç”Ÿæˆæ ‘
ç°åœ¨å‡è®¾æœ‰ä¸€ä¸ªå¾ˆå®é™…çš„é—®é¢˜ï¼šæˆ‘ä»¬è¦åœ¨nä¸ªåŸå¸‚ä¸­å»ºç«‹ä¸€ä¸ªé€šä¿¡ç½‘ç»œï¼Œåˆ™è¿é€šè¿™nä¸ªåŸå¸‚éœ€è¦å¸ƒç½®n-1ä¸€æ¡é€šä¿¡çº¿è·¯ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬éœ€è¦è€ƒè™‘å¦‚ä½•åœ¨æˆæœ¬æœ€ä½çš„æƒ…å†µä¸‹å»ºç«‹è¿™ä¸ªé€šä¿¡ç½‘ï¼Ÿ
äºæ˜¯æˆ‘ä»¬å°±å¯ä»¥å¼•å…¥è¿é€šå›¾æ¥è§£å†³æˆ‘ä»¬é‡åˆ°çš„é—®é¢˜ï¼Œnä¸ªåŸå¸‚å°±æ˜¯å›¾ä¸Šçš„nä¸ªé¡¶ç‚¹ï¼Œç„¶åï¼Œè¾¹è¡¨ç¤ºä¸¤ä¸ªåŸå¸‚çš„é€šä¿¡çº¿è·¯ï¼Œæ¯æ¡è¾¹ä¸Šçš„æƒé‡å°±æ˜¯æˆ‘ä»¬æ­å»ºè¿™æ¡çº¿è·¯æ‰€éœ€è¦çš„æˆæœ¬ï¼Œæ‰€ä»¥ç°åœ¨æˆ‘ä»¬æœ‰nä¸ªé¡¶ç‚¹çš„è¿é€šç½‘å¯ä»¥å»ºç«‹ä¸åŒçš„ç”Ÿæˆæ ‘ï¼Œæ¯ä¸€é¢—ç”Ÿæˆæ ‘éƒ½å¯ä»¥ä½œä¸ºä¸€ä¸ªé€šä¿¡ç½‘ï¼Œå½“æˆ‘ä»¬æ„é€ è¿™ä¸ªè¿é€šç½‘æ‰€èŠ±çš„æˆæœ¬æœ€å°æ—¶ï¼Œæ­å»ºè¯¥è¿é€šç½‘çš„ç”Ÿæˆæ ‘ï¼Œå°±ç§°ä¸ºæœ€å°ç”Ÿæˆæ ‘ã€‚

æ„é€ æœ€å°ç”Ÿæˆæ ‘æœ‰å¾ˆå¤šç®—æ³•ï¼Œä½†æ˜¯ä»–ä»¬éƒ½æ˜¯åˆ©ç”¨äº†æœ€å°ç”Ÿæˆæ ‘çš„åŒä¸€ç§æ€§è´¨ï¼šMSTæ€§è´¨ï¼ˆå‡è®¾N=(V,{E})æ˜¯ä¸€ä¸ªè¿é€šç½‘ï¼ŒUæ˜¯é¡¶ç‚¹é›†Vçš„ä¸€ä¸ªéç©ºå­é›†ï¼Œå¦‚æœï¼ˆuï¼Œvï¼‰æ˜¯ä¸€æ¡å…·æœ‰æœ€å°æƒå€¼çš„è¾¹ï¼Œå…¶ä¸­uå±äºUï¼Œvå±äºV-Uï¼Œåˆ™å¿…å®šå­˜åœ¨ä¸€é¢—åŒ…å«è¾¹ï¼ˆuï¼Œvï¼‰çš„æœ€å°ç”Ÿæˆæ ‘ï¼‰ï¼Œä¸‹é¢å°±ä»‹ç»ä¸¤ç§ä½¿ç”¨MSTæ€§è´¨ç”Ÿæˆæœ€å°ç”Ÿæˆæ ‘çš„ç®—æ³•ï¼šæ™®é‡Œå§†ç®—æ³•å’Œå…‹é²æ–¯å¡å°”ç®—æ³•ã€‚

#### æ™®é‡Œå§†ç®—æ³•â€”Primç®—æ³•

ç®—æ³•æ€è·¯ï¼š
é¦–å…ˆå°±æ˜¯ä»å›¾ä¸­çš„ä¸€ä¸ªèµ·ç‚¹aå¼€å§‹ï¼ŒæŠŠaåŠ å…¥Ué›†åˆï¼Œç„¶åï¼Œå¯»æ‰¾ä»ä¸aæœ‰å…³è”çš„è¾¹ä¸­ï¼Œæƒé‡æœ€å°çš„é‚£æ¡è¾¹å¹¶ä¸”è¯¥è¾¹çš„ç»ˆç‚¹båœ¨é¡¶ç‚¹é›†åˆï¼šï¼ˆV-Uï¼‰ä¸­ï¼Œæˆ‘ä»¬ä¹ŸæŠŠbåŠ å…¥åˆ°é›†åˆUä¸­ï¼Œå¹¶ä¸”è¾“å‡ºè¾¹ï¼ˆaï¼Œbï¼‰çš„ä¿¡æ¯ï¼Œè¿™æ ·æˆ‘ä»¬çš„é›†åˆUå°±æœ‰ï¼š{a,b}ï¼Œç„¶åï¼Œæˆ‘ä»¬å¯»æ‰¾ä¸aå…³è”å’Œbå…³è”çš„è¾¹ä¸­ï¼Œæƒé‡æœ€å°çš„é‚£æ¡è¾¹å¹¶ä¸”è¯¥è¾¹çš„ç»ˆç‚¹åœ¨é›†åˆï¼šï¼ˆV-Uï¼‰ä¸­ï¼Œæˆ‘ä»¬æŠŠcåŠ å…¥åˆ°é›†åˆUä¸­ï¼Œå¹¶ä¸”è¾“å‡ºå¯¹åº”çš„é‚£æ¡è¾¹çš„ä¿¡æ¯ï¼Œè¿™æ ·æˆ‘ä»¬çš„é›†åˆUå°±æœ‰ï¼š{a,b,c}è¿™ä¸‰ä¸ªå…ƒç´ äº†ï¼Œä¸€æ¬¡ç±»æ¨ï¼Œç›´åˆ°æ‰€æœ‰é¡¶ç‚¹éƒ½åŠ å…¥åˆ°äº†é›†åˆUã€‚

ä¸‹é¢æˆ‘ä»¬å¯¹ä¸‹é¢è¿™å¹…å›¾æ±‚å…¶æœ€å°ç”Ÿæˆæ ‘ï¼š

pç®—æ³•:
åŠ è¾¹ï¼Œforå¾ªç¯ä½¿ä¸ºäº†é¿å…æ£®æ—çš„é—®é¢˜
![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142767395-d89aa4a6-bcb7-41ff-864d-c22f8d464456.png)

![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142767572-6ccb7b09-4da9-4f6e-9400-93ecfc21b498.png)
è¿™ä¸ªæœ‰æ—¶é—´å†å›æ¥çœ‹å§ï¼Œåè¾¹å­¦äº†å¹¶æŸ¥é›†å¯ä»¥æ›¿ä»£è¿™ä¸ªç®—æ³•ã€‚



pç®—æ³•å’Œkç®—æ³•ï¼Œè¦æ±‚æœ€å°ç”Ÿæˆæ ‘,ä»¥åŠè¦æ±‚æ— å‘å›¾

#### å…‹é²æ–¯å¡ç®—æ³•

ç®—æ³•æ€è·¯ï¼š
ï¼ˆ1ï¼‰å°†å›¾ä¸­çš„æ‰€æœ‰è¾¹éƒ½å»æ‰ã€‚
ï¼ˆ2ï¼‰å°†è¾¹æŒ‰æƒå€¼ä»å°åˆ°å¤§çš„é¡ºåºæ·»åŠ åˆ°å›¾ä¸­ï¼Œä¿è¯æ·»åŠ çš„è¿‡ç¨‹ä¸­ä¸ä¼šå½¢æˆç¯
ï¼ˆ3ï¼‰é‡å¤ä¸Šä¸€æ­¥ç›´åˆ°è¿æ¥æ‰€æœ‰é¡¶ç‚¹ï¼Œæ­¤æ—¶å°±ç”Ÿæˆäº†æœ€å°ç”Ÿæˆæ ‘ã€‚è¿™æ˜¯ä¸€ç§è´ªå¿ƒç­–ç•¥ã€‚

è¿™é‡ŒåŒæ ·æˆ‘ä»¬ç»™å‡ºä¸€ä¸ªå’ŒPrimç®—æ³•è®²è§£ä¸­åŒæ ·çš„ä¾‹å­ï¼Œæ¨¡æ‹Ÿå…‹é²æ–¯å¡ç®—æ³•ç”Ÿæˆæœ€å°ç”Ÿæˆæ ‘çš„è¯¦ç»†çš„è¿‡ç¨‹ï¼š



kç®—æ³•;
![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142766500-43e8c50e-8913-4ed3-bed8-4232da9dc2d5.png)

å®šä¹‰ä¸€ä¸ªæ¯”è¾ƒå™¨ï¼Œç„¶åæŒ‰ä»å°æ‰“å¤§çš„é¡ºåºæ’åˆ—è¾¹ï¼Œåˆšå¼€å§‹çš„æ—¶å€™æ¯ä¸ªèŠ‚ç‚¹æ˜¯ä¸€ä¸ªé›†åˆã€‚ç„¶åä¸€æ¡ä¸€æ¡çš„å–å‡ºå°†è¾¹çš„ä¸¤ä¸ªèŠ‚ç‚¹åŠ å…¥åˆ°ä¸€ä¸ªé›†åˆä¸­ï¼Œå¦‚æœè¾¹çš„ä¸¤ä¸ªèŠ‚ç‚¹åœ¨ä¸€ä¸ªé›†åˆä¸­ï¼Œå°±æ”¾å¼ƒè¿™ä¸ªè¾¹ã€‚ç›´åˆ°åªå‰©ä¸€ä¸ªé›†åˆï¼Œä¹Ÿå°±æ˜¯æ‰€æœ‰çš„èŠ‚ç‚¹å·²ç»è”é€šäº†ï¼ŒåŒæ—¶ä½¿ç”¨åˆ°çš„è¾¹å°±æ˜¯ä½¿é›†åˆè”é€šçš„æœ€å°çš„æƒé‡ã€‚
ç”¨åˆ°çš„ä¼˜å…ˆé˜Ÿåˆ—å°±æ˜¯å †æ’åºã€‚



## è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•

![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142768080-4cf6efd9-a5c4-4189-823b-9e9d2e63f60e.png)

è§„å®šäº†èµ·ç‚¹å’Œç»ˆç‚¹ï¼Œæ¥ç®—æœ€çŸ­çš„è·¯å¾„
![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142768094-838451a3-d4dd-4e28-9359-3da6e5e989c8.png)
![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/142768230-963b952f-f4a1-4ffd-b760-9e45a1adf66d.png)

![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/144153411-dac2e1b5-5a65-41ec-bedf-e718171fb0e6.png)
![Screenshot_2021-11-29-13-04-31-099_tv danmaku bil](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/144153422-cc3c5bef-fce4-49b7-8101-d3a073755fd8.jpg)







# æš´åŠ›é€’å½’

## é€’å½’å®ç°å­—ç¬¦ä¸²æ±‚å€¼è®¡ç®—

å¯ä»¥ç”¨æ ˆåšï¼Œä½†æ˜¯å¾ˆéº»çƒ¦ã€‚

ä¸å¸¦å°æ‹¬å·ç”¨æ ˆåšï¼Œåªè¦æ ˆé¡¶æ˜¯ä¹˜æˆ–è€…é™¤å·å°±å¼¹å‡ºè®¡ç®—å®Œå†å…¥æ ˆã€‚åŠ å’Œå‡ç•™ç€æœ€åä¸€èµ·è®¡ç®—ç»“æœã€‚

![image-20220202172047991](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220202172047991.png)

![image-20220202171131832](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220202171131832.png)



é‡è§æ‹¬å·å°±è¿›è¡Œé€’å½’ï¼Œè®©é€’å½’è®¡ç®—å®Œæ‹¬å·å†…çš„éƒ¨åˆ†ï¼Œç„¶åè¿”å›è®¡ç®—çš„å€¼å’Œè®¡ç®—åˆ°çš„ä½ç½®ï¼Œç„¶åç»§ç»­å¾€ä¸‹è®¡ç®—ã€‚



```java
public class StrToNum {
	public static void main(String[] args) {
		int a = value("4-(1+2)*3+1");
		System.out.println(a);
	}

	public static int value(String string) {
		if (string == null || string.length() == 0) {
			return 0;
		}
		return value(string.toCharArray(), 0)[0];
	}
    
//è¯·ä»str[i...]å¾€ä¸‹ç®—ï¼Œé‡åˆ°å­—ç¬¦ä¸²ç»ˆæ­¢ä½ç½®æˆ–è€…å³æ‹¬å·ï¼Œå°±åœæ­¢
//è¿”å›ä¸¤ä¸ªå€¼ï¼Œé•¿åº¦ä¸º2çš„æ•°ç»„
	// 0)è´Ÿè´£çš„è¿™-æ®µçš„ç»“æœæ˜¯å¤šå°‘
	// 1) è´Ÿè´£çš„è¿™- -æ®µè®¡ç®—åˆ°äº†å“ªä¸ªä½ç½®
	private static int[] value(char[] str, int i) {
		LinkedList<String> list = new LinkedList<>();//åŒç«¯é˜Ÿåˆ—ï¼Œå½“æˆæ ˆä½¿ç”¨
		int num = 0;
		int[] bra = null;
		while (i < str.length && str[i] != ')') {
			if (str[i] >= '0' && str[i] <= '9') {
				num = num * 10 + str[i++] - '0';
			} else if (str[i] != '(') {
				addNum(list, num);
				list.addLast(String.valueOf(str[i++]));
				num = 0;
			} else {
				bra = value(str, i + 1);
				num = bra[0];
				i = bra[1] + 1;
			}

		}
		addNum(list, num);
		return new int[] { getNum(list), i };
	}
//ä¸å¸¦å°æ‹¬å·ç”¨æ ˆåšï¼Œåªè¦æ ˆé¡¶æ˜¯ä¹˜æˆ–è€…é™¤å·å°±å¼¹å‡ºè®¡ç®—å®Œå†å…¥æ ˆã€‚åŠ å’Œå‡ç•™ç€æœ€åä¸€èµ·è®¡ç®—ç»“æœã€‚
	private static void addNum(LinkedList<String> list, int num) {
		if (!list.isEmpty()) {
			int cur = 0;
			String top = list.pollLast();
			if (top.equals("+") || top.equals("-")) {
				list.addLast(top);
			} else {
				cur = Integer.valueOf(list.pollLast());
				num = top.equals("*") ? (cur * num) : (cur / num);
			}
		}
		list.addLast(String.valueOf(num));

	}

	private static int getNum(LinkedList<String> list) {
		int res = 0;
		boolean add = true;
		String curString = null;
		int num = 0;
		while (!list.isEmpty()) {
			curString = list.pollFirst();
			if (curString.equals("+")) {
				add = true;
			} else if (curString.equals("-")) {
				add = false;
			} else {
				num = Integer.valueOf(curString);
				res += add ? num : (-num);
			}
		}
		return res;
	}
}

```



## [ æ±‰è¯ºå¡”é—®é¢˜](https://leetcode-cn.com/problems/hanota-lcci/)

![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/143888259-7d85ba99-28c5-4d52-9597-930321814669.png)


é‡‡ç”¨é€’å½’çš„æ€è·¯
ä¸‰è¦ç´ å¦‚ä¸‹ï¼š
é€’å½’ç»“æŸæ¡ä»¶ï¼šåªå‰©ä¸‹æœ€åä¸€ä¸ªç›˜å­éœ€è¦ç§»åŠ¨
é€’å½’å‡½æ•°ä¸»åŠŸèƒ½ï¼š
1.é¦–å…ˆå°† n-1 ä¸ªç›˜å­ï¼Œä»ç¬¬ä¸€ä¸ªæŸ±å­ç§»åŠ¨åˆ°ç¬¬äºŒä¸ªæŸ±å­
2.ç„¶åå°†æœ€åä¸€ä¸ªç›˜å­ç§»åŠ¨åˆ°ç¬¬ä¸‰ä¸ªæŸ±å­ä¸Š
3.æœ€åå°†ç¬¬äºŒä¸ªæŸ±å­ä¸Šçš„ n-1 ä¸ªç›˜å­ï¼Œç§»åŠ¨åˆ°ç¬¬ä¸‰ä¸ªæŸ±å­ä¸Š
å‡½æ•°çš„ç­‰ä»·å…³ç³»å¼ï¼š
f(n,A,B,C) è¡¨ç¤ºå°†nä¸ªç›˜å­ä»Aç§»åŠ¨åˆ°C
f(n,A,B,C)=f(n-1,A,C,B)+f(1,A,B,C)+f(n-1,B,A,C)

```
class Solution {
    public void hanota(List<Integer> A, List<Integer> B, List<Integer> C) {
        movePlant(A.size(),A,B,C);
    }
    public void movePlant(int size, List<Integer> from, List<Integer> in, List<Integer> to){
        if(size==1){
            to.add(from.remove(from.size()-1));
            return;
        }
        movePlant(size-1,from,to,in);
         to.add(from.remove(from.size()-1));
         movePlant(size-1,in,from,to);
    }
}
```





## ä¸å€ŸåŠ©é¢å¤–ç©ºé—´æŠŠæ ˆé€†åº

![image-20220322214134780](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220322214134780.png)

```java
import javax.swing.*;
import java.util.Stack;

/**
 * @author chilcyWind
 * @Description
 * @Author Yang
 * @Date 2022/3/22
 * @Version 1.0
 **/
public class reservestack {
    public static void main(String[] args) {
        Stack<Integer> stack = new Stack<>();
        for (int i = 0; i < 10; i++) {
            stack.push(i);
        }
        reverse(stack);
        while (!stack.isEmpty()) {
            System.out.println(stack.pop());
        }

    }

    public static void reverse(Stack<Integer> stack) {
        if (stack.isEmpty()) {
            return;
        }
        //f è¿”å›æœ€ä¸‹é¢çš„å€¼,å‰©ä¸‹çš„æŒ‰ç…§åŸæ¥çš„æ’åˆ—
        int i = f(stack);
        //åè½¬æ ˆä¸­å‰©ä¸‹å…ƒç´ 
        reverse(stack);
        //æ”¾å…¥æœ€åä¸€ä¸ªå…ƒç´ 
        stack.push(i);

    }

    //è¿”å›æ ˆä¸­æœ€ä¸‹é¢çš„å…ƒç´ 
    public static int f(Stack<Integer> stack) {
        int i = stack.pop();
        //å¦‚æœæ‹¿åˆ°è¿™ä¸ªå°±ç›´æ¥è¿”å›ç»™ä¸Šå±‚ï¼Œä¸éœ€è¦æ”¾è¿›å»äº†
        if (stack.isEmpty()) {
            return i;
        }
        //ä¸æ˜¯æœ€åä¸€ä¸ªå…ƒç´ å°±ç»§ç»­é€’å½’
        int j = f(stack);
        //æŠŠè¿™ä¸ªæ”¾è¿›å»ï¼Œé¡ºåºè¿˜æ˜¯ä¸å˜
        stack.push(i);
        return j;
    }
}

```



## ?-Nçš‡åï¼ˆæœ€å„ªè§£æ³•ï¼‰

![image-20220323223431345](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220323223431345.png)

```java
class Main {
    public static int num(int num) {
        if (num < 1 || num > 32) return 0;
        //limitç”¨äºé™åˆ¶åœ¨æ‰€æœ‰æ•°æ®è¿ç®—è¿‡ç¨‹ä¸­ä¿è¯é™¤ånumä½çš„æ‰€æœ‰ä½æ•°æ®å‡ä¸ºé›¶ï¼Œæ¥åˆ¤æ–­ç»“æŸå’Œæ ‡å¿—ç»“æŸ
        int limit = num == 32 ? -1 : (1 << num) - 1;
        return process(limit, 0, 0, 0);
    }

    /**
     * @param limit    é™åˆ¶æ•°æ®åœ¨ä¸€å®šçš„ä½è¿ç®—èŒƒå›´å†…
     * @param coLim    è¯¥æ­¥å‰æ‰€æœ‰çš‡åçºµå‘ä¸Šå·²ç»å­˜åœ¨çš‡å
     * @param leftLim  è¯¥æ­¥å‰æ‰€æœ‰çš‡ååœ¨k=-1çš„æ–¹å‘ä¸Šå¯¹äºæˆ‘ä»¬è¯¥æ­¥çš‡åå­˜åœ¨çš„é™åˆ¶
     * @param rightLim è¯¥æ­¥å‰æ‰€æœ‰çš‡ååœ¨k=1çš„æ–¹å‘ä¸Šå¯¹äºæˆ‘ä»¬è¯¥æ­¥çš‡åå­˜åœ¨çš„é™åˆ¶
     * @return è¯¥è·¯å¾„ä¸Šå­˜åœ¨çš„çš„æƒ…å†µï¼Œåªä¼šåœ¨æˆåŠŸæ—¶è¿”å›1
     * coLim/leftLim/rightLimä¸‰è€…çš„é™åˆ¶å‡æ˜¯åœ¨ä½ä¸Šä¸º1çš„æ—¶å€™è¡¨ç¤ºå­˜åœ¨çš‡å
     */
    private static int process(int limit, int coLim, int leftLim, int rightLim) {
        if (limit == coLim) return 1;

        //(coLim | leftLim | rightLim)ç»“æœè¡¨ç¤ºæ‰€æœ‰ä½ä¸Šä¸º1çš„ä½ç½®å‡å­˜åœ¨çš‡åï¼Œä¸èƒ½å­˜æ”¾ã€‚
        //~åè¡¨ç¤º1çš„åœ°æ–¹æ²¡æœ‰é™åˆ¶ï¼Œå¯ä»¥å­˜æ”¾çš‡åï¼ˆä½†æ˜¯ï¼Œåœ¨32ä½çš„å‰32-numä½ä¸Šä¹Ÿä¸º1ï¼Œæˆ‘ä»¬çŸ¥é“è¿™æ˜¯ä¸åˆç†çš„ï¼Œå› ä¸ºä¸å­˜åœ¨é‚£ä¹ˆå¤šçš„çš‡åï¼‰
        //limit&    è¡¨ç¤ºå°†é™¤numä½çš„å€¼å˜æˆ0ï¼Œè¿™æ ·å°±ä¿è¯æ‰€æœ‰ä¸º1çš„å…ƒç´ å‡ä¸ºç©ºç¼ºä½ç½®ã€‚
        int pos = limit & (~(coLim | leftLim | rightLim));
        int res = 0, mostRightOne;
        while (pos != 0) {//posä¸º0.è¯´æ˜ä¸å­˜åœ¨ç©ºç¼ºä½ç½®
            mostRightOne = pos & (~pos + 1);//æ­¤æ—¶åœ¨ånumä½å­˜åœ¨1ï¼Œå°±å°†æœ€å³ç«¯çš„1å–å‡ºã€‚
            res += process(limit, coLim | mostRightOne  // è¯¥mostRightOneä½çš„çš‡åå¯¹äºä¸‹ä¸€çš‡åçºµå‘ä¸Šçš„å½±å“
                    , (leftLim | mostRightOne) << 1     // mostRightOneå¯¹äºk=-1æ–¹å‘çš„å½±å“
                    , (rightLim | mostRightOne) >> 1);  //mostRightOneå¯¹äºk=1æ–¹å‘çš„å½±å“
            pos = pos - mostRightOne;//æ›´æ–°posï¼Œå°†å–å‡ºçš„1å‡æ‰ï¼Œè¡¨æ˜mostRightOneä¸­1æ‰€å¯¹åº”çš„ä½å­˜åœ¨äº†ï¼Œä¸èƒ½æ”¾äº†ã€‚
        }
        return res;
    }
}

```



![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/144154459-ca341852-9d1f-40ad-8a27-d5bfc8b0fb8f.png)
![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/144154742-1b451761-2ed2-4e48-bc5c-d71f75a5061e.png)

ä¼˜åŒ–ï¼š
![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/144154985-54ea35d8-11a6-481b-a243-8dd8c4dfe2b3.png)

![image](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/144155019-15c3e157-96eb-4b1e-b848-30d9a34cba2a.png)


å›å¤´å†å­¦ä¹ è¿™ä¸€éƒ¨åˆ†



## [200. å²›å±¿æ•°é‡](https://leetcode-cn.com/problems/number-of-islands/)

![image-20220322223900565](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220322223900565.png)

#### æ·±åº¦ä¼˜å…ˆæœç´¢

```java
class Main {
    private static int[][] arr;
    private static int N;
    private static int M;
    public static int process(int[][] arr){
        PB.arr=arr;
        PB.N=arr.length;
        PB.M=arr[0].length;
        int res=0;//è®°å½•ç»“æœ
        for (int i=0;i<N;i++){
            for (int j=0;j<M;j++){
                if (arr[i][j]==1){//æœ‰1ä¸”ä¸ºè¢«æ„ŸæŸ“
                    res++;
                    infect(i,j);//æ„ŸæŸ“
                }
            }
        }
        
        return res;
    }
    // æ„ŸæŸ“å‡½æ•°
    private static void infect(int i, int j) {
        if (i<0||i>=N||j<0||j>=M||arr[i][j]!=1)return;
        arr[i][j]=2;
        infect(i-1,j);
        infect(i+1,j);
        infect(i,j-1);
        infect(i,j+1);
    }
}






```



#### æ–¹æ³•äºŒï¼šå¹¿åº¦ä¼˜å…ˆæœç´¢



```java
class Solution {
    public int numIslands(char[][] grid) {
        if (grid == null || grid.length == 0) {
            return 0;
        }

        int nr = grid.length;
        int nc = grid[0].length;
        int num_islands = 0;

        for (int r = 0; r < nr; ++r) {
            for (int c = 0; c < nc; ++c) {
                if (grid[r][c] == '1') {
                    ++num_islands;
                    grid[r][c] = '0';
                    Queue<Integer> neighbors = new LinkedList<>();
                    //è¿™ä¹ˆè®¡ç®—ï¼Œå¯ä»¥åå‘å¾—å‡ºrå’Œcï¼Œè¿™æ ·åªç”¨å­˜ä¸€ä¸ª
                    neighbors.add(r * nc + c);
                    while (!neighbors.isEmpty()) {
                        int id = neighbors.remove();
                        int row = id / nc;
                        int col = id % nc;
                        //ç›¸å½“äºæ˜¯ä¸Šé¢çš„é€’å½’çš„è¿‡ç¨‹ï¼ŒæŠŠç›¸é‚»çš„å››ä¸ªä½ç½®è®¾ç½®æˆ0ï¼Œå¦‚æœæœ‰1å°±æ”¾å…¥æ ˆä¸­ç»§ç»­
                        if (row - 1 >= 0 && grid[row-1][col] == '1') {
                            neighbors.add((row-1) * nc + col);
                            grid[row-1][col] = '0';
                        }
                        if (row + 1 < nr && grid[row+1][col] == '1') {
                            neighbors.add((row+1) * nc + col);
                            grid[row+1][col] = '0';
                        }
                        if (col - 1 >= 0 && grid[row][col-1] == '1') {
                            neighbors.add(row * nc + col-1);
                            grid[row][col-1] = '0';
                        }
                        if (col + 1 < nc && grid[row][col+1] == '1') {
                            neighbors.add(row * nc + col+1);
                            grid[row][col+1] = '0';
                        }
                    }
                }
            }
        }

        return num_islands;
    }
}

```



#### å¹¶æŸ¥é›†

åŒæ ·åœ°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨å¹¶æŸ¥é›†ä»£æ›¿æœç´¢ã€‚

ä¸ºäº†æ±‚å‡ºå²›å±¿çš„æ•°é‡ï¼Œæˆ‘ä»¬å¯ä»¥æ‰«ææ•´ä¸ªäºŒç»´ç½‘æ ¼ã€‚å¦‚æœä¸€ä¸ªä½ç½®ä¸º 11ï¼Œåˆ™å°†å…¶ä¸ç›¸é‚»å››ä¸ªæ–¹å‘ä¸Šçš„ 11 åœ¨å¹¶æŸ¥é›†ä¸­è¿›è¡Œåˆå¹¶ã€‚

æœ€ç»ˆå²›å±¿çš„æ•°é‡å°±æ˜¯å¹¶æŸ¥é›†ä¸­è¿é€šåˆ†é‡çš„æ•°ç›®ã€‚

ä¸‹é¢çš„åŠ¨ç”»å±•ç¤ºäº†æ•´ä¸ªç®—æ³•ã€‚

![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/41b6ce1794ba80a7a82b31dc4c0642b26ccd280457d254d2fdad37a1f5a73ca6-image.png)

```
class Solution {
    class UnionFind {
        int count;
        int[] parent;
        int[] rank;

        public UnionFind(char[][] grid) {
            count = 0;
            int m = grid.length;
            int n = grid[0].length;
            parent = new int[m * n];
            rank = new int[m * n];
            for (int i = 0; i < m; ++i) {
                for (int j = 0; j < n; ++j) {
                    if (grid[i][j] == '1') {
                        parent[i * n + j] = i * n + j;
                        ++count;
                    }
                    rank[i * n + j] = 0;
                }
            }
        }

        public int find(int i) {
            if (parent[i] != i) parent[i] = find(parent[i]);
            return parent[i];
        }

        public void union(int x, int y) {
            int rootx = find(x);
            int rooty = find(y);
            if (rootx != rooty) {
                if (rank[rootx] > rank[rooty]) {
                    parent[rooty] = rootx;
                } else if (rank[rootx] < rank[rooty]) {
                    parent[rootx] = rooty;
                } else {
                    parent[rooty] = rootx;
                    rank[rootx] += 1;
                }
                --count;
            }
        }

        public int getCount() {
            return count;
        }
    }

    public int numIslands(char[][] grid) {
        if (grid == null || grid.length == 0) {
            return 0;
        }

        int nr = grid.length;
        int nc = grid[0].length;
        int num_islands = 0;
        UnionFind uf = new UnionFind(grid);
        for (int r = 0; r < nr; ++r) {
            for (int c = 0; c < nc; ++c) {
                if (grid[r][c] == '1') {
                    grid[r][c] = '0';
                    if (r - 1 >= 0 && grid[r-1][c] == '1') {
                        uf.union(r * nc + c, (r-1) * nc + c);
                    }
                    if (r + 1 < nr && grid[r+1][c] == '1') {
                        uf.union(r * nc + c, (r+1) * nc + c);
                    }
                    if (c - 1 >= 0 && grid[r][c-1] == '1') {
                        uf.union(r * nc + c, r * nc + c - 1);
                    }
                    if (c + 1 < nc && grid[r][c+1] == '1') {
                        uf.union(r * nc + c, r * nc + c + 1);
                    }
                }
            }
        }

        return uf.getCount();
    }
}

ä½œè€…ï¼šLeetCode
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/number-of-islands/solution/dao-yu-shu-liang-by-leetcode/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

## è¿”å›å­—ç¬¦ä¸²çš„æ‰€æœ‰å­å­—ç¬¦ä¸²ï¼ˆæ ‘å½¢ï¼‰

- å°†è¯¥é—®é¢˜çœ‹æˆäºŒåˆ†ç±»é—®é¢˜ï¼Œå°†æ‰€æœ‰çš„å•ä¸ªå­—ç¬¦å…ƒç´ æ˜¯å¦å­˜åœ¨çœ‹æˆä¸€ä¸ªäº‹ä»¶ï¼Œé€šè¿‡å¯¹æ‰€æœ‰çš„å•ä¸ªå­—ç¬¦åˆ¤è¯»å­˜åœ¨æƒ…å†µå°±å¯ä»¥å¾—å‡ºæ‰€æœ‰å­å­—ç¬¦ä¸²
- è¿™æ ·å¯ä»¥ç†è§£ä¸ºäºŒå‰æ ‘çš„æƒ…å†µï¼Œæ¯ä¸€å±‚çš„æ¯ä¸ªèŠ‚ç‚¹ä¸‹æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ï¼Œè¡¨ç¤ºè¯¥å±‚å¯¹åº”çš„å­—ç¬¦æ˜¯å¦æ·»åŠ è¿›è·¯å¾„ä¸­ï¼Œæœ€åæ ‘çš„æ‰€æœ‰å¶å­èŠ‚ç‚¹å¯¹åº”çš„å­—ç¬¦ä¸²å°±æ˜¯æ‰€ä»¥å­å­—ç¬¦ä¸²
- æˆ‘ä»¬é‡‡ç”¨åŠ¨æ€ç”Ÿæˆæ ‘çš„é€’å½’æ–¹æ³•å¯¹æ ‘è¿›è¡ŒåŠ¨æ€çš„éå†ã€‚ï¼ˆè¯¥æ ‘å¿…å®šä¸ºæ»¡æ ‘ï¼‰



```java
/**
 * @author chilcyWind
 * @Description
 * @Author Yang
 * @Date 2022/3/22
 * @Version 1.0
 **/

public class substr {

    public static String str;
    public static StringBuffer sBuffer = new StringBuffer();

    public static void main(String[] args) {
        process("abcd");
    }
    public static void process(String string) {
        if (string == null || string.length() == 0) {
            return;
        }
        substr.str = string;
        process(0);
    }

    private static void process(int index) {
        if (index == str.length()) {
            System.out.println(sBuffer.toString());
            return;
        }
        //å«æœ‰indexä½ç½®çš„å­—ç¬¦çš„å­å­—ç¬¦ä¸²
        sBuffer.append(str.charAt(index));
        process(index + 1);
        //ä¸å«æœ‰indexä½ç½®çš„å­å­—ç¬¦ä¸²
        sBuffer.deleteCharAt(sBuffer.length() - 1);
        process(index + 1);
    }
}

```

### [å‰‘æŒ‡ Offer II 079. æ‰€æœ‰å­é›†](https://leetcode-cn.com/problems/TVdhkn/)

```
class Solution {
    public List<List<Integer>> lists = new ArrayList<>();
    public List<List<Integer>> subsets(int[] nums) {
        int n = nums.length;
        if(n==0){
            return lists;
        }
        process(nums, 0, new ArrayList<Integer>());
        int count = lists.size();
        return lists;
    }
    public void process(int[] nums, int index,List<Integer> list){
            if(index==nums.length){
                lists.add(new ArrayList<>(list));
                return;
            }
            list.add(nums[index]);
            process(nums,index+1,list);
            list.remove(list.size() - 1);
            process(nums,index+1,list);
    }
}
```





## æœ€å°å­—å…¸åº



![image-20220323215237572](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220323215237572.png)

å‡è®¾bcabcaï¼Œè¿™ä¸ªå­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªbå¾€å‰çš„bcaï¼Œåœ¨åŠéƒ¨åˆ†éƒ½æœ‰å¤šä½™çš„å­—ç¬¦å‡ºç°ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥ä¿ç•™ä¹Ÿå¯ä»¥ä¸ä¿ç•™ã€‚å› æ­¤å¯ä»¥åœ¨å‰åŠéƒ¨åˆ†é€‰æ‹©å‡ºä¸€ä¸ªæœ€å°çš„å­—ç¬¦ï¼Œä»å®ƒå¾€å‰çš„é‡å¤å­—ç¬¦éƒ½èˆå¼ƒï¼Œå› ä¸ºè¿™ä¸ªå­—ç¬¦é€‰æ‹©è¿™ä¸ªä½ç½®ä¿å­˜ï¼Œå…¶ä»–ä½ç½®çš„ç›¸åŒå­—ç¬¦å¯ä»¥èˆå¼ƒã€‚ç„¶åç»§ç»­é€’å½’å‰©ä¸‹çš„éƒ¨åˆ†ï¼Œè¿™æ ·æ¯æ¬¡ã€‚éƒ½é€’å½’å‡ºæœ€å°çš„ä¸€ä¸ªå­—ç¬¦ã€‚æ‹¼æ¥å‡ºæ¥å°±æ˜¯æœ€ç»ˆçš„ç»“æœ

### é€’å½’

```java
public class mindic {
    public static String process(String s) {
        if (s==null||s.length()<2)return s;
        int []map=new int[256];
        for (int i=0;i<s.length();i++){
            map[s.charAt(i)]++;
        }
        int minASCLLIndex=0;
        for (int i=0;i<s.length();i++){
                // è®°å½•å‰é¢ASCLLæœ€å°çš„ä½ç½®
                minASCLLIndex=s.charAt(minASCLLIndex)<s.charAt(i)?minASCLLIndex:i;
            if (--map[s.charAt(i)]==0){// ç¬¬ä¸€æ¬¡å‘ç”Ÿä¸€ä¸ªå­—ç¬¦çš„æœ€åä¸€æ¬¡å‡ºç°
                break;
            }
        }
        // minASCLLIndexåçš„å­—ç¬¦ä¸²å»æ‰s.charAt(minASCLLIndex)çš„å­—ç¬¦ä¸²å‘åç»§ç»­
        return  s.charAt(minASCLLIndex)+process(s.substring(minASCLLIndex+1).replaceAll(String.valueOf(s.charAt(minASCLLIndex)),""));
    }
}

```

### æ ˆ

- ä¸€ç›´å…¥æ ˆï¼Œåˆ¤æ–­peekå…ƒç´ æ¯”å½“å‰å¤§å¹¶ä¸”åé¢è¿˜å­˜åœ¨å’Œpeekç›¸åŒçš„å­—ç¬¦ï¼Œé‚£ä¹ˆå°±ä»æ ˆä¸­åˆ é™¤æ ˆé¡¶å…ƒç´ ã€‚ç›´åˆ°æ¯”å½“å‰éå†çš„å°çš„ï¼ŒæŠŠè¿™ä¸ªå­—ç¬¦æ”¾åˆ°æ ˆä¸­

```
class Solution {
    public String removeDuplicateLetters(String s) {
        int N = s.length();
        if (N <= 1) return s;
        char[] chars = s.toCharArray();
        Deque<Character> stack = new LinkedList<>();
        int[] lastIndex = new int[26];
        boolean[] isVisited = new boolean[26];
        for (int i = 0; i < N; i++) {
            lastIndex[chars[i] - 'a'] = i;
        }
        for (int i = 0; i < N; i++) {
            if (isVisited[chars[i] - 'a']) continue;
            while (!stack.isEmpty() && stack.peek() > chars[i] && lastIndex[stack.peek() - 'a'] > i) {
                isVisited[stack.pop() - 'a'] = false;
            }
            stack.push(chars[i]);
            isVisited[chars[i] - 'a'] = true;
        }
        StringBuffer stringBuffer = new StringBuffer();
        for (Character ch : stack) {
            stringBuffer.append(ch);
        }
        return stringBuffer.reverse().toString();
    }
}

```







# é€’å½’è½¬åŠ¨æ€

## æœºå™¨äººæ¨ªå‘è¿åŠ¨é—®é¢˜

é¢˜ç›®ï¼š
**å‚æ•°Nï¼š1~Nä¸ªä½ç½®
å‚æ•°Sï¼šåˆå§‹ä½ç½®
å‚æ•°Eï¼šç»ˆç‚¹ä½ç½®
å‚æ•°Kï¼šè¦èµ°çš„æ­¥æ•°
æœºå™¨äººåœ¨Eä½ç½®è¦ç”¨Kæ­¥èµ°åˆ°Sæœ‰å‡ ç§é€‰æ‹©**



**é€’å½’å½¢å¼**

```
public class Main {
    /**
     * @param N å‚æ•°Nï¼š1~Nä¸ªä½ç½®
     * @param E å½“å‰ä½ç½®
     * @param S ç»ˆç‚¹ä½ç½®
     * @param K è¦èµ°çš„æ­¥æ•°
     * @return ç§ç±»
     */
    public static int process(int N, int E, int S, int K) {
        if (K == 0) return E == S ? 1 : 0;
        int left = 0, right = 0;
        if (E != 1) left = process(N, E - 1, S, K - 1);// ä¸ç­‰äº1å°±å¯ä»¥å‘å·¦èµ°
        if (E != N) right = process(N, E + 1, S, K - 1);// ä¸ç­‰äºNå°±å¯ä»¥å‘å³èµ°
        return left + right;
    }
}

```

**è®°å¿†æœç´¢åŠ¨æ€è§„åˆ’**



```java
public class Main {
    /**
     * @param N å‚æ•°Nï¼š1~Nä¸ªä½ç½®
     * @param E å½“å‰ä½ç½®
     * @param S ç»ˆç‚¹ä½ç½®
     * @param K è¦èµ°çš„æ­¥æ•°
     * @return ç§ç±»
     */
     public static int[][] dp;
    public static int function(int N, int E, int S, int K) {
        dp = new int[N + 1][K + 1];
        for (int[] ints : dp) {
            Arrays.fill(ints, -1);// æ ‡è®°-1è¡¨ç¤ºæœªè®¡ç®—è¿‡
        }
        process(N, E, S, K);// å¡«å……dp
        return dp[E][K];
    }
   
    private static int process(int N, int E, int S, int K) {
        if (K == 0) return E == S ? 1 : 0;
        if (dp[E][K] != -1) return dp[E][K];// å·²å­˜åœ¨å°±ç›´æ¥è¿”å›
        int left = 0, right = 0;
        if (E != 1) left = process(N, E - 1, S, K - 1);// ä¸ç­‰äº1å°±å¯ä»¥å‘å·¦èµ°
        if (E != N) right = process(N, E + 1, S, K - 1);// ä¸ç­‰äºNå°±å¯ä»¥å‘å³èµ°
        dp[E][K] = left + right;// å¡«å……dp
        return dp[E][K];
    }
}

```

**ä¸¥æ ¼è¡¨ç»“æ„åŠ¨æ€è§„åˆ’**

![image-20220323224837775](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220323224837775.png)



- ç¡®å®šå˜é‡ä»¥åŠå˜é‡èŒƒå›´
- æ ‡å‡ºç›®æ ‡ä½ç½®ï¼Œä¸ºè¿”å›ç»“æœ
- é€’å½’ç»“æŸæ¡ä»¶ï¼ˆæœ€ç»ˆç»“æœï¼‰
- ç¡®å®šä¾èµ–å…³ç³»
- æ ¹æ®ä¾èµ–æŒ‰ç…§åˆé€‚å¡«è¡¥çš„é¡ºåºå¡«è¡¥

`dp[i][j]`,iå’Œjè¡¨ç¤º ä»iä½ç½®å¼€å§‹èµ°jæ­¥èƒ½åˆ°ç»ˆç‚¹çš„æ–¹å¼æ•°ã€‚basecaseï¼š`j==0çš„æ—¶å€™ï¼Œåªæœ‰i==jçš„æ—¶å€™æ‰æ˜¯1ï¼Œå…¶ä»–ä½ç½®ä¸º0ï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€è¡Œ`

é€’å½’å…¬å¼ï¼š

```
public class Main {
    public static int process(int N, int E, int S, int K) {
        int[][] dp = new int[K + 1][N + 1];// é€’å½’å˜é‡ä¸ªæ•°å’Œå˜åŒ–èŒƒå›´å†³å®šäº†dpçš„ç»´åº¦å’Œå¤§å°
        dp[0][S] = 1;// é€’å½’çš„ç»“æŸæ¡ä»¶æ—¶dpçš„å‰ææ¡ä»¶
        for (int k = 1; k <= K; k++) {
            for (int e = 1; e <= N; e++) {
                // é€’å½’å†…å®¹å†³å®šdpçš„æ•°æ®å¡«å……é“¾æ¥ï¼Œè¿›è€Œç¡®å®šå¡«å……é¡ºåº
                if (e == 1) dp[k][e] = dp[k - 1][e + 1];
                else if (e == N) dp[k][e] = dp[k - 1][e - 1];
                else dp[k][e] = dp[k - 1][e + 1] + dp[k - 1][e - 1];
            }
        }
        // è¿”å›ç»“æœ
        return dp[K][E];
    }
}

```



## ğŸé£æ£‹ç›˜ï¼ˆæ¨ªå‘å’Œçºµå‘ï¼‰

é—®é¢˜ï¼š**åœ¨åƒæ£‹ç›˜ä¸Šç»™å®šèµ·å§‹ä½ç½®é—®ç”¨Kæ­¥ä»èµ·å§‹ä½ç½®åˆ°ï¼ˆ1ï¼Œ1ï¼‰æœ‰å‡ ç§é€‰æ‹©**

**é€’å½’å®ç°**

```
public class Main {
    public static int process(int x, int y, int K) {
        if (x < 1 || x > 10 || y < 1 || y > 9) return 0;// å‡ºç•Œ
        if (K == 0) return (x == 1 && y == 1) ? 1 : 0;// æ­¥æ•°ç»“æŸï¼Œæ˜¯å¦åˆ°è¾¾ä½ç½®
        // å‘å…«æ–¹æœç´¢
        return process(x - 1, y - 2, K - 1) +
                process(x - 1, y + 2, K - 1) +
                process(x + 1, y - 2, K - 1) +
                process(x + 1, y + 2, K - 1) +
                process(x - 2, y + 1, K - 1) +
                process(x - 2, y - 1, K - 1) +
                process(x + 2, y - 1, K - 1) +
                process(x + 2, y + 1, K - 1);

    }
}

```



**ä¸¥æ ¼è¡¨ç»“æ„**

`dp[i][j][k]`è¡¨ç¤ºåœ¨ï¼ˆi,jï¼‰ä½ç½®ç»è¿‡kæ­¥åˆ°è¾¾ç»ˆç‚¹çš„è·¯çº¿æ•°ã€‚
basecaseï¼škä¸º0çš„æ—¶å€™ï¼Œåªæœ‰iå’Œjéƒ½ä¸º1çš„æ—¶å€™æ˜¯1ï¼Œå…¶ä»–ä½ç½®ä¸º0ï¼Œ

çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šæ¯ä¸ªä½ç½®è·Ÿç©ºé—´ä¸‹ä¸€å±‚ï¼ˆæ­¥æ•°å°‘ä¸€å±‚çš„é‚£ä¸€å±‚ï¼‰ä¸Šå…«ä¸ªç›¸é‚»çš„ä½ç½®ç›¸å…³ã€‚kä¸ºæœ€å¤–å±‚å¾ªç¯ï¼Œä¸€å±‚ä¸€å±‚çš„ï¼ˆæ¯æ¬¡å¤šä¸€æ­¥ï¼‰çš„å¾€ä¸Šè®¡ç®—

```java
public class Main {
    public static int[][][] dp;
    public static int process(int x, int y, int K) {
        dp = new int[10 + 1][9 + 1][K + 1];// é€’å½’å˜é‡ä»¥åŠèŒƒå›´
        dp[1][1][0] = 1;// é€’å½’ç»“æŸæ¡ä»¶
        for (int k = 1; k <= K; k++) {// æ­¥æ•°
            for (int i = 1; i <= 10; i++) {// æ¨ªåæ ‡
                for (int j = 1; j <= 9; j++) { // çºµåæ ‡
                    dp[i][j][k] += getValue(i - 1, j + 2, k - 1);
                    dp[i][j][k] += getValue(i - 1, j - 2, k - 1);
                    dp[i][j][k] += getValue(i + 1, j + 2, k - 1);
                    dp[i][j][k] += getValue(i + 1, j - 2, k - 1);
                    dp[i][j][k] += getValue(i + 2, j - 1, k - 1);
                    dp[i][j][k] += getValue(i + 2, j + 1, k - 1);
                    dp[i][j][k] += getValue(i - 2, j - 1, k - 1);
                    dp[i][j][k] += getValue(i - 2, j + 1, k - 1);
                }
            }
        }
        return dp[x][y][K];
    }

    private static int getValue(int x, int y, int K) {
        if (x < 1 || x > 10 || y < 1 || y > 9) return 0;// å‡ºç•Œ
        return dp[x][y][K];
    }
}

```







## [377. ç»„åˆæ€»å’Œ â…£](https://leetcode-cn.com/problems/combination-sum-iv/)

è¿™ä¸ªä¸åŒçš„é¡ºåºä¹Ÿæ˜¯è¡¨ç¤ºä¸åŒçš„ç»„åˆï¼Œè·Ÿä¸Šé¢çš„ä¸ä¸€æ ·ï¼Œä¸Šé¢çš„æ˜¯ä¸åŒçš„ç»„åˆï¼Œåªè¦ç¡¬å¸çš„æ•°é‡å’Œç§ç±»ç›¸åŒå°±ç®—åŒä¸€ä¸ªæ–¹æ³•

![image-20220324220240973](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220324220240973.png)

```java
class Solution {
    public int combinationSum4(int[] nums, int target) {
        int[] dp = new int[target+1];
        dp[0]=1;
        for(int i=1;i<=target;i++){
            for(int num:nums){
                if(i-num>=0){
                dp[i]+=dp[i-num];
            }
            }
        }
        return dp[target];
    }
}
```



## [å‰‘æŒ‡ Offer II 081. å…è®¸é‡å¤é€‰æ‹©å…ƒç´ çš„ç»„åˆ](https://leetcode-cn.com/problems/Ygoe9J/)

#### [39. ç»„åˆæ€»å’Œ](https://leetcode-cn.com/problems/combination-sum/) 

ä¸¤ä¸ªé¢˜ç›®æ˜¯ä¸€æ ·çš„

é€’å½’+å›æº¯

```java
class Solution {
    public  List<List<Integer>> res;
    public List<Integer> list;
    public List<List<Integer>> combinationSum(int[] candidates, int target) {
        res = new ArrayList<List<Integer>>();
        list=new ArrayList<Integer>();
        process(candidates,target,0);
        return res;
    }
    public void process(int[] coins, int target,int index){
        if(target==0){
            res.add(new ArrayList<Integer>(list));
            return;
        }
        if(target<0||index>=coins.length){
            return;
        }
        process(coins,target,index+1);//ä¸é€‰å½“å‰é“¶å¸ï¼Œç›´æ¥å¾€ä¸‹é€’å½’,æ³¨æ„index+1
        if(target>=coins[index]){
            list.add(coins[index]);
            process(coins,target-coins[index],index);//é€‰æ‹©ä¸€ä¸ªç¡¬å¸ï¼Œæ³¨æ„indexä¿æŒä¸å˜ï¼Œå› ä¸ºåªé€‰äº†ä¸€ä¸ªï¼Œä¸‹ä¸€ä¸ªé€’å½’è¿˜å¯ä»¥æ¥ç€é€‰indexä½ç½®çš„é“¶å¸
            list.remove(list.size()-1);
        } 
       

    }
}
```

## [å‰‘æŒ‡ Offer II 080. å«æœ‰ k ä¸ªå…ƒç´ çš„ç»„åˆ](https://leetcode-cn.com/problems/uUsW3B/)

è·Ÿä¸Šä¸ªé¢˜æ–¹æ³•ç±»ä¼¼ï¼Œä½†æ˜¯ä¸å…è®¸æœ‰é‡å¤çš„æ•°å­—å‡ºç°ã€‚

è¿™ä¸ªä¹Ÿå¯ä»¥æ”¹æˆ0-1èƒŒåŒ…çš„ç­”æ¡ˆ

![image-20220324222625396](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220324222625396.png)

```java

class Solution {
    public List<List<Integer>> res;
    public List<Integer> tem;
    public List<List<Integer>> combine(int n, int k) {
        res = new ArrayList<List<Integer>>();
        tem = new ArrayList<Integer>();
        dfs(n,k,1);
        return res;
    }
    public void dfs(int n,int k, int index){
          // å‰ªæï¼šå³ä½¿æŠŠä»thå¼€å§‹çš„æ‰€æœ‰æ•°éƒ½æ”¾å…¥listä¹Ÿå‡‘ä¸é½kä¸ªï¼Œæ‰€ä»¥ç›´æ¥è¿”å›
        if(n-index+1<k) return;
        if(k==0){
            res.add(new ArrayList<Integer>(tem));
            return;
        }
        // æœç´¢ç­–ç•¥ä¸€ï¼šç»„åˆä¸­æœ‰ç¬¬thä¸ª
        tem.add(index);
        dfs(n, k-1,index+1);
        tem.remove(tem.size()-1);
        // æœç´¢ç­–ç•¥äºŒï¼šç»„åˆä¸­æ²¡æœ‰ç¬¬thä¸ª
        dfs(n,k,index+1);

    }
}
```







## æ•°å­—è½¬åŒ–æˆå­—æ¯ï¼ˆæ ‘å½¢ï¼‰

![image-20220322220646143](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220322220646143.png)

**é€’å½’å®ç°**

- æ—¶é—´å¤æ‚åº¦ä¸ºæŒ‡æ•°çº§

```java
public class Main {
	public static int process(String s, int i) {
		// è‹¥ä¸€ä¸ªä¸å‰©æˆ–è¿™è¿˜å‰©ä¸€ä¸ªï¼Œå°±è¿”å›1ï¼ˆä¿è¯å‰©çš„ä¸ä¸º0ï¼‰ï¼Œè‹¥æ­¤æ—¶ä¸è¿”å›ï¼Œè¯´æ˜è¿˜å‰©è‡³å°‘ä¸¤ä¸ªå­—ç¬¦
		if (s.length() == i || (s.length() == i + 1 && s.charAt(i) != '0'))
			return 1;
		if (s.charAt(i) == '0')
			return 0;// æ²¡æœ‰0å¼€å¤´åŒ¹é…çš„å…ƒç´ 
		int res = process(s, i + 1);// ä¸€ä¸ªå­—ç¬¦çš„
		if (Integer.parseInt(s.substring(i, i + 2)) <= 26)
			res += process(s, i + 2);// è‹¥æ»¡è¶³åŒ¹é…æ¡ä»¶ï¼Œè¿›è¡Œä¸¤ä¸ªå­—ç¬¦çš„
		return res;// ç´¯åŠ çš„ç»“æœè¿”å›å°±è¡Œäº†
	}
}

```



**åŠ¨æ€è§„åˆ’**

- å˜å‚æ•°ä¸ªæ•°ä¸ºä¸€ä¸ªï¼Œè¡¨ç¤ºå½“å‰å€¼ä½œä¸ºè½¬åŒ–å­—æ¯çš„å¼€å§‹æ•°å­—ï¼Œç„¶åå‘ååˆ¤æ–­å­˜åœ¨å‡ ç§æƒ…å†µã€‚
- æ—¶é—´å¤æ‚åº¦ä¸ºO(N)

```java
public class Main {
	public static int process(String string) {
		if (string == null || string.length() == 0) {
			return 0;
		}
		if (string.length() == 1) {
			return string == "0" ? 0 : 1;
		}
		char[] arr = string.toCharArray();
		int N = arr.length;
		int[] res = new int[arr.length + 1];
		res[N] = 1;//ä¸ºç©ºçš„æ—¶å€™é»˜è®¤æ˜¯1.base case
		res[N - 1] = arr[N - 1] == '0' ? 0 : 1;//0ä¸èƒ½ä½œä¸ºå‰ç¼€ï¼Œåªæœ‰ä¸€ä¸ªå­—ç¬¦çš„æ—¶å€™æ˜¯1
		for (int i = N - 2; i >= 0; --i) {
			if (arr[i] == '0') {
				res[i] = 0;//0ä¸èƒ½ä½œä¸ºå‰ç¼€
			} else {
				if (arr[i] > '2' || (arr[i] == '2' && arr[i] > '6')) {
					res[i] = res[i + 1];//iä¸èƒ½ä¸i+1ç»„æˆæ•°å­—
				} else {
					res[i] = res[i + 1] + res[i + 2];//ièƒ½å’Œi+1ç»„åˆä¸ºä¸€ä¸ªæ–°çš„æ•°ï¼Œè¿™æ—¶å€™å°±æ˜¯i+2ç§å¯èƒ½ï¼Œiå•ç‹¬çš„æ—¶å€™å°±æ˜¯i
				}
			}
		}
		return res[0];
	}
}

```





## èƒŒåŒ…é—®é¢˜ï¼ˆæ ‘å½¢ï¼‰

![image-20220324230449495](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220324230449495.png)



- å’Œè¿”å›å­—ç¬¦ä¸²çš„æ‰€æœ‰å­å­—ç¬¦ä¸²ç›¸ä¼¼ï¼Œåˆ¤æ–­æ¯ä¸ªç‰©å“æ˜¯å¦è£…è¿›äº†è¢‹å­ä¸¤ç§é€‰æ‹©
- åªéœ€è¦ç”¨é€’å½’åƒæ ‘ä¸€æ ·éå†æ‰€æœ‰é€‰æ‹©å–å‡ºæœ€å¤§å€¼å³å¯
- è¿™æ ·çš„é¢˜å¯ä»¥ä½¿ç”¨åŠ¨æ€è§„åˆ’O(NÂ²),é€’å½’O(2^N)

### æš´åŠ›é€’å½’

```java
public class Main {
    private static int maxBag;
    private static int[] weights;
    private static int[] values;

    public static int process(int[] weights, int[] values, int maxBag) {
        Main.maxBag = maxBag;
        Main.weights = weights;
        Main.values = values;
        return process(maxBag, 0);
    }

    /**
     * @param w å‰©ä½™ç©ºé—´
     * @param i å½“å‰å·²ç»åˆ¤æ–­åˆ°é‚£ä¸ªç‰©å“äº†
     * @return æœ€å¤§ä»·å€¼
     */
    private static int process(int w, int i) {
        if (i == weights.length) return 0;
        if (w < weights[i]) return process(w, i + 1);
        return Math.max(process(w, i + 1), process(w - weights[i], i + 1) + values[i]);
    }
}

```

### **åŠ¨æ€è§„åˆ’**

`dp[i][j]`çŠ¶æ€ï¼šå‰iä»¶å•†å“ï¼Œåœ¨é‡é‡ä¸Šé™ä¸ºjçš„æ—¶å€™ï¼Œèƒ½è£…è´§ç‰©çš„æœ€å¤§ä»·å€¼

åˆå§‹å€¼ï¼š iä¸º0çš„æ—¶å€™ï¼Œè¡¨ç¤ºæ²¡æœ‰å•†å“ã€‚ä»·å€¼åªèƒ½ä¸º0

â€‹				jä¸º0çš„æ—¶å€™ï¼Œæ²¡æ³•è£…ç‰©å“ï¼Œä¹Ÿåªèƒ½ä¸º0

è¿”å›å€¼ï¼š`dp[weight.length][maxbag]`

```java
public class Main {
    public static int process(int[] weights, int[] values, int maxBag) {
        int[][] dp = new int[weights.length + 1][maxBag + 1];
        for (int i = 1; i <= weights.length; i++) {
            for (int j = 0; j <= maxBag; j++) {
                if (j < weights[i - 1]) dp[i][j] = dp[i - 1][j];//è£…ä¸ä¸‹è¿™ä¸ªç‰©å“
                else dp[i][j] = Math.max(dp[i - 1][j], dp[i - 1][j] + values[i - 1]);//è£…å¾—ä¸‹ï¼Œè£…ä¸ä¸è£…é€‰ä¸ªæœ€å¤§å€¼
            }
        }
        return dp[weights.length][maxBag];
    }
}

```

ç©ºé—´å¥½åƒæ²¡åŠæ³•å‰©å‹ç¼©



## æ•´æ•°åˆ†è£‚

![image-20220210091257710](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220210091257710.png)

åˆ†è£‚ä»¥åå¿…é¡»é€’å¢ï¼Œ

**æš´åŠ›é€’å½’**

```
public class Main {
    public static int process(int res) {
        if (res < 1) return 0;
        return process(1, res);
    }    //preæ˜¯è¦è¿›è¡Œï¼ˆè¿˜æ²¡è¢«åˆ†å‡ºå»ï¼‰è¿›è¡Œåˆ†è£‚çš„å€¼ï¼Œä¸€èˆ¬éƒ½æ˜¯ä»1å¼€å§‹é€’å¢ã€‚curResæ˜¯è¿™ä¸ªæ“ä½œä¹‹å‰è¿˜æ²¡æœ‰åˆ†è£‚çš„æ•°ã€‚

    private static int process(int pre, int curRes) {// preå‰é©±å€¼ï¼Œä¿è¯åç»­åˆ†è£‚ä¸å°äºpre
        if (curRes == 0) return 1;
        if (pre > curRes)
            return 0;//å¾—ä¿è¯è£‚å¼€çš„åºåˆ—æ˜¯é€’å¢çš„ã€‚æ‰€ä»¥å¤§äºå°±å¾—åœæ­¢ï¼Œæ²¡æ³•å¾€ä¸‹èµ°//
        int ways = 0;        // ä»preå‘curReså°è¯•
        for (int rest = pre; rest <= curRes; rest++) {
            ways += process(rest, curRes - rest);
        }
        return ways;
    }
}

```

![image-20220210092404108](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220210092404108.png)





**è®°å¿†åŒ–æœç´¢**

```
import java.util.Arrays;

public class Main {
    public static int[][] dp;

    public static int process(int res) {
        if (res < 1) return 0;
        dp = new int[res + 1][res + 1];
        for (int[] i : dp) {
            Arrays.fill(i, -1);
        }
        return process(1, res);
    }

    private static int process(int pre, int curRes) {// preå‰é©±å€¼ï¼Œä¿è¯åç»­åˆ†è£‚ä¸å°äºpre      
        if (dp[pre][curRes] != -1) return dp[pre][curRes];
        if (curRes == 0) {
            dp[pre][curRes] = 1;
            return 1;
        }
        if (pre > curRes) {
            dp[pre][curRes] = 0;
            return 0;
        }
        int ways = 0;
        for (int rest = pre; rest <= curRes; rest++) {
            ways += process(rest, curRes - rest);
        }
        dp[pre][curRes] = ways;
        return ways;
    }
}
```

ä¹Ÿå°±æ˜¯è®°å½•ä¸€ä¸‹æ¯æ¬¡é€’å½’çš„å€¼

![image-20220210093203421](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220210093203421.png)



**åŠ¨æ€è§„åˆ’**

```
public class Main {
    public static int process(int res) {
        if (res < 1) return 0;
        int[][] dp = new int[res + 1][res + 1];// dp[i][j]è¡¨ç¤ºï¼Œç¬¬ä¸€ä¸ªå€¼æ˜¯preï¼Œå‰©ä¸‹jï¼ˆè¿˜æ²¡æœ‰åˆ†å‡ºå»preï¼‰æœ‰å¤šå°‘ç§ç»„åˆ
        for (int i = 0; i <= res; i++) {// é€’å½’ç»“æŸæ¡ä»¶//
            dp[i][0] = 1;//0è¡¨ç¤ºåˆ†é…iä¸ªï¼Œä½†æ˜¯ç›®å‰å‰©ä½™0ä¸ªåˆ†é…ï¼Œåªèƒ½æœ‰ä¸€ç§ï¼Œå°±æ˜¯ä¸åˆ†é…ï¼Œç©º
        }
        for (int pre = res; pre >= 1; pre--) {// å‰é©±
            for (int curRes = pre; curRes <= res; curRes++) {// ä¿è¯å‰©ä½™å€¼ä¸å°äºå‰é©±ï¼Œå‰©ä½™å€¼è¡¨ç¤ºç›®å‰å¯ä»¥è¿›è¡Œåˆ†é…çš„å€¼ï¼Œè¿˜æ²¡æœ‰åˆ†é…preã€‚
                for (int i = pre; i <= curRes; i++) {// æ‰€æœ‰æƒ…å†µç´¯åŠ ï¼Œ
                    dp[pre][curRes] += dp[i][curRes - i];
                }
            }
        }        // è¿”å›å‰é©±1ï¼Œåˆæˆresçš„ç»“æœ
        return dp[1][res];
    }
}
```

![image-20220210094755553](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220210094755553.png)

ç¬¬ä¸€åˆ—ç½®ä¸º1ï¼Œè¡¨ç¤º curRes==0çš„æ—¶å€™ï¼Œè¿”å›1ï¼Œè¡¨ç¤ºæ˜¯ä¸€ç§æˆåŠŸçš„åˆ†è£‚çš„ç»“æœã€‚

æˆ‘ä»¬åªéœ€è¦å¯¹è§’çº¿ä»¥ä¸Šçš„éƒ¨åˆ†å°±è¡Œäº†ã€‚å› ä¸ºpreå¾—å°äºrestã€‚



**æ–œç‡ä¼˜åŒ–**

![image-20220326214737296](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220326214737296.png)



```
public class Main {
    public static int process(int res) {
        if (res < 1) return 0;
        int[][] dp = new int[res + 1][res + 1];
        for (int i = 0; i <= res; i++) {// é€’å½’ç»“æŸæ¡ä»¶
            dp[i][0] = 1;
        }
        dp[res][res]=1;// æ ¹æ®ä¸‹ä¸€å±‚é€€å‡ºç»“æœï¼Œæ‰€ä»¥è¦å…ˆå¯¹æœ€åä¸€å±‚å°±è¡Œæ·»å€¼
        for (int pre = res-1; pre >= 1; pre--) {// å‰é©±
            for (int curRes = pre ; curRes <= res; curRes++) {// ä¿è¯å‰©ä½™å€¼ä¸å°äºå‰é©±
                dp[pre][curRes]=dp[pre+1][curRes]+dp[pre][curRes-pre];// åˆ†æçš„å…³ç³»
            }
        }
        // è¿”å›å‰é©±1ï¼Œåˆæˆresçš„ç»“æœ
        return dp[1][res];
    }
}

```



## äººæ°”å€¼

![image-20220118235953006](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220118235953006.png)



**é”™è¯¯ä»£ç **

- æ²¡æœ‰è€ƒè™‘æ¡ä»¶ç»“æŸæƒ…å†µï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰basecase
  ![image-20220119091240024](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220119091240024.png)

```
public class Test {
    public static void process1(int start, int x, int y, int z, int end) {
        func(x, y, z, end, start);
    }

    private static int func(int x, int y, int z, int end, int thisNum) {
        if (end == thisNum) {
            return 0;
        }
        int resX = func(x, y, z, end, thisNum + 2) + x;
        int resY = func(x, y, z, end, thisNum * 2) + y;
        int resZ = func(x, y, z, end, thisNum - 2) + z;
        return Math.min(resX, Math.min(resY, resZ));
    }
}
```



**æš´åŠ›é€’å½’**

ä¸Šé¢ç¼ºå°‘basecase,å¯¼è‡´é€’å½’æ— æ³•ç»“æŸã€‚å› æ­¤æœ€å¥½çš„æ–¹æ³•

æ ¹æ®é¢˜ç›®å†…å®¹æ‰¾å‡ºä¸€ä¸ªä¸æ˜¯æœ€ä¼˜è§£çš„å¹³å‡¡è§£ä½œä¸ºä¸Šé™ï¼Œæ‰¾å‡ºè¾¹ç•Œæ¡ä»¶ï¼ˆæ¯”å¦‚è´Ÿå€¼ï¼‰ä½œä¸ºä¸‹é™ï¼Œè¶…è¿‡è¿™ä¸ªèŒƒå›´å°±ç»ˆæ­¢è¿”å›é”™è¯¯å€¼ã€‚



```java
public class Main {
    public static int x, y, z, target, generalSolution;

    public static int process1(int x, int y, int z, int start, int end) {
        Main.x = x;
        Main.y = y;
        Main.z = z;
        Main.target = end;
        Main.generalSolution = (end - start) / 2 * x;        //è‡ªå·±æ¨å‡ºæ¥çš„å¹³å‡¡è§£ï¼Œè¯¥è§£æ˜¯è¯¥é¢˜çš„ä¸€ä¸ªè§£ ä¸çŸ¥é“æ˜¯ä¸æ˜¯æœ€å³ï¼Œä½†æ˜¯æœ€ä¼˜å€¼å®šå°‘äºç­‰äºè¯¥å€¼        
        return func(start, 0);
    }

    /**
     * @param thisNum å½“å‰äººæ°”     * @param coinsNum å½“å‰æ¶ˆè´¹çš„ç¡¬å¸é‡     * @return è¯¥è·¯å¾„ä¸Šæ‰€æ¶ˆè´¹çš„ç¡¬å¸æ•°é‡
     */
    private static int func(int thisNum, int coinsNum) {
        if (target == thisNum) {
            return coinsNum;
        }
        if (coinsNum > generalSolution) {
            return Integer.MAX_VALUE;
        }
        if (coinsNum < 0) {
            return Integer.MAX_VALUE;
        }
        int resX = func(thisNum + 2, coinsNum + x);
        int resY = func(thisNum * 2, coinsNum + y);
        int resZ = func(thisNum - 2, coinsNum + z);
        return Math.min(resX, Math.min(resY, resZ));
    }
}
```



**åŠ¨æ€è§„åˆ’**

```java
public class Main {
    public static int process(int x, int y, int z, int start, int target) {
        int generalSolution = (target - start) / 2 * x;
        //è¡¨ç¤ºæ¯ä¸ªtargetå¯¹åº”æœ€å¤§çš„ç¡¬å¸æ•°ï¼Œä¸ä¼šè¶…è¿‡è¿™ä¸ªé“¶å¸æ•°çš„ï¼Œ        
        /int max = Math.max(x, Math.max(y, z));
        int[][] dp = new int[target + 1][generalSolution + max + 1];//ç¬¬ä¸€ç»´åº¦è¡¨ç¤ºå½“å‰çš„äººæ°”å€¼ï¼Œç¬¬äºŒç»´åº¦è¡¨ç¤ºå½“å‰æ¶ˆè´¹çš„ç¡¬å¸é‡        
        for (int i = 0; i <= generalSolution; i++) {
            dp[target][i] = i;
        }
        for (int i = generalSolution; i <= generalSolution + max; i++) {
            for (int j = 0; j <= target; j++) {
                dp[i][j] = Integer.MAX_VALUE;
            }
        }
        for (int coinsConsume = generalSolution; coinsConsume >= 0; coinsConsume--) {
            for (int thisNum = start; thisNum <= target; thisNum++) {
                dp[thisNum][coinsConsume] = Math.min(dp[thisNum + 2][coinsConsume + x], Math.min(dp[thisNum * 2][coinsConsume + y], dp[thisNum - 2][coinsConsume + z]));
            }
        }
        return dp[start][0];
    }
}
```



![image-20220119093939360](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220119093939360.png)



## æ•°ç»„åšå¼ˆæœ€å€¼



![image-20220324232849864](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220324232849864.png)

### é€’å½’

```java
public class Main {
    public static int win(int[] arr) {
        return Math.max(f(arr, 0, arr.length - 1), e(arr, 0, arr.length - 1));
    }

    // å…ˆæ‰‹æƒ…å†µï¼š å½“å‰å–å€¼å’Œä¸‹ä¸€æ¬¡ä½œä¸ºçš„åæ‰‹ç»“åˆçš„æƒ…å†µå–æœ€å¤§å€¼ï¼Œå°±å‰©ä¸€ä¸ªæ—¶é‚£ä¹ˆç»“æœç›´æ¥å–èµ°
    public static int f(int[] arr, int l, int r) {
        if (l == r) return arr[l];
        return Math.max(arr[l] + e(arr, l + 1, r), arr[r] + e(arr, l, r - 1));
    }

    // ä½œä¸ºåæ‰‹è¿›è¡Œå®šæ˜¯å–å€¼æœ€å°ï¼Œå‰©ä¸€ä¸ªå…ƒç´ å°±è¿”å›0
    public static int e(int[] arr, int l, int r) {
        if (l == r) return 0;
        return Math.min(f(arr, l + 1, r), f(arr, l, r - 1));
    }
}

```

### **åŠ¨æ€è§„åˆ’**

![image-20220324232951952](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220324232951952.png)



```
public class Main {
    public static int process(int[] arr) {
        int N = arr.length;
        int[][] front = new int[N][N];
        for (int i = 0; i < N; i++) {
            front[i][i] = arr[i];
        }
        int[][] end = new int[N][N];
        for (int i = N - 1; i >= 0; i--) {
            for (int j = i + 1; j < N; j++) {
                front[i][j] = Math.max(arr[i] + end[i + 1][j], arr[j] + end[i][j - 1]);
                end[i][j] = Math.min(front[i + 1][j], front[i][j - 1]);
            }
        }
        return Math.max(front[0][N - 1], end[0][N - 1]);
    }
}

```



### æµ‹è¯•

iå’Œ1å‚»å‚»åˆ†ä¸æ¸…

```java

/**
 * @author chilcyWind
 * @Description
 * @Author Yang
 * @Date 2022/3/22
 * @Version 1.0
 **/
public class playcards {
    public static void main(String[] args) {
        playcards a = new playcards();
        int[] arr = new int[]{1, 2,3,4};
        System.out.println(a.win1(arr));
    }

    public int win1(int[] arr) {
        if (arr == null || arr.length == 0) {
            return 0;
        }
        return Math.max(f(arr, 0, arr.length - 1), s(arr, 0, arr.length - 1));
    }

    public int f(int[] arr, int i, int j) {
        System.out.println("f" + i + ":" + j);
        if (i == j) {
            return arr[i];
        }
        return Math.max(arr[i] + s(arr, i + 1, j), arr[j] + s(arr, i, j - 1));
    }

    public int s(int[] arr, int i, int j) {
        System.out.println("s" + i + ":" + j);
        if (i == j) {
            System.out.println(0);
            return 0;
        }
        return Math.min(f(arr, i + 1, j), f(arr, i, j - 1));
    }

//     public static int win2(int[] arr) {
//         if (arr == null || arr.length == 0) {
//             return 0;
//         }
//
//     }
}

```







## çœŸå‡æƒ…å†µ

![image-20220324233058168](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220324233058168.png)



ç›¸å½“äºç»™å®šäº†æ•°åˆ—ï¼Œæˆ‘ä»¬åªèƒ½åŠ å°æ‹¬å·æ”¹å˜è¿ç®—çš„é¡ºåºï¼Œæ•°å­—å’Œå­—ç¬¦çš„ä½ç½®ä¸èƒ½å˜åŠ¨





### **é€’å½’å®ç°**

```
class Test {

	
	//å‡½æ•°å…¥å£
    public static int num1(String express, boolean desired) {
        if (express == null || express.equals("")) {
            return 0;
        }
        char[] exp = express.toCharArray();
        if (!isValid(exp)) {
            return 0;
        }
        return p(exp, desired, 0, exp.length - 1);
    }




    private static int p(char[] exp, boolean desired, int L, int R) {
    	//basecaseï¼šL=Rçš„æ—¶å€™ï¼Œåªæœ‰ä¸€ä¸ªå­—ç¬¦,æ˜¯desiredçš„è¯å°±è¿”å›1è¡¨ç¤ºè¿™ä¸ªæ˜¯ç¬¦åˆçš„ä¸€ç§æ–¹æ³•ï¼Œå¦åˆ™è¿”å›0
        if (L == R) {
            if (exp[L] == '1') {
                return desired ? 1 : 0;
            } else {
                return desired ? 0 : 1;
            }
        }
        
        int res = 0;
        
        if (desired) {
            for (int i = L + 1; i < R; i += 2) {
                switch (exp[i]) {
                    case '&':
                        res += p(exp, true, L, i - 1) * p(exp, true, i + 1, R);
                        break;
                    case '|':
                        res += p(exp, true, L, i - 1) * p(exp, false, i + 1, R);
                        res += p(exp, false, L, i - 1) * p(exp, true, i + 1, R);
                        res += p(exp, true, L, i - 1) * p(exp, true, i + 1, R);
                        break;
                    case '^':
                        res += p(exp, true, L, i - 1) * p(exp, false, i + 1, R);
                        res += p(exp, false, L, i - 1) * p(exp, true, i + 1, R);
                        break;
                }
            }
        } else {
            for (int i = L + 1; i < R; i += 2) {
                switch (exp[i]) {
                    case '&':
                        res += p(exp, false, L, i - 1) * p(exp, true, i + 1, R);
                        res += p(exp, true, L, i - 1) * p(exp, false, i + 1, R);
                        res += p(exp, false, L, i - 1) * p(exp, false, i + 1, R);
                        break;
                    case '|':
                        res += p(exp, false, L, i - 1) * p(exp, false, i + 1, R);
                        break;
                    case '^':
                        res += p(exp, true, L, i - 1) * p(exp, true, i + 1, R);
                        res += p(exp, false, L, i - 1) * p(exp, false, i + 1, R);
                        break;
                }
            }
        }
        return res;
    }
    	//éªŒè¯æ˜¯ä¸æ˜¯ç¬¦åˆè¦æ±‚çš„å­—ç¬¦ä¸²
    private static boolean isValid(char[] exp) {
    	//é•¿åº¦å¿…é¡»æ˜¯å¥‡æ•°
        if ((exp.length & 1) == 0) {
            return false;
        }
        // å¥‡æ•°ä½å¿…é¡»æ˜¯0æˆ–è€…1
        for (int i = 0; i < exp.length; i = i + 2) {
            if ((exp[i] != '1') && (exp[i] != '0')) {
                return false;
            }
        }
        //å¶æ•°ä½å¿…é¡»ä¸ºè¿ç®—ç¬¦
        for (int i = 1; i < exp.length; i = i + 2) {
            if ((exp[i] != '&') && (exp[i] != '|') && (exp[i] != '^')) {
                return false;
            }
        }
        return true;
    }
}

```

### **åŠ¨æ€è§„åˆ’**

æ”¹æˆåŠ¨æ€è§„åˆ’

ä¸€ä¸ªä¸‰ç»´è¡¨ï¼Œä¸‰ä¸ªå˜é‡ã€‚

æˆ–è€…æä¸¤ä¸ªè¡¨ï¼Œä¸€ä¸ªæ˜¯trueè¡¨ï¼Œä¸€ä¸ªæ˜¯falseè¡¨

![image-20220119220612585](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220119220612585.png)





```java
class Test {
    public static int num2(String express, boolean desired) {
        if (express == null || express.equals("")) {
            return 0;
        }
        char[] exp = express.toCharArray();
        if (!isValid(exp)) {
            return 0;
        }
        int[][] t = new int[exp.length][exp.length];//è¡¨ç¤ºiåˆ°jèŒƒå›´å†…æ˜¯trueæˆ–è€…æ˜¯falseçš„ç»“æœæœ‰å‡ ç§ç»„åˆ
        int[][] f = new int[exp.length][exp.length];
        t[0][0] = exp[0] == '0' ? 0 : 1;
        f[0][0] = exp[0] == '1' ? 0 : 1;
        for (int i = 2; i < exp.length; i += 2) {
            t[i][i] = exp[i] == '0' ? 0 : 1;
            f[i][i] = exp[i] == '1' ? 0 : 1;
            //è¡¨ç¤ºiåˆ°jèŒƒå›´å†…ï¼Œæ˜¯trueæˆ–è€…falseçš„æœ‰å‡ ç§
            for (int j = i - 2; j >= 0; j -= 2) {
                //éå†iåˆ°jçš„æ¯æ¯ä¸€ä¸ªå€¼ï¼Œè¡¨ç¤ºä»kå¤„åˆ†å‰²iåˆ°jèŒƒå›´ä¸ºä¸¤æ®µï¼Œä¸¤ä¸ªå­—æ®µçš„ç»¼åˆç»“æœå°±æ˜¯iåˆ°jèŒƒå›´çš„å¯èƒ½æ€§åˆ’åˆ†
                for (int k = j; k < i; k += 2) {
                    //0å’Œ1çš„å„ç§è¿ç®—
                    if (exp[k + 1] == '&') {
                        
                        t[j][i] += t[j][k] * t[k + 2][i];
                        f[j][i] += (f[j][k] + t[j][k]) * f[k + 2][i] + f[j][k] * t[k + 2][i];
                    } else if (exp[k + 1] == '|') {
                        t[j][i] += (f[j][k] + t[j][k]) * t[k + 2][i] + t[j][k] * f[k + 2][i];
                        f[j][i] += f[j][k] * f[k + 2][i];
                    } else {
                        t[j][i] += f[j][k] * t[k + 2][i] + t[j][k] * f[k + 2][i];
                        f[j][i] += f[j][k] * f[k + 2][i] + t[j][k] * t[k + 2][i];
                    }
                }
            }
        }
        return desired ? t[0][t.length - 1] : f[0][f.length - 1];
    }
}

```



## èƒ½åŠ›è›‡æœ€å¤§é•¿åº¦é—®é¢˜![image-20220202161741538](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220202161741538.png)

![image-20220202162345377](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220202162345377.png)



**é€’å½’å®ç°**

```
class Main {
	public static int walk1(int[][] matrix) {
		if (matrix == null || matrix.length == 0 || matrix[0].length == 0) {
			return 0;
		}
		int res = Integer.MIN_VALUE;
		for (int i = 0; i < matrix.length; i++) {
			int[] ans = process(matrix, i, 0);
			res = Math.max(res, Math.max(ans[0], ans[1]));
		}
		return res;
	}

	public static int fun(int[][] m) {
		int res = Integer.MIN_VALUE;
		for (int i = 0; i < m.length; i++) {
			int ans = fun(m, i, 0, 0, false);
			res = Math.max(res, ans);
		}
		return res;
	}

	// ä»(i,j)å‡ºå‘ä¸€ç›´èµ°åˆ°æœ€å³ä¾§çš„æ—…ç¨‹ä¸­
	// 0) åœ¨æ²¡æœ‰ä½¿ç”¨è¿‡èƒ½åŠ›çš„æƒ…å†µä¸‹ï¼Œè¿”å›è·¯å¾„æœ€å¤§å’Œ
	// 1) åœ¨ä½¿ç”¨è¿‡èƒ½åŠ›çš„æƒ…å†µä¸‹ï¼Œè¿”å›è·¯å¾„æœ€å¤§å’Œ
	//ä»åå¾€å‰æ¨ï¼Œä»æœ€åä¸€ä¸ªæ ¼å­æ¨åˆ°ç¬¬ä¸€ä¸ªæ ¼å­
	public static int[] process(int[][] m, int i, int j) {
		//åˆ°è¾¾æœ€åä¸€åˆ—ï¼Œè¿”å›è¯¥å•ä½æ ¼å­ä½¿ç”¨èƒ½åŠ›æˆ–è€…ä¸ä½¿ç”¨èƒ½åŠ›çš„èƒ½ç»™è›‡å¢åŠ çš„é•¿åº¦
		if (j == m[0].length - 1) {
			return new int[] { m[i][j], -m[i][j] };
		}
		//ç»§ç»­å¾€ä¸‹é¢ä¸‰ä¸ªæ ¼å­èµ°ï¼Œèƒ½å¢åŠ çš„é•¿åº¦ï¼Œåˆ†åˆ«
		//å³è¾¹
		int[] restAns = process(m, i, j + 1);
		int restUnuse = restAns[0];
		int restUse = restAns[1];
		
		//å³ä¸‹
		if (i - 1 >= 0) {
			restAns = process(m, i - 1, j + 1);
			restUnuse = Math.max(restUnuse, restAns[0]);
			restUse = Math.max(restUse, restAns[1]);
		}
		//å³ä¸Š
		if (i + 1 < m.length) {
			restAns = process(m, i + 1, j + 1);
			restUnuse = Math.max(restUnuse, restAns[0]);
			restUse = Math.max(restUse, restAns[1]);
		}
		//
		int no = m[i][j] + restUnuse;
		int yes = Math.max(m[i][j] + restUse, -m[i][j] + restUnuse);
		return new int[] { no, yes };
	}
}

```

**åŠ¨æ€è§„åˆ’**

å†™çš„æœ‰é—®é¢˜ï¼Œæ²¡æœ‰åˆ¤æ–­å‰ä¸€ä¸ªä½ç½®ä¸ºè´Ÿæ•°çš„æƒ…å†µã€‚å¦‚æœå‰ä¸€ä¸ªä½ç½®ä¸ºè´Ÿæ•°ï¼Œè¯´æ˜æ¸¸æˆç»“æŸï¼Œä¸‹ä¸€ä¸ªä½ç½®ä¸åº”è¯¥åˆ°è¾¾ã€‚

```java
class Main {
	public static int walk2(int[][] matrix) {
		if (matrix == null || matrix.length == 0 || matrix[0].length == 0) {
			return 0;
		}
        
		int[][][] dp = new int[matrix.length][matrix[0].length][2];
        //èµ°åˆ°iã€jä½ç½®ï¼Œä½¿ç”¨èƒ½åŠ›å’Œä¸ä½¿ç”¨èƒ½åŠ›çš„æœ€å¤§å€¼
        //basecaseï¼Œç¬¬ä¸€åˆ—çš„å€¼
		for (int i = 0; i < dp.length; i++) {
			dp[i][matrix[0].length - 1][0] = matrix[i][matrix[0].length - 1];
			dp[i][matrix[0].length - 1][1] = -matrix[i][matrix[0].length - 1];
		}
		for (int j = matrix[0].length - 2; j >= 0; j--) {
			for (int i = 0; i < matrix.length; i++) {
				int restUnuse = dp[i][j + 1][0];
				int restUse = dp[i][j + 1][1];
				if (i - 1 >= 0) {
					restUnuse = Math.max(restUnuse, dp[i - 1][j + 1][0]);
					restUse = Math.max(restUse, dp[i - 1][j + 1][1]);
				}
				if (i + 1 < matrix.length) {
					restUnuse = Math.max(restUnuse, dp[i + 1][j + 1][0]);
					restUse = Math.max(restUse, dp[i + 1][j + 1][0]);
				}
				dp[i][j][0] = matrix[i][j] + restUnuse;
				dp[i][j][1] = Math.max(matrix[i][j] + restUse, -matrix[i][j] + restUnuse);
			}
		}

		int res = Integer.MIN_VALUE;
		for (int i = 0; i < matrix.length; i++) {
			res = Math.max(res, Math.max(dp[i][0][0], dp[i][0][1]));
		}
		return res;
	}
}

```

## bobæ´»ç€

é¢˜ç›®ï¼š**ç»™å®šèŒƒå›´æ¨ªå‘Nï¼Œçºµå‘Mï¼Œä»ï¼ˆiï¼Œjï¼‰å¼€å§‹èµ°Kæ­¥ï¼ˆåªèƒ½ä¸Šä¸‹å·¦å³èµ°ï¼Œä¸”æ¦‚ç‡ç›¸åŒï¼‰æ²¡æœ‰è¶…è¿‡ç»™å®šèŒƒå›´é‚£ä¹ˆå°±æ˜¯æ´»ç€ï¼Œå¦‚æœåœ¨è¿‡ç¨‹ä¸­è¶…è¿‡äº†èŒƒå›´åˆ™æ­»äº†ï¼Œè¿”å›æ´»ç€çš„æ¦‚ç‡ã€‚**

### **é€’å½’å®ç°**

```java
public class Main {

    public static int N, M;

    public static String process(int n, int m, int i, int j, int k) {
        N = n;
        M = m;
        int live = process(i, j, k);// æ´»ç€çš„æƒ…å†µ
        int all = (int) Math.pow(4, k);// ä¸€å…±å­˜åœ¨çš„æƒ…å†µ
        int gcb = gcb(all, live);// æ±‚æœ€å¤§å…¬çº¦æ•°
        return live / gcb + " / " + all / gcb;
    }

    private static int gcb(int m, int n) {
        if (n == 0) return m;
        return gcb(n, m % n);
    }

    // è®¡ç®—æ´»ç€çš„æƒ…å†µæ•°
    public static int process(int i, int j, int K) {
        if (i < 1 || i > N || j < 1 || j > M) return 0;
        if (K == 0) return 1;
        return process(i + 1, j, K - 1) +
                process(i - 1, j, K - 1) +
                process(i, j + 1, K - 1) +
                process(i, j - 1, K - 1);
    }
}

```

### **ä¸¥æ ¼è¡¨ç»“æ„**

```java
class U {
    public static long gcd(long m, long n) {
        return n == 0 ? m : gcd(n, m % n);
    }

    public static String bob2(int N, int M, int i, int j, int K) {
        int[][][] dp = new int[N + 2][M + 2][K + 1];  //xåæ ‡ï¼Œyåæ ‡ï¼Œè¿˜æœ‰å‡ æ­¥æ²¡èµ°åˆ°è¾¾
        //å¦‚æœå‰©ä¸‹0æ­¥çš„æ—¶å€™èƒ½èµ°åˆ°row,colä½ç½®å°±æ˜¯å­˜æ´»ï¼Œå¦åˆ™å°±æ˜¯æ­»å»äº†ã€‚
        for (int row = 1; row <= N; row++) {//åˆå§‹åŒ–æ•°æ®
            for (int col = 1; col <= M; col++) {
                dp[row][col][0] = 1;
            }
        }
        for (int rest = 1; rest <= K; rest++) {
            for (int row = 1; row <= N; row++) {
                for (int col = 1; col <= M; col++) {
                	//é€’å½’ä¾èµ–
                    dp[row][col][rest] = dp[row - 1][col][rest - 1];
                    dp[row][col][rest] += dp[row + 1][col][rest - 1];
                    dp[row][col][rest] += dp[row][col - 1][rest - 1];
                    dp[row][col][rest] += dp[row][col + 1][rest - 1];
                }
            }
        }
        long all = (long) Math.pow(4, K);
        long live = dp[i + 1][j + 1][K];
        long gcd = gcd(all, live);
        return (live / gcd) + "/" + (all / gcd);
    }
}

```





# åŠ¨æ€è§„åˆ’

## [095. æœ€é•¿å…¬å…±å­åºåˆ—](https://leetcode-cn.com/problems/qJnOS7/)

æ³¨æ„å­å­—ç¬¦ä¸²å¯ä»¥ä¸è¿ç»­

![image-20220327011241496](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220327011241496.png)

çŠ¶æ€ï¼š`dp[i][j]`è¡¨ç¤ºä»¥str1 0åˆ°iï¼Œstr2ä»¥0åˆ°jç»“å°¾çš„æœ‰ç›¸åŒå­ä¸²çš„é•¿åº¦

basecaseï¼Œ`i==0æˆ–è€…j==0çš„æ—¶å€™è¡¨ç¤ºå…¶ä¸­ä¸€ä¸ªä¸ºç©ºï¼Œdpå€¼ä¸º0`

çŠ¶æ€è½¬ç§»ï¼š

![image-20220327214344459](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220327214344459.png)

![image-20220327214602404](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220327214602404.png)





```java
class Solution {
    public int longestCommonSubsequence(String text1, String text2) {
        if (text1 == null || text2 == null || text1.equals("") || text2.equals("")) {
			return 0;
		}
        int len1=text1.length();
        int len2=text2.length();
        int[][] dp=new int[len1+1][len2+1];
        for(int i =1 ; i<=len1;i++){
            for(int j = 1;j<=len2;j++){
                if(text1.charAt(i-1)==text2.charAt(j-1)){
                    dp[i][j]=dp[i-1][j-1]+1;
                }else{
                    dp[i][j]=Math.max(dp[i-1][j],dp[i][j-1]);
                }
            }
        }
        return dp[len1][len2];
    }
}
```



ç©ºé—´ä¼˜åŒ–ï¼š

ä½¿ç”¨ä¸¤ä¸ªä¸€ä½æ•°ç»„

```
class Solution {
    public int longestCommonSubsequence(String text1, String text2) {
        int m = text1.length(), n = text2.length();
        int[][] dp = new int[2][n + 1];
        for (int i = 1; i <= m; i++) {
            int r = i % 2;
            char c1 = text1.charAt(i - 1);
            for (int j = 1; j <= n; j++) {
                char c2 = text2.charAt(j - 1);
                if (c1 == c2) {
                    dp[r][j] = dp[1 - r][j - 1] + 1;
                } else {
                    dp[r][j] = Math.max(dp[1 - r][j], dp[r][j - 1]);
                }
            }
        }
        return dp[m % 2][n];
    }
}
```

## ?-[1044. æœ€é•¿é‡å¤å­ä¸²](https://leetcode-cn.com/problems/longest-duplicate-substring/)



## æœ€é•¿ç›¸åŒå­å­—ç¬¦ä¸²



![image-20220327215735318](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220327215735318.png)

è·Ÿä¸Šä¸ªé¢˜ä¸ä¸€æ ·ï¼Œè¿™ä¸ªè¦è¿ç»­çš„

çŠ¶æ€ï¼š`dp[i][j]`è¡¨ç¤ºä»¥str1 0åˆ°iï¼ˆåŒ…å«ï¼‰ï¼Œstr2ä»¥0åˆ°jï¼ˆåŒ…å«ï¼‰ç»“å°¾çš„æœ‰ç›¸åŒå­ä¸²çš„é•¿åº¦ï¼Œå¿…é¡»åŒ…å«iå’Œjä½ç½®çš„å­—ç¬¦

basecaseï¼Œ`i==0æˆ–è€…j==0çš„æ—¶å€™è¡¨ç¤ºå…¶ä¸­ä¸€ä¸ªåªæœ‰ä¸€ä¸ªå­—ç¬¦ï¼Œéå†å¦ä¸€ä¸ªçœ‹ç›¸åŒä¸ç›¸åŒå°±å¥½äº†`

ç¬¬ä¸€è¡Œç¬¬ä¸€åˆ—

![image-20220204220538864](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220204220538864.png)



ç„¶åæ ¹æ®è¯¥ä½ç½®ç›¸ä¸ç›¸ç­‰ï¼Œç›¸ç­‰å°±å·¦ä¸Šè§’çš„æ ¼å­å€¼åŠ ä¸€ï¼Œä¸ç­‰å°±æ˜¯0

**åŠ¨æ€è§„åˆ’**

```
public class Main {
	public static String lcst1(String str1, String str2) {
		if (str1 == null || str2 == null || str1.equals("") || str2.equals("")) {
			return "";
		}
		char[] chs1 = str1.toCharArray();
		char[] chs2 = str2.toCharArray();
		int[][] dp = getdp(chs1, chs2);
		int end = 0;
		int max = 0;
		// è®°å½•æœ€é•¿å­ä¸²
		for (int i = 0; i < chs1.length; i++) {
			for (int j = 0; j < chs2.length; j++) {
				if (dp[i][j] > max) {
					end = i;
					max = dp[i][j];
				}
			}
		}
		return str1.substring(end - max + 1, end + 1);
	}

	public static int[][] getdp(char[] str1, char[] str2) {
		int[][] dp = new int[str1.length][str2.length];
		for (int i = 0; i < str1.length; i++) {
			if (str1[i] == str2[0]) {
				dp[i][0] = 1;
			}
		}
		for (int j = 1; j < str2.length; j++) {
			if (str1[0] == str2[j]) {
				dp[0][j] = 1;
			}
		}
		for (int i = 1; i < str1.length; i++) {
			for (int j = 1; j < str2.length; j++) {
				if (str1[i] == str2[j]) {
					dp[i][j] = dp[i - 1][j - 1] + 1;
				}
			}
		}
		return dp;
	}
}

```

**ç©ºé—´å‹ç¼©**

![image-20220204231051332](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220204231051332.png)

å› ä¸ºæ¯ä¸ªä½ç½®åªä¸å·¦ä¸Šè§’çš„å€¼ç›¸å…³ï¼Œå› æ­¤å¯ä»¥å®šä¹‰ä¸€ä¸ªå˜é‡æ–œç€è®¡ç®—å°±å¯ä»¥äº†ã€‚

```
class Main {
	public static String lcst2(String str1, String str2) {
		if (str1 == null || str2 == null || str1.equals("") || str2.equals("")) {
			return "";
		}
		char[] chs1 = str1.toCharArray();
		char[] chs2 = str2.toCharArray();
		//ä»å³ä¸Šè§’å¼€å§‹è®¡ç®—
		int row = 0;
		int col = chs2.length - 1;
		int max = 0;
		int end = 0;
		while (row < chs1.length) {
			int i = row;
			int j = col;
			int len = 0;//è¡¨ç¤ºå­å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œä¸€è¡Œä¸€è¡Œè®¡ç®—ï¼Œåˆå§‹å€¼ä¸º0ï¼Œå¯¹è§’çº¿è¿›è¡Œè®¡ç®—
			while (i < chs1.length && j < chs2.length) {
				if (chs1[i] != chs2[j]) {
					len = 0;
				} else {
					len++;
				}
				if (len > max) {
					end = i;
					max = len;
				}
				//æŒ‰å¯¹è§’çº¿è¿›è¡Œè®¡ç®—ï¼Œå¾€å³ä¸‹è§’èµ°
				i++;
				j++;
			}
			//rowåˆ°å¤´èµ°col
			if (col > 0) {
				col--;
			} else {
				row++;
			}
		}
		return str1.substring(end - max + 1, end + 1);
	}
}

```











## ç¡¬å¸ç»“åˆåŠ¨å½’

![image-20220125222729980](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220125222729980.png)



```java
public class Main {
    public static int moneyWays(int[] arbitrary, int[] onlyOne, int money) {
        int[][] arbDp = getArbDp(arbitrary, money);
        int[][] onlyDp = getOnDp(onlyOne, money);
        //arbDpå’ŒonlyDpç¬¬ä¸€è¡Œå°±æ˜¯æ‰€æƒ³è¦çš„æƒ…å†µæ•°
        int result = 0;
        for (int i = 0; i <= money; i++) {
            result += arbDp[0][i] * onlyDp[0][money - i];
        }
        return result;
    }

    private static int[][] getOnDp(int[] onlyOne, int money) {
        int[][] dp = new int[onlyOne.length + 1][money + 1];
        for (int i = 0; i < onlyOne.length; i++) {
            dp[i][0] = 1;
        }
        for (int coinIndex = onlyOne.length - 1; coinIndex >= 0; coinIndex--) {
            for (int resMoney = 0; resMoney <= money; resMoney++) {
                dp[coinIndex][resMoney] = dp[coinIndex + 1][resMoney];
                if (resMoney > onlyOne[coinIndex]) {// å€˜è‹¥å¯ä»¥æŒ‘é€‰å½“å‰çš„ä¸€ä¸ªç¡¬å¸
                    //å› ä¸ºä¸èƒ½é‡å¤ï¼Œå› æ­¤åŠ ä¸Šä¸Šé¢çš„ä¸€è¡Œï¼ŒcoinIndex + 1
                    dp[coinIndex][resMoney] += dp[coinIndex + 1][resMoney - onlyOne[coinIndex]];
                }
            }
        }
        return dp;
    }

    private static int[][] getArbDp(int[] arbitrary, int money) {
        int[][] dp = new int[arbitrary.length + 1][money + 1];
        for (int i = 0; i <= arbitrary.length; i++) {
            dp[i][0] = 1;
        }
        for (int coinIndex = arbitrary.length - 1; coinIndex >= 0; coinIndex--) {
            for (int resMoney = 0; resMoney <= money; resMoney++) {
                //ä¸é€‰å½“å‰indexçš„ç¡¬å¸
                dp[coinIndex][resMoney] = dp[coinIndex + 1][resMoney];
                // å€˜è‹¥å¯ä»¥æŒ‘é€‰å½“å‰çš„ä¸€ä¸ªç¡¬å¸
                if (resMoney > arbitrary[coinIndex]) {
                    //å› ä¸ºå¯ä»¥é‡å¤ï¼Œå› æ­¤å¯ä»¥åŠ ä¸ŠåŒä¸€è¡Œå‰é¢çš„ä½ç½®
                    dp[coinIndex][resMoney] += dp[coinIndex][resMoney - arbitrary[coinIndex]];
                }

            }
        }
        return dp;
    }
}

```







## [ä¸åŒè·¯å¾„ II](https://leetcode-cn.com/problems/unique-paths-ii/)

![image-20220323234801080](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220323234801080.png)

```
class Solution {
    public int uniquePathsWithObstacles(int[][] obstacleGrid) {
        int n = obstacleGrid.length, m = obstacleGrid[0].length;
        int[] f = new int[m];

        f[0] = obstacleGrid[0][0] == 0 ? 1 : 0;
        for (int i = 0; i < n; ++i) {
            for (int j = 0; j < m; ++j) {
                if (obstacleGrid[i][j] == 1) {
                    f[j] = 0;
                    continue;
                }
                if (j - 1 >= 0 && obstacleGrid[i][j - 1] == 0) {
                    f[j] += f[j - 1];
                }
            }
        }
        
        return f[m - 1];
    }
}

```



## [5. æœ€é•¿å›æ–‡å­ä¸²](https://leetcode-cn.com/problems/longest-palindromic-substring/)

â€‹	

`æ ¹æ®è¿™æ ·çš„æ€è·¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨åŠ¨æ€è§„åˆ’çš„æ–¹æ³•è§£å†³æœ¬é¢˜ã€‚æˆ‘ä»¬ç”¨ P(i,j) è¡¨ç¤ºå­—ç¬¦ä¸² ss çš„ç¬¬ i åˆ° jä¸ªå­—æ¯ç»„æˆçš„ä¸²ï¼ˆä¸‹æ–‡è¡¨ç¤ºæˆ s[i:j]ï¼‰æ˜¯å¦ä¸ºå›æ–‡ä¸²ã€‚`

![image-20220327231453792](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220327231453792.png)





```java
public class Solution {

    public String longestPalindrome(String s) {
        int len = s.length();
        if (len < 2) {
            return s;
        }

        int maxLen = 1;
        int begin = 0;
        // dp[i][j] è¡¨ç¤º s[i..j] æ˜¯å¦æ˜¯å›æ–‡ä¸²
        boolean[][] dp = new boolean[len][len];
        // åˆå§‹åŒ–ï¼šæ‰€æœ‰é•¿åº¦ä¸º 1 çš„å­ä¸²éƒ½æ˜¯å›æ–‡ä¸²
        for (int i = 0; i < len; i++) {
            dp[i][i] = true;
        }

        char[] charArray = s.toCharArray();
        // é€’æ¨å¼€å§‹
        // å…ˆæšä¸¾å­ä¸²é•¿åº¦
        for (int L = 2; L <= len; L++) {
            // æšä¸¾å·¦è¾¹ç•Œï¼Œå·¦è¾¹ç•Œçš„ä¸Šé™è®¾ç½®å¯ä»¥å®½æ¾ä¸€äº›
            for (int i = 0; i < len; i++) {
                // ç”± L å’Œ i å¯ä»¥ç¡®å®šå³è¾¹ç•Œï¼Œå³ j - i + 1 = L å¾—
                int j = L + i - 1;
                // å¦‚æœå³è¾¹ç•Œè¶Šç•Œï¼Œå°±å¯ä»¥é€€å‡ºå½“å‰å¾ªç¯
                if (j >= len) {
                    break;
                }

                if (charArray[i] != charArray[j]) {
                    dp[i][j] = false;
                } else {
                    if (j - i < 3) {
                        dp[i][j] = true;
                    } else {
                        dp[i][j] = dp[i + 1][j - 1];
                    }
                }

                // åªè¦ dp[i][L] == true æˆç«‹ï¼Œå°±è¡¨ç¤ºå­ä¸² s[i..L] æ˜¯å›æ–‡ï¼Œæ­¤æ—¶è®°å½•å›æ–‡é•¿åº¦å’Œèµ·å§‹ä½ç½®
                if (dp[i][j] && j - i + 1 > maxLen) {
                    maxLen = j - i + 1;
                    begin = i;
                }
            }
        }
        return s.substring(begin, begin + maxLen);
    }
}

```



## [516. æœ€é•¿å›æ–‡å­åºåˆ—](https://leetcode-cn.com/problems/longest-palindromic-subsequence/)

**åºåˆ—æ˜¯å¯ä»¥ä¸è¿ç»­çš„ï¼Œåªè¦å­—ç¬¦æŒ‰é¡ºåºå³å¯ã€‚å­ä¸²æ˜¯å¿…é¡»è¿ç»­çš„ã€‚**

![image-20220205223706137](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220205223706137.png)

`dp[i][j]`è¡¨ç¤ºiåˆ°jèŒƒå›´ä¸Šçš„æœ€é•¿å›æ–‡å­—ç¬¦ä¸²çš„å€¼ï¼Œ`dp[0][length-1]`å°±æ˜¯æœ€ç»ˆçš„ç»“æœï¼Œ

1.å¯¹è§’çº¿è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ä¸²çš„åœºæ™¯ï¼Œå€¼éƒ½æ˜¯1.

2.å¯¹è§’çº¿ä¸Šé¢é‚£ä¸€åˆ—è¡¨ç¤ºä¸¤ä¸ªå­—ç¬¦çš„æ—¶å€™ï¼Œç›´æ¥çœ‹ç›¸ç­‰ä¸ç›¸ç­‰å°±å¥½äº†

![image-20220205231955441](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220205231955441.png)

ç„¶åçŠ¶æ€è½¬ç§»æœ‰å››ç§æƒ…å†µï¼Œéœ€è¦å·¦è¾¹ï¼Œå·¦ä¸‹å’Œä¸‹é¢ä¸‰ä¸ªæ ¼å­çš„å€¼ã€‚ä»ä¸‹å¾€ä¸Šï¼Œä»å·¦å¾€å³ä¸€è¡Œä¸€è¡Œå¡«å†™

![image-20220205232344425](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220205232344425.png)





- ç›´æ¥DPã€‚æ³¨æ„ä¸Šé¢çš„å››ç§æƒ…å†µï¼Œç¬¬ä¸€ç§å·²ç»åŒ…å«åœ¨ç¬¬äºŒç§å’Œç¬¬ä¸‰ç§ä¹‹é—´ï¼Œå› æ­¤ä¸ç”¨è€ƒè™‘ç¬¬ä¸€ç§ã€‚

```java
class PalindromeSubsequence {

	public static int maxLen(String str) {
		if (str == null || str.length() == 0) {
			return 0;
		}
		char[] str1 = str.toCharArray();
		char[] str2 = reverse(str1);
		return lcse(str1, str2);
	}

	private static char[] reverse(char[] str) {
		char[] reverse = new char[str.length];
		for (int i = 0; i < reverse.length; i++) {
			reverse[i] = str[str.length - 1 - i];
		}
		return reverse;
	}

	private static int lcse(char[] str1, char[] str2) {
		int[][] dp = new int[str1.length][str2.length];
		dp[0][0] = str1[0] == str2[0] ? 1 : 0;
		for (int i = 1; i < str1.length; i++) {
			dp[i][0] = Math.max(dp[i - 1][0], str1[i] == str2[0] ? 1 : 0);
		}
		for (int j = 1; j < str2.length; j++) {
			dp[0][j] = Math.max(dp[0][j - 1], str1[0] == str2[j] ? 1 : 0);
		}
		for (int i = 1; i < str1.length; i++) {
			for (int j = 1; j < str2.length; j++) {
				dp[i][j] = Math.max(dp[i - 1][j], dp[i][j - 1]);
				if (str1[i] == str2[j]) {
					dp[i][j] = Math.max(dp[i][j], dp[i - 1][j - 1] + 1);
				}
			}
		}
		return dp[str1.length - 1][str2.length - 1];
	}
}

```



- æ±‚é€†åºä¸²å’Œè¯¥ä¸²çš„æœ€é•¿å…¬å…±å­åºåˆ—,å°±æ˜¯è¯¥å­—ç¬¦ä¸²çš„æœ€é•¿å›æ–‡å­åºåˆ—ï¼Œ`dp[i][j]`è·Ÿä¸Šé¢çš„æ¦‚å¿µä¸ä¸€æ ·äº†ã€‚dpæ•°ç»„çš„çŠ¶æ€å°±æ˜¯åˆ°str1çš„0åˆ°içš„å­å­—ç¬¦ä¸²å’Œstr2çš„å­å­—ç¬¦ä¸²0åˆ°jï¼Œæœ€é•¿èƒ½æ„æˆçš„ç›¸åŒå­åºåˆ—çš„é•¿åº¦ã€‚å‚è€ƒä¸Šé¢**ç›¸åŒæœ€é•¿å­åºåˆ—**çš„è§£æ³•

```
class Solution {
    public int longestPalindromeSubseq(String s) {
	if (s == null || s.length() == 0) {
			return 0;
		}
		char[] str = s.toCharArray();
		int[][] dp = new int[str.length][str.length];
		for (int i = 0; i < str.length; i++) {
			dp[i][i] = 1;
		}
		for (int i = 0; i < str.length - 1; i++) {
			dp[i][i + 1] = str[i] == str[i + 1] ? 2 : 1;
		}
        for(int i = str.length - 2; i >= 0; i--){
            for(int j = i+2;j<str.length;j++){
                dp[i][j]=Math.max(dp[i+1][j],dp[i][j-1]);
                if(str[i]==str[j]){
                    dp[i][j]=Math.max(dp[i+1][j-1]+2,dp[i][j]);
                }
            }
        }
        return dp[0][str.length-1];
    }
}
```



å®˜æ–¹è§£æ³•

```java
class Solution {
    public int longestPalindromeSubseq(String s) {
        int n = s.length();
        int[][] dp = new int[n][n];
        //ä¸€å®šæ˜¯ä»ä¸‹å¾€ä¸Š
        for (int i = n - 1; i >= 0; i--) {
            dp[i][i] = 1;
            char c1 = s.charAt(i);
            for (int j = i + 1; j < n; j++) {
                char c2 = s.charAt(j);
                if (c1 == c2) {
                    //å¦‚æœi>jï¼Œæ¯”å¦‚i=2ï¼Œj=3ï¼Œå› ä¸ºdp[3][2]é»˜è®¤ä¸º0ï¼Œæ‰€ä»¥ä¸å½±å“ç»“æœ
                    dp[i][j] = dp[i + 1][j - 1] + 2;
                } else {
                    dp[i][j] = Math.max(dp[i + 1][j], dp[i][j - 1]);
                }
            }
        }
        return dp[0][n - 1];
    }
}

```





![image-20220205174605513](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220205174605513.png)

çŠ¶æ€ï¼š`dp[i][j]`çŠ¶æ€å°±æ˜¯ä»iåˆ°jéœ€è¦å¢åŠ å¤šå°‘å­—ç¬¦æ‰èƒ½æ„æˆå›æ–‡ä¸²ã€‚å¯¹è§’çº¿ä¸Šåªæœ‰ä¸€ä¸ªå­—ç¬¦ï¼Œæ„æˆå›æ–‡ä¸²ï¼Œå› æ­¤æ˜¯0ã€‚å¯¹è§’çº¿ä¸Šé¢ä¸€ä¸ªçº¿ï¼Œä¸¤ä¸ªå­—ç¬¦çš„æ—¶å€™ï¼Œç›¸ç­‰å°±æ˜¯0ï¼Œä¸ç­‰å°±æ˜¯1ã€‚ä¸€å®šæ˜¯æ ¹æ®å¼€å¤´å’Œç»“å°¾è®¨è®ºå¯èƒ½æ€§ã€‚ä¹Ÿæ˜¯åˆ†å››ç§æƒ…å†µï¼š

1.æ·»åŠ iï¼Œä¹Ÿå°±æ˜¯ç­‰äº`dp[i+1][j]`+1

2.æ·»åŠ jï¼Œä¹Ÿå°±æ˜¯ç­‰äº`dp[i][j-1]`+1

2.i==jçš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯ç­‰äº`dp[i+1][j-1]`

ç„¶åæŠŠè¿™ä¸ªè·¯å¾„è®°å½•ä¸‹æ¥å°±å¯ä»¥äº†





![image-20220206164435092](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220206164435092.png)



ä¸‰ç§æƒ…å†µé€‰æœ€å°‘çš„å€¼ã€‚basecaseå°±æ˜¯å¯¹è§’çº¿å’Œå¯¹è§’çº¿ä¸Šé¢çš„é‚£ä¸ªæ–œçº¿ã€‚

æœ€ç»ˆçš„å€¼å°±æ˜¯dpã€0ã€‘ã€len-1ã€‘çš„å€¼ã€‚

å…ˆä»ä¸‹å¾€ä¸Šï¼Œä»å·¦å¾€å³ä¾æ¬¡å¡«å†™

![image-20220206164928474](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220206164928474.png)

```java
public class PalindromeMinAdd {

	public static String getPalindrome1(String str) {
		if (str == null || str.length() < 2) {
			return str;
		}
		char[] chas = str.toCharArray();
		int[][] dp = new int[str.length][str.length];
		for (int j = 1; j < str.length; j++) {
			dp[j - 1][j] = str[j - 1] == str[j] ? 0 : 1;
			for (int i = j - 2; i > -1; i--) {
				if (str[i] == str[j]) {
					dp[i][j] = dp[i + 1][j - 1];
				} else {
					dp[i][j] = Math.min(dp[i + 1][j], dp[i][j - 1]) + 1;
				}
			}
		}
		char[] res = new char[chas.length + dp[0][chas.length - 1]];
		int i = 0;
		int j = chas.length - 1;
		int resl = 0;
		int resr = res.length - 1;
		while (i <= j) {
			if (chas[i] == chas[j]) {
				res[resl++] = chas[i++];
				res[resr--] = chas[j--];
			} else if (dp[i][j - 1] < dp[i + 1][j]) {
				res[resl++] = chas[j];
				res[resr--] = chas[j--];
			} else {
				res[resl++] = chas[i];
				res[resr--] = chas[i++];
			}
		}
		return String.valueOf(res);
	}

}

```

## åˆ é™¤å…ƒç´ æ„æˆå›æ–‡æ–¹æ³•æ•°é‡

![image-20220206190530610](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220206190530610.png)

**èŒƒå›´å°è¯•çš„dp**

`dp[i][j]`è¡¨ç¤ºã€iã€‚ã€‚ã€‚ã€‚jã€‘èŒƒå›´ä¸Šï¼Œæœ‰å¤šå°‘ç§ä¿ç•™çš„æ–¹æ¡ˆï¼ŒåŒ…æ‹¬å¿…é¡»iæˆ–è€…jä½ç½®å­—ç¬¦çš„å¯èƒ½æ€§ã€‚è¿™ä¸ªä½ç½®çš„å€¼æœ‰å››ç§æƒ…å†µçš„å’Œæ„æˆã€‚iå’ŒjåŒ…å«ä¸åŒ…å«çš„å…³ç³»ï¼Œã€‚

ä½†æ˜¯dpã€iã€‘ã€j-1ã€‘ç­‰äºç¬¬3ç§å’Œç¬¬4ç§çš„å¯èƒ½ä¹‹å’Œäº†ï¼Œå› ä¸ºåæ­£éƒ½æ²¡jã€‚

dpã€i+1ã€‘ã€jã€‘ç­‰äºç¬¬3ç§å’Œç¬¬2ç§ä¹‹å’Œï¼Œéƒ½æ²¡iã€‚ç›¸åŠ å¤šäº†ä¸€ä¸ªä¸‰æƒ…å†µã€‚

ç¬¬1ç§æƒ…å†µåªæœ‰`i==j`çš„æ—¶å€™æ‰å­˜åœ¨ã€‚å½“`i==j`çš„æ—¶å€™,æ¯”dpã€i+1ã€‘ã€j-1ã€‘å¤šäº†ä¸€ç§æƒ…å†µå°±æ˜¯åªä¿ç•™iå’Œjä½ç½®çš„æ—¶å€™ï¼Œæ„æˆä¸€ä¸ªå›æ–‡å­—ç¬¦ä¸²ã€‚å› æ­¤ç­‰äºdpã€i+1ã€‘ã€j-1ã€‘+1(iå’Œjä¸åŠ¨ï¼Œi+1å’Œj-1å¯ä»¥å˜åŒ–ï¼Œå› æ­¤ä¸º).iå’Œjä¸ç›¸ç­‰ï¼Œå°±æ˜¯0.

![image-20220206192519897](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220206192519897.png)

æ‰€æœ‰çš„è§£ä¸ºï¼š

![image-20220206193217882](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220206193217882.png)



ä¾‹å­ï¼Œå…¨é‡ä¸”äº’æ–¥

![image-20220206192006705](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220206192006705.png)

```
class PalindromeWays {

	public static int way1(String str) {
		char[] s = str.toCharArray();
		int len = s.length;
		//`dp[i][j]`è¡¨ç¤ºã€iã€‚ã€‚ã€‚ã€‚jã€‘èŒƒå›´ä¸Šï¼Œæœ‰å¤šå°‘ç§ä¿ç•™çš„æ–¹æ¡ˆï¼Œ
		int[][] dp = new int[len + 1][len + 1];
		//åªæœ‰ä¸€ä¸ªå­—ç¬¦çš„æ—¶å€™ä¸ºä¸€ç§å¯èƒ½
		for (int i = 0; i <= len; i++) {
			dp[i][i] = 1;
		}
		//subLenè¡¨ç¤ºé•¿åº¦å¦‚æœ
		for (int subLen = 2; subLen <= len; subLen++) {
			for (int l = 1; l <= len - subLen + 1; l++) {
				int r = l + subLen - 1;
				dp[l][r] += dp[l + 1][r];
				dp[l][r] += dp[l][r - 1];
				if (s[l - 1] == s[r - 1])
					dp[l][r] += 1;
				else
					dp[l][r] -= dp[l + 1][r - 1];
			}
		}
		return dp[1][len];
	}

	public static int way2(String str) {
		char[] s = str.toCharArray();
		int n = s.length;
		int[][] dp = new int[100][100];
		for (int i = 0; i < n; i++) {
			dp[i][i] = 1;
			if (i + 1 < n && s[i] == s[i + 1])
				dp[i][i + 1] = 3;
			else
				dp[i][i + 1] = 2;
		}
		for (int p = 2; p < n; ++p) {
			for (int i = 0, j = p; j < n; ++i, ++j)
				if (s[i] == s[j])
					dp[i][j] = dp[i + 1][j] + dp[i][j - 1] + 1;
				else
					dp[i][j] = dp[i + 1][j] + dp[i][j - 1] - dp[i + 1][j - 1];
		}
		return dp[0][n - 1];
	}
}


```









## å°†å­—ç¬¦ä¸²åˆ†å‰²æˆæœ€å°‘å›æ–‡ä¸²

![image-20220328225354145](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220328225354145.png)

ä»å·¦å¾€å³æˆ–è€…ä»å³å¾€å·¦å°è¯•çš„æ¨¡å‹

`dp[i]`è¡¨ç¤º iåˆ°æœ€åè¿™æ®µèŒƒå›´å†…éœ€è¦å‡ åˆ€ã€‚

```java
class Main {
	public static int minCut(String str) {
		if (str == null || str.equals("")) {
			return 0;
		}
		char[] chas = str.toCharArray();
		int len = chas.length;
		int[] dp = new int[len + 1];
		dp[len] = -1;
		boolean[][] p = new boolean[len][len];
		for (int i = len - 1; i >= 0; i--) {
			dp[i] = Integer.MAX_VALUE;
			for (int j = i; j < len; j++) {
				if (chas[i] == chas[j] && (j - i < 2 || p[i + 1][j - 1])) {
					p[i][j] = true;
					dp[i] = Math.min(dp[i], dp[j + 1] + 1);
				}
			}
		}
		return dp[0];
	}
}

```



![image-20220206180256673](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220206180256673.png)

é€’å½’çš„è§£æ³•ï¼š

![image-20220206180710661](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220206180710661.png)

![image-20220206181802612](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220206181802612.png)



åˆ›å»ºä¸€ä¸ªdpçš„è¡¨ï¼Œè¡¨ç¤ºi-jèŒƒå›´ä¸Šæ˜¯ä¸æ˜¯å›æ–‡ã€‚
![image-20220206182119985](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220206182119985.png)

![image-20220206184144382](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220206184144382.png)

![image-20220206184228611](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220206184228611.png)







## å­—ç¬¦ä¸²è½¬æ¢ä»£ä»·é—®é¢˜

![image-20220119230624915](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220119230624915.png)

- è¯¥é¢˜ä¸»è¦æ˜¯ä»ä»€ä¹ˆåœ°æ–¹ä¸‹æ‰‹ï¼Œæˆ‘ä»¬é‡‡ç”¨ä»å­—ç¬¦ä¸²æœ€åçš„åœ°æ–¹ä¸‹æ‰‹ï¼Œå¯¹äºæ¯ä¸€æ¬¡å†³ç­–è¿›è¡Œä¸‰ç§é€‰æ‹©ï¼Œå–æœ€å°å€¼ã€‚

ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºè¡Œï¼Œä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºåˆ—

![image-20220119231341055](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220119231341055.png)

`dp[i][j]`è¡¨ç¤ºstr1çš„å‰iä¸ªè½¬æ¢ä¸ºstr2çš„å‰jä¸ªå­—ç¬¦ä¸²çš„ä»£ä»·æ˜¯å¤šå°‘ï¼Œstr2ä¸º0çš„æ—¶å€™ç›¸å½“äºstr1ä¸€ç›´åˆ é™¤ã€‚str1ä½0çš„æ—¶å€™ç›¸å½“äºä¸€ç›´æ’å…¥åˆ°str2.

å¯¹äº`dp[i][j]`çš„å€¼ï¼Œæœ‰ä¸‰ç§æ“ä½œï¼š

1. æ‰§è¡Œä¸€æ¬¡æ›´æ”¹ï¼š

â€‹		`1.1 str1[i] == str[j],dp[i][j] = dp[i-1][j-1]`

â€‹		`1.2 str1[i] != str[j],dp[i][j] = dp[i-1][j-1]+1` æ›´æ”¹ä¸€æ¬¡çš„æ“ä½œ

2. æ‰§è¡Œä¸€æ¬¡åˆ é™¤
   `dp[i][j] = dp[i][j]+1`
3. æ‰§è¡Œä¸€æ¬¡æ·»åŠ 
   `dp[i][j] = dp[i][j-1]+1`



**æš´åŠ›é€’å½’**

æš´åŠ›åŸºæœ¬è·ŸåŠ¨æ€è§„åˆ’çš„å‡ ç§æƒ…å†µå·®ä¸å¤š

```java
public class Main {
    public static char[] str1, str2;
    public static int ic, dc, rc;

    public static int process(char[] s1, char[] s2, int i, int d, int r) {
        str1 = s1;
        str2 = s2;
        ic = i;
        dc = d;
        rc = r;
        return process(str1.length - 1, str2.length - 1);
    }

    public static int process(int str1_len, int str2_len) {
        if (str1_len == 0 && str2_len == 0) {
            return 0;
        } else if (str1_len == 0) {
            return ic * str2_len;
        } else if (str2_len == 0) {
            return dc * str1_len;
        }
        int replace;
        if (str1[str1_len - 1] == str2[str2_len - 1]) {
            replace = process(str1_len - 1, str2_len - 1);
        } else {
            replace = process(str1_len - 1, str2_len - 1) + rc;
        }
        int delete = process(str1_len - 1, str2_len) + dc;
        int add = process(str1_len, str2_len - 1) + ic;
        return Math.min(Math.min(delete, add), replace);
    }

}

```

**åŠ¨æ€è§„åˆ’**

basecase ç¬¬ä¸€åˆ—ï¼Œå˜ä¸ºç©ºä¸²ç›´æ¥åˆ é™¤å°±å¥½

```java
public class Main {
    public static int process(String str1, String str2, int ic, int dc, int rc) {
        if (str1 == null || str2 == null) {
            return 0;
        }
        char[] chs1 = str1.toCharArray();
        char[] chs2 = str2.toCharArray();
        int row = chs1.length + 1;
        int col = chs2.length + 1;
        int[][] dp = new int[row][col];
        //0ä¸ªå­—ç¬¦å˜æˆiä¸ªçš„æ·»åŠ ä»£ä»·
        //ç¬¬ä¸€åˆ—
        for (int i = 1; i < row; i++) {
            dp[i][0] = dc * i;
        }
        //jä¸ªå­—ç¬¦å˜æˆ0ä¸ªçš„åˆ é™¤ä»£ä»·
        //ç¬¬ä¸€è¡Œ
        for (int j = 1; j < col; j++) {
            dp[0][j] = ic * j;
        }
        for (int i = 1; i < row; i++) {
            for (int j = 1; j < col; j++) {
 
                if (chs1[i - 1] == chs2[j - 1]) {
                    dp[i][j] = dp[i - 1][j - 1];
                } else {
                    //æ›¿æ¢ä¸€ä¸ªä»£ä»·
                    dp[i][j] = dp[i - 1][j - 1] + rc;
                }
                /*
                 dp[i][j - 1] + icï¼š
                            iä¸ªè½¬åŒ–æˆj-1é•¿åº¦çš„ä»£ä»·+ä¸€ä¸ªæ·»åŠ ä»£ä»·
                            
                 dp[i - 1][j] + dcï¼š
                            i-1ä¸ªè½¬åŒ–æˆjé•¿åº¦çš„ä»£ä»·+ä¸€ä¸ªåˆ é™¤ä»£ä»·
                 */
                //æ·»åŠ jä½ç½®ä¸€ä¸ª          
                dp[i][j] = Math.min(dp[i][j], dp[i][j - 1] + ic);
                //åˆ é™¤iä½ç½®ä¸€ä¸ª
                dp[i][j] = Math.min(dp[i][j], dp[i - 1][j] + dc);
            }
        }
        return dp[row - 1][col - 1];
    }
}

```





## ç±»æ–æ³¢é‚£å¥‘æ•°åˆ—

å…ˆçœ‹ä¸‹æ•°åˆ—

![image-20220110232208696](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220110232208696.png)



![image-20220111091236577](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220111091236577.png)



æ–æ³¢é‚£å¥‘æ•°åˆ—ç¬¬né¡¹çš„å€¼ï¼Œæ ¹æ®ä¸Šé¢çš„çŸ©é˜µå¾—å‡ºã€‚

![image-20220111091726036](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220111091726036.png)



å³ç§»ä¸€ä½å†ä¸1&å°±èƒ½å¾—åˆ°è¿™ä¸ªæ•°å­—çš„äºŒè¿›åˆ¶ä¸Šé¢çš„ä½ç½®æ˜¯ä¸æ˜¯1.

![image-20220111092003540](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220111092003540.png)



å¯ä»¥æ¨å¹¿åˆ°å¤šé¡¹ç»„åˆçš„æ•°åˆ—



### \01å­—ç¬¦ä¸²ç»„åˆ

![image-20220110232145674](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220110232145674.png)





![image-20220111094239894](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220111094239894.png)



- ç¬¬ä¸€ä¸ªä¸º1ï¼Œç¬¬äºŒä¸ªä¸º2ï¼Œçš„æ–æ³¢é‚£å¥‘æ•°åˆ—

  

  ```
  public class Test {    public static int process(int N) {        if (N<=0)return 0;        if (N==1)return 1;        if (N==2)return 2;        int a=1;        int b=2;        int res=0;        while (N-2!=0){            res=a+b;            a=b;            b=res;            N--;        }        return res;    }}
  ```



### è¾—è½¬ç›¸é™¤

```
public class Main {	public static int process(int a, int b) {		if (b == 0)// è¡¨ç¤ºä¸Šä¸€æ­¥çš„è¾—è½¬ç›¸é™¤ç»“æœä¸º0äº†			return a;		return process(b, a % b);	}}
```

### exp2

![image-20220111094656196](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220111094656196.png)

å°±æ˜¯åœ¨NèŒƒå›´ä¸­ç¬¬ä¸€é¡¹ä¸º1ï¼Œç¬¬äºŒé¡¹ä¸º2çš„æ–æ³¢é‚£å¥‘æ•°åˆ—ä¸ªæ•°å°±æ˜¯å¯ä»¥ä¿ç•™çš„ä¸ªæ•°ã€‚

â€œç»„æˆä¸‰è§’å½¢çš„ä¸‰æ¡è¾¹éœ€æ»¡è¶³æœ€é•¿çš„è¾¹å°äºå¦å¤–ä¸¤æ¡è¾¹ä¹‹å’Œ,æœ€çŸ­çš„è¾¹å¤§äºå¦å¤–ä¸¤æ¡è¾¹ä¹‹å·®çš„ç»å¯¹å€¼ã€‚â€

è¯´ç™½äº†å°±æ˜¯æ–æ³¢é‚£å¥‘æ•°åœ¨å‰næœ‰å‡ ä¸ªçš„é—®é¢˜

```
public class Main {	public static int process(int N) {		if (N <= 3)			return 0;		// numè®°å½•å°äºNçš„ç±»æ–æ³¢é‚£å¥‘æ•°åˆ—ä¸­å…ƒç´ ä¸ªæ•°		int a = 1, b = 2, res = 0, num = 2;		// é€’å½’çš„æ–æ³¢é‚£å¥‘æ•°åˆ—		while (true) {			res = a + b;			if (res > N)				return N - num;			a = b;			b = res;			num++;		}	}}
```







![image-20220111215757638](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220111215757638.png)

## ï¼Ÿå’–å•¡æœºé—®é¢˜

![image-20220109172318637](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220109172318637.png)

### é€’å½’

```java
public class Main {
    public static int sweepAllCup(int[] arr, int N, int a, int b) {
        PriorityQueue<Integer[]> queue = new PriorityQueue<>(Comparator.comparingInt(o -> o[0] + o[1]));
        for (int i : arr) {
            queue.add(new Integer[]{0, i});
        }
        int[] finishTime = new int[N];
        for (int i = 0; i < N; i++) {
            Integer[] integers = queue.poll();
            integers[0] += integers[1];
            finishTime[i] = integers[0];
            queue.add(integers);
        }
        return sweepAllCup(finishTime, a, b, 0, 0);
    }

    // timePointæŒ‡æœºå™¨æ—¶é—´
    private static int sweepAllCup(int[] finishTime, int a, int b, int index, int timePoint) {
        if (index == finishTime.length - 1) {
            return Math.min(Math.max(finishTime[index], timePoint) + a, finishTime[index] + b);
        }
        //å’–å•¡æœºåˆ·
        int sweepTime = Math.max(timePoint, finishTime[index]) + a;
        int sweepRestFinish = sweepAllCup(finishTime, a, b, index + 1, sweepTime);
        int time1 = Math.max(sweepRestFinish, sweepTime);//åˆ·è¿™ä¸ªæ¯å­å’Œå‰©ä½™æ¯å­éƒ½å®Œæˆ
        //è‡ªå·±å¹²
        int dryTime = finishTime[index] + a;
        int dryRestFinish = sweepAllCup(finishTime, a, b, index + 1, timePoint);
        int time2 = Math.max(dryRestFinish, dryTime);//è‡ªå¹²è¿™ä¸ªæ¯å­å’Œå‰©ä½™æ¯å­éƒ½å®Œæˆ
        return Math.min(time1, time2);
    }

}

```

### **åŠ¨æ€è§„åˆ’**

```java
public class Main {
    public static int sweepAllCup(int[] arr, int N, int a, int b) {
        PriorityQueue<Integer[]> queue = new PriorityQueue<>(Comparator.comparingInt(o -> o[0] + o[1]));
        for (int i : arr) {
            queue.add(new Integer[]{0, i});
        }
        int[] finishTime = new int[N];
        for (int i = 0; i < N; i++) {
            Integer[] integers = queue.poll();
            integers[0] += integers[1];
            finishTime[i] = integers[0];
            queue.add(integers);
        }
        int M = finishTime[N - 1] + b;
        int[][] dp = new int[N][M + 1];
        for (int i = 0; i <= M; i++) {
            dp[N - 1][i] = Math.min(Math.max(i, finishTime[i]) + a, finishTime[i] + b);
        }
        for (int i = N - 2; i >= 0; i--) {
            for (int j = 0; j < M; j++) {
                int sweepTime = Math.max(finishTime[i], j) + a;
                int time1 = Math.max(sweepTime, dp[i + 1][sweepTime]);
                int dryTime = finishTime[i] + b;
                int time2 = Math.max(dryTime, dp[i][dryTime]);
                dp[i][j] = Math.min(time1, time2);
            }
        }
        return dp[0][0];
    }
}

```



## mirroræ•°

æ—¶é—´å¤æ‚åº¦o(n)ç©ºé—´å¤æ‚åº¦o1çš„éå†äºŒå‰æ ‘çš„æ–¹å¼ï¼Œæœ‰ç‚¹åƒçº¿ç´¢äºŒå‰æ ‘

é£ 9:00:18
![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/BA6222916FD12483540696AE21E31DE4.jpg)

é£ 9:00:19
![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/4C27099AE86BCE98E709AC5F9CF2538E.jpg)

é£ 9:00:19
![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/8504DEFFA83DB68111285AED30E18B0E.jpg)

é£ 9:00:19
![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/EED6FE103117301421F4743445C3373B.jpg)

é£ 9:00:20
![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/C75EE0D5505A484727EA6512F8E86D92.jpg)

é£ 9:00:20
![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/72D1C3B3F2016909613C37B70FC62739.jpg)

é£ 9:00:21
![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/0965229D51ED08FB47C5E19C2C823FAA.jpg)

## [æœ€é•¿æœ‰æ•ˆæ‹¬å·](https://leetcode-cn.com/problems/longest-valid-parentheses/)

![image-20220329224329434](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220329224329434.png)



![image-20211228091332515](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211228091332515.png)





å¯ä»¥çœ‹ä¸‹å®˜æ–¹çš„è§£é‡Š

### åŠ¨æ€è§„åˆ’

```java
public class Main {
    public static int maxNum(String s) {
        char[] arr = s.toCharArray();
        int[] dp = new int[arr.length];
        int pre, res = 0;
        for (int i = 1; i < dp.length; i++) {
            if (arr[i] == ')' ) {
                pre = i - 1 - dp[i - 1];
                if (pre >= 0 && arr[pre] == '(') {
                	// å’Œå½“å‰)åŒ¹é…çš„(ä¹‹é—´æ˜¯dp[pre-1],å‰å­˜åœ¨æœ‰æ•ˆæ‹¬å·ä¸ºdp[pre-1]
                    dp[i] =  dp[pre - 1] + 2 + ((pre - 1) >= 0 ? dp[pre - 1] : 0);
                }
            }
            res = Math.max(res, dp[i]);
        }
        return res;
    }
}

```

å®˜æ–¹çš„è§£æ³•,å¤§åŒå°å¼‚

![image-20220329231140221](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220329231140221.png)

```
class Solution {
    public int longestValidParentheses(String s) {
        int maxans = 0;
        int[] dp = new int[s.length()];
        for (int i = 1; i < s.length(); i++) {
            if (s.charAt(i) == ')') {
                if (s.charAt(i - 1) == '(') {
                    dp[i] = (i >= 2 ? dp[i - 2] : 0) + 2;
                } else if (i - dp[i - 1] > 0 && s.charAt(i - dp[i - 1] - 1) == '(') {
                    dp[i] = dp[i - 1] + ((i - dp[i - 1]) >= 2 ? dp[i - dp[i - 1] - 2] : 0) + 2;
                }
                maxans = Math.max(maxans, dp[i]);
            }
        }
        return maxans;
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/longest-valid-parentheses/solution/zui-chang-you-xiao-gua-hao-by-leetcode-solution/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

### æ ˆ



```
class Solution {
    public int longestValidParentheses(String s) {
        int maxans = 0;
        Deque<Integer> stack = new LinkedList<Integer>();
        stack.push(-1);
        for (int i = 0; i < s.length(); i++) {
            if (s.charAt(i) == '(') {
                stack.push(i);
            } else {
                stack.pop();
                if (stack.isEmpty()) {
                    stack.push(i);
                } else {
                    maxans = Math.max(maxans, i - stack.peek());
                }
            }
        }
        return maxans;
    }
}
```









## æ•°å­—è§£ç æ–¹æ³•

https://leetcode-cn.com/problems/decode-ways/

![image-20211228230339191](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211228230339191.png)





### **é€’å½’å®ç°**

- æ—¶é—´å¤æ‚åº¦ä¸ºæŒ‡æ•°çº§

  ```
  public class Main {
  	public static int process(String s, int i) {
  		// è‹¥ä¸€ä¸ªä¸å‰©æˆ–è¿™è¿˜å‰©ä¸€ä¸ªï¼Œå°±è¿”å›1ï¼ˆä¿è¯å‰©çš„ä¸ä¸º0ï¼‰ï¼Œè‹¥æ­¤æ—¶ä¸è¿”å›ï¼Œè¯´æ˜è¿˜å‰©è‡³å°‘ä¸¤ä¸ªå­—ç¬¦
  		if (s.length() == i || (s.length() == i + 1 && s.charAt(i) != '0'))
  			return 1;
  		if (s.charAt(i) == '0')
  			return 0;// æ²¡æœ‰0å¼€å¤´åŒ¹é…çš„å…ƒç´ 
  		int res = process(s, i + 1);// ä¸€ä¸ªå­—ç¬¦çš„
  		if (Integer.parseInt(s.substring(i, i + 2)) <= 26)
  			res += process(s, i + 2);// è‹¥æ»¡è¶³åŒ¹é…æ¡ä»¶ï¼Œè¿›è¡Œä¸¤ä¸ªå­—ç¬¦çš„
  		return res;// ç´¯åŠ çš„ç»“æœè¿”å›å°±è¡Œäº†
  	}
  }
  
  ```

  ### **åŠ¨æ€è§„åˆ’**

  - å˜å‚æ•°ä¸ªæ•°ä¸ºä¸€ä¸ªï¼Œè¡¨ç¤ºå½“å‰å€¼ä½œä¸ºè½¬åŒ–å­—æ¯çš„å¼€å§‹æ•°å­—ï¼Œç„¶åå‘ååˆ¤æ–­å­˜åœ¨å‡ ç§æƒ…å†µã€‚
  - æ—¶é—´å¤æ‚åº¦ä¸ºO(N)

  

  ```java
  class Solution {
      public int numDecodings(String s) {
          int n = s.length();
          int[] f = new int[n + 1];
          //åˆè¯•æ¡ä»¶ï¼Œç©ºå­—ç¬¦ä¸²ä¸º1ç§å¯èƒ½
          f[0] = 1;
          for (int i = 1; i <= n; ++i) {
          	//å•ç‹¬ä½œä¸ºä¸€ä¸ªå­—ç¬¦
              if (s.charAt(i - 1) != '0') {
                  f[i] += f[i - 1];
              }
              //ä¸å‰ä¸€ä¸ªå­—ç¬¦æ‹¼æˆåŒä¸€ä¸ªï¼Œå¾—ä¿è¯å‰ä¸€ä¸ªä¸ä¸º0ï¼Œå¹¶ä¸”ä¸¤ä¸ªä¸å¤§äº26.å¯èƒ½æ€§å°±æ˜¯å‰å‰ä¸€ä½ã€‚
              if (i > 1 && s.charAt(i - 2) != '0' && ((s.charAt(i - 2) - '0') * 10 + (s.charAt(i - 1) - '0') <= 26)) {
                  f[i] += f[i - 2];
              }
          }
          return f[n];
      }
  }
  
  ```

  

## æœ€é•¿æ— é‡å¤å­ä¸²

https://blog.csdn.net/weixin_54884881/article/details/121140623

![image-20220119225152149](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220119225152149.png)



**çœ‹åˆ°å­ä¸²å’Œå­æ•°ç»„çš„é—®é¢˜ï¼Œç›´æ¥å°±é€‰æ‹©ä»¥æ¯ä¸ªä½ç½®ä¸ºç»“å°¾ä¼šæ€ä¹ˆæ€ä¹ˆæ ·å°±å¥½äº†**



```java
public class Main {
    public static int process(String s) {
        if (s == null || s.length() == 0) {
            return 0;
        }
        char[] array = s.toCharArray();
        int[] map = new int[256];//ä¸‹æ ‡è¡¨ç¤ºå­—ç¬¦ï¼Œå€¼è¡¨ç¤ºå­—ç¬¦ä¸Šä¸€æ¬¡å‡ºç°çš„ä½ç½®ä¸‹æ ‡
        Arrays.fill(map, -1);
        int left = -1, maxLen = 0;// leftè¡¨ç¤ºæ­¤æ—¶å‘å·¦å»¶ä¼¸çš„æœ€å·¦ä½ç½®ï¼Œä¸åŒ…æ‹¬array[left],åŒ…æ‹¬array[right]
        for (int right = 0; right < array.length; right++) {
            left = Math.max(left, map[array[right]]);// ä¸Šæ¬¡æœ€å·¦ä½ç½®å’Œarray[right]ä¸Šæ¬¡å‡ºç°çš„ä½ç½®å–æœ€å³çš„ä¸‹æ ‡
            maxLen = Math.max(maxLen, right - left);// æ›´æ–°ç»“æœ
            map[array[right]] = right;// æ›´æ–°ä¸Šæ¬¡å‡ºç°çš„ä½ç½®ç´¢å¼•
        }
        return maxLen;
    }
}

```

```java
class Solution {
    public int lengthOfLongestSubstring(String s) {
        Map<Character, Integer> dic = new HashMap<>();
        int res = 0, tmp = 0;
        for(int j = 0; j < s.length(); j++) {
            int i = dic.getOrDefault(s.charAt(j), -1); // è·å–ç´¢å¼• i
            dic.put(s.charAt(j), j); // æ›´æ–°å“ˆå¸Œè¡¨
            tmp = tmp < j - i ? tmp + 1 : j - i; // dp[j - 1] -> dp[j]
            res = Math.max(res, tmp); // max(dp[j - 1], dp[j])
        }
        return res;
    }
}

ä½œè€…ï¼šjyd
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/zui-chang-bu-han-zhong-fu-zi-fu-de-zi-zi-fu-chuan-lcof/solution/mian-shi-ti-48-zui-chang-bu-han-zhong-fu-zi-fu-d-9/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```







## å­—ç¬¦ä¸²ç¼–ç 

![image-20220121093607212](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220121093607212.png)



![image-20220121094036917](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220121094036917.png)





## å¼‚æˆ–å’Œä¸º0çš„åŒºé—´ä¸ªæ•°

ç½‘æ˜“çš„é¢˜ç›®

![image-20220124231247965](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220124231247965.png)

å¼‚æˆ–ï¼Œè‹±æ–‡ä¸ºexclusive ORï¼Œç¼©å†™æˆxor

å¦‚æœaã€bä¸¤ä¸ªå€¼ä¸ç›¸åŒï¼Œåˆ™å¼‚æˆ–ç»“æœä¸º1ã€‚å¦‚æœaã€bä¸¤ä¸ªå€¼ç›¸åŒï¼Œå¼‚æˆ–ç»“æœä¸º0ã€‚

åªæœ‰åœ¨ä¸¤ä¸ªæ¯”è¾ƒçš„ä½ä¸åŒæ—¶å…¶ç»“æœæ˜¯1ï¼Œå¦åˆ™ç»“æœä¸º0

å³â€œä¸¤ä¸ªè¾“å…¥ç›¸åŒæ—¶ä¸º0ï¼Œä¸åŒåˆ™ä¸º1â€ï¼

| a    | b    | aâŠ•b  |
| ---- | ---- | ---- |
| 0    | 0    | 0    |
| 0    | 1    | 1    |
| 1    | 0    | 1    |
| 1    | 1    | 0    |

ä¸¤ä¸ªç›¸åŒæ•°å¼‚æˆ–çš„ç»“æœä¸º0

ä»»ä½•æ•°ä¸0å¼‚æˆ–ï¼Œç»“æœéƒ½æ˜¯é‚£ä¸ªæ•°

![image-20220124232237022](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220124232237022.png)

![image-20220124234457717](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220124234457717.png)

![image-20220124235901697](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220124235901697.png)

### ä¸€èˆ¬è§£

- å‰åºç´¯è®¡å¼‚æˆ–ï¼Œæ ¹æ®ä»å·¦å‘å³çš„åŠ¨æ€è§„åˆ’æ€æƒ³è¿›è¡Œæœ€å¤§å€¼çš„åˆ¤æ–­å’Œè®°å½•ã€‚
- åˆå§‹å€¼ï¼šä½ç½®ä¸º0çš„æ—¶å€™ï¼Œ0å‰é¢çš„-1ä½ç½®é»˜è®¤ä¸ºdp[-1] = 0
- dp[i]è¡¨ç¤ºï¼Œä»¥iä½ç½®ï¼ˆåŒ…å«iä½ç½®ï¼‰ç»“å°¾çš„å­å­—ç¬¦ä¸²ï¼Œæœ€å¤šèƒ½æœ‰å‡ ä¸ªå¼‚æˆ–ä¸º0çš„åŒºé—´ä¸ªæ•°ã€‚
  å¯¹äºdp[i]æ¥è¯´ï¼Œiä½ç½®æœ‰ä¸¤ç§æƒ…å†µï¼š
  1. dp[i] ä¸å‰é¢çš„æ•°å­—æ²¡æœ‰å¼‚æˆ–æˆ0ï¼Œå› æ­¤è¿™ä¸ªæ•°å­—ç›¸å½“äºåºŸæ‰çš„ï¼Œä»–å¦‚æœä¸ä¸º0çš„è¯ï¼Œä»–å°±ä¸èµ·ä½œç”¨ï¼Œå•ç‹¬å°±ä¸æ˜¯0.ä»–çš„å€¼ç›´æ¥ç­‰äºdp[i-1]ï¼Œ 
  2. dp[i]ä¸å‰é¢çš„æ•°å­—è¿›è¡Œå¼‚æˆ–æ„æˆä¸€ä¸ªå¼‚æˆ–ä¸º0çš„å­åŒºé—´ã€‚å‚è€ƒ**ä¸¤ä¸ªç›¸åŒæ•°å¼‚æˆ–çš„ç»“æœä¸º0**ï¼Œå› æ­¤åªéœ€è¦æ‰¾è¿™ä¸ªæ•°å­—å‰é¢æœ€è¿‘çš„å¼‚æˆ–ç­‰äºæ”¹ä¸ºæ•°å­—çš„åŒºé—´çš„èµ·å§‹å€¼å°±å¥½ã€‚å‡è®¾ä¸ºj(åŒ…å«jä½ç½®)ï¼Œåˆ™dp[i]è¿™ç§æƒ…å†µçš„å€¼ä¸º 1+dp[j-1]ï¼Œ
  3. ç„¶åæ¯”è¾ƒä¸¤ç§æƒ…å†µçš„æœ€å¤§å€¼ï¼Œå°±èƒ½ç¡®å®šdp[i]ä½ç½®æœ€å¥½çš„å€¼
- å› æ­¤éœ€è¦ä¸€ä¸ªmapã€‚è®°å½•ä»å¤´å¾€åéå†æ•°å­—ï¼Œä¸€ç›´è¿›è¡Œå¼‚æˆ–ï¼Œè®°å½•æ¯ä¸ªå¼‚æˆ–ä»¥åçš„ç»“æœï¼Œkeyä¸ºç»“æœï¼Œvalä¸ºæœ€è¿‘ä¸€æ¬¡è¾¾åˆ°è¿™ä¸ªå€¼çš„ä½ç½®ã€‚åœ¨è¿›è¡Œä¸Šé¢ç¬¬äºŒæ­¥çš„æ—¶å€™ç›´æ¥æŸ¥ã€‚å¦‚æœæœ‰å°±ç›´æ¥ç”¨æ¥è®¡ç®—ç¬¬äºŒéƒ¨ï¼Œç„¶åæ›´æ–°è¿™ä¸ªå€¼çš„æœ€è¿‘çš„ä½ç½®ä¸ºiã€‚
- å¦‚æœä»0ä½ç½®å¼‚æˆ–åˆ°iä½ç½®ä¸º1000ï¼Œå¦‚ä½•æ‰¾åˆ°å«æœ‰iä½ç½®çš„æœ€è¿‘çš„åŒºé—´å¼‚æˆ–ç»“æœä¸º0çš„ä½ç½®ï¼Ÿåªè¦æ‰¾åˆ°ä¸Šä¸€ä¸ªè·ç¦»iä½ç½®æœ€è¿‘çš„ä»0å¼‚æˆ–åˆ°jä½ç½®çš„å€¼ä¸º1000çš„jå°±å¥½ï¼Œè¿™æ ·ä»j+1å¼‚æˆ–åˆ°içš„å€¼å°±æ˜¯0äº†ï¼Œå› ä¸ºåªæœ‰0å¼‚æˆ–1000çš„ç»“æœæ‰æ˜¯1000ã€‚è¿™æ ·å°±æ‰¾åˆ°ä»j+1å¼€å§‹åˆ°iä½ç½®å¼‚æˆ–çš„ç»“æœä¸º0ï¼Œç¬¦åˆä¸Šé¢é‚£ä¸ªï¼ˆ2ï¼‰æ¡ä»¶äº†
- è¿™ä¸ªå°±æ˜¯å‰ç¼€å’Œï¼Œåªä¸è¿‡æ˜¯å¼‚æˆ–å’Œ



```java
public class Main {	public static int process(int[] arr) {		if (arr == null || arr.length == 0) {			return 0;		}		// å­˜å‚¨å‰é¢æ‰€æœ‰å…ƒç´ çš„ç´¯è®¡å¼‚æˆ–ç»“æœ		int[] preSum = new int[arr.length];		preSum[0] = arr[0];		// è®¡ç®—ç´¯è®¡å¼‚æˆ–ç»“æœ		for (int i = 1; i < preSum.length; i++) {			preSum[i] = preSum[i - 1] ^ arr[i];		}		// å­˜å‚¨æ¯ä¸ªä½ç½®å‰çš„æœ€å¤šçš„äº¦æˆ–è€…ä¸ºé›¶çš„ä¸ªæ•°		int[] preMaxNum = new int[arr.length];		for (int i = 1; i < arr.length; ++i) {			// åˆå§‹åŒ–å½“å‰ç»“æœå€¼			preMaxNum[i] = preSum[i] == 0 ? 1 : 0;			// åé¢çš„å€¼æ ¹æ®å‰é¢çš„æ›´æ–°ï¼Œéœ€è¦åˆ¤æ–­ä¸¤ä¸ªç´¯è®¡äº¦æˆ–ç»“æœç›¸åŒï¼Œé‚£ä¹ˆè¿™å…¶ä¸­å¼‚æˆ–å’Œå®šä¸º0			for (int j = i - 1; j >= 0; --j) {				if (preSum[j] == preSum[i]) {//å¦‚æœpreSum[j] == preSum[i]ï¼Œåˆ™è¯´æ˜arr[j+1---i]çš„å¼‚æˆ–å€¼ä¸º0ï¼Œå› ä¸ºä¸€ä¸ªæ•°å¼‚æˆ–0æ‰ç­‰äºè¿™ä¸ªæ•°çš„å€¼ã€‚					// arr[iâ€¦â€¦j]ä¹‹é—´çš„çš„æ•°ç»„æˆä¸€ä¸ªäº¦æˆ–ä¸º0çš„å€¼ç„¶ååŠ ä¸ŠpreMaxNum[j]å°±è¯¥ç»“åˆçš„ç»“æœå€¼					// è¿™é‡Œå®é™…ä¸Šè‹¥preMaxNum[j] + 1å¤§çš„è¯å¯ä»¥ç›´æ¥é€€å‡ºè¯¥å±‚å¾ªç¯ã€‚					preMaxNum[i] = Math.max(preMaxNum[i], preMaxNum[j] + 1);				}			}			// ä½¿ç”¨arr[i]ä½œä¸ºäº¦æˆ–ä¸ºé›¶çš„ä¸€éƒ¨åˆ†å’Œä¸ç”¨arr[i]çš„ä¸¤ç§æƒ…å†µå–æœ€å¤§å€¼			preMaxNum[i] = Math.max(preMaxNum[i], preMaxNum[i - 1]);		}		return preMaxNum[preMaxNum.length - 1];	}}
```

### ä¼˜åŒ–è§£æ³•

- ä¸Šä¸€ç§è§£æ³•ä¸­æåˆ°ï¼Œå½“æ»¡è¶³preMaxNum[j] + 1 > preMaxNum[i] æ—¶å°±å¯ä»¥é€€å‡ºå¾ªç¯ï¼Œè¯´æ˜æˆ‘ä»¬åªæ˜¯æ‰¾åˆ°ä¸€ä¸ªæ»¡è¶³æ›´æ–°æ¡ä»¶å³å¯

```java
public class Test {    public static int mostEOR(int[] arr) {        if (arr==null||arr.length==0)return 0;        int ans = 0;        int xor = 0;        int[] mosts = new int[arr.length];        HashMap<Integer, Integer> map = new HashMap<>();        map.put(0, -1);//åˆå§‹å€¼ï¼Œé»˜è®¤-1ä½ç½®çš„å€¼ä¸º0ï¼Œè¿™æ ·è·Ÿ0ä½ç½®å¼‚æˆ–çš„ç»“æœå°±æ˜¯0ä½ç½®çš„å€¼        for (int i = 0; i < arr.length; i++) {            xor ^= arr[i];            //è‹¥å­˜åœ¨ï¼Œè¯´æ˜å·²ç»å‡ºç°ï¼Œé‚£ä¹ˆä¹‹é—´çš„æ•°å­—çš„å¼‚æˆ–å’Œä¸º0            //è¿™ç§æ–¹å¼ä¸‹å°±æ˜¯ä¸Šæ¬¡å‡ºç°è¯¥å€¼å‰çš„ä¸ªæ•°+1å°±æ˜¯å½“å‰ä¸ªæ•°            if (map.containsKey(xor)) {                int pre = map.get(xor);                mosts[i] = pre == -1 ? 1 : (mosts[pre] + 1);            }            if (i > 0) {                //åˆ¤æ–­    åœ¨æ¬¡æ•°åˆ†å‰²å’ŒæŠ›å¼ƒæ”¹æ¬¡ä»¥ä¸Šä¸€æ¬¡çš„æ–¹æ¡ˆå“ªä¸ªä¸ºæœ€ä¼˜è§£                //ä¸ºäº†é˜²æ­¢pre...iä¸­å‡ºç°å¤šä¸ªå¼‚æˆ–å’Œä¸º0çš„æƒ…å†µ                mosts[i] = Math.max(mosts[i - 1], mosts[i]);            }            //æ›´æ–°æˆ–æ·»åŠ æ­¤æ—¶xorçš„ç´¢å¼•            map.put(xor, i);            //anså®é™…ä¸Šæœ€åä¹Ÿæ˜¯mostsçš„æœ€åä¸€ä¸ªå€¼ï¼Œä¹Ÿå¯ä»¥åœ¨æœ€åç›´æ¥è¿”å›mosts[mosts.length-1]            ans = Math.max(ans, mosts[i]);        }        return ans;    }}
```



![image-20220125001628190](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220125001628190.png)



## [518. é›¶é’±å…‘æ¢ II](https://leetcode-cn.com/problems/coin-change-2/)

### åŠ¨æ€è§„åˆ’æœ€ä¼˜è§£ï¼ˆå®˜æ–¹ï¼‰

![image-20220327010203696](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220327010203696.png)

![image-20220327010220152](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220327010220152.png)

```
class Solution {
    public int change(int amount, int[] coins) {
        int[] dp = new int[amount + 1];
        dp[0] = 1;
        for (int coin : coins) {
            for (int i = coin; i <= amount; i++) {
                dp[i] += dp[i - coin];
            }
        }
        return dp[amount];
    }
}


```



### **æš´åŠ›é€’å½’**

```java
public class Main {
    public static int[] coins;

    public static int process(int[] arr, int res) {
        coins = arr;
        return process(0, res);
    }

    private static int process(int index, int curRes) {
        if (curRes == 0) return 1;
        if (index == coins.length) return 0;
        int res = 0;
        for (int num = 0; num * coins[index] <= curRes; ++num) {
            res += process(index + 1, curRes - num * coins[index]);
        }
        return res;
    }
}

```

### **è®°å¿†åŒ–æœç´¢**

```java
public class Main {
    public static int[] coins;
    public  static int[][] dp;
    public static int process(int[] arr, int res) {
        coins = arr;
        dp=new int[arr.length+1][res+1];
        for (int[] i:dp){
            Arrays.fill(i,-1);
        }
        return process(0, res);
    }

    public static int process(int index, int curRes) {
        if (dp[index][curRes]!=-1)return dp[index][curRes];
        if (curRes == 0) {
            dp[index][curRes]=1;
            return 1;
        }
        if (index == coins.length) {
            dp[index][curRes]=0;
            return 0;
        }
        int res = 0;
        for (int num = 0; num * coins[index] <= curRes; ++num) {
            res += process(index + 1, curRes - num * coins[index]);
        }
        dp[index][curRes]=res;
        return res;
    }
}

```

**ä¸¥æ ¼è¡¨ç»“æ„**

```java
public class Main {
    public static int process(int[] coins, int res) {
        if (coins == null || coins.length == 0 || res <= 0) return 0;
        int[][] dp = new int[coins.length + 1][res + 1];
        for (int i = 0; i <= coins.length; i++) {
            dp[i][0] = 1;// é€’å½’ç»“æŸæ¡ä»¶
        }
        //æœ‰ä¸ªéšè—çš„æ¡ä»¶ï¼Œå°±æ˜¯å½“coinindexä¸ºè¶…å‡ºäº†ç¡¬å¸æ•°é‡çš„èŒƒå›´ï¼Œä¹Ÿå°±æ˜¯coin.lengthçš„ä½ç½®ï¼Œè€Œres>0çš„æ—¶å€™ï¼Œé‚£ä¸€åˆ—å°±éƒ½æ˜¯0ç§å¯èƒ½
        // æ ¹æ®é€’å½’å½¢å¼é¡ºåºè¿›è¡Œå¡«è¡¨
        for (int coinIndex = coins.length - 1; coinIndex >= 0; coinIndex--) {
            for (int curRes = 0; curRes <= res; curRes++) {
                int ways = 0;
                // coins[coinIndex]ç¡¬å¸ä½¿ç”¨äº†thisCoinNumä¸ª
                for (int thisCoinNum = 0; thisCoinNum * coins[coinIndex] <= curRes; thisCoinNum++) {
                    ways += dp[coinIndex + 1][curRes - thisCoinNum * coins[coinIndex]];
                }
                dp[coinIndex][curRes] = ways;
            }
        }
        // è¿”å›ç›®æ ‡å€¼
        return dp[0][res];
    }

}

```

![image-20220324225634341](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220324225634341.png)

```java
public class Main {
    public static int process(int[] coins, int res) {
        if (coins == null || coins.length == 0 || res <= 0) return 0;
        int[][] dp = new int[coins.length + 1][res + 1];
        for (int i = 0; i <= coins.length; i++) {
            dp[i][0] = 1;// é€’å½’ç»“æŸæ¡ä»¶
        }
        // æ ¹æ®é€’å½’å½¢å¼é¡ºåºè¿›è¡Œå¡«è¡¨
        for (int coinIndex = coins.length - 1; coinIndex >= 0; coinIndex--) {
            for (int curRes = 0; curRes <= res; curRes++) {
                // è¯¥ä½ç½®ç»“æœå°±æ˜¯ï¼š
                //          dp[coinIndex+1][curRes] ( coins[coinIndex]ç¡¬å¸ä½¿ç”¨äº†0ä¸ª )
                //                      +
                //          dp[coinIndex][curRes-coins[coinIndex]] (coins[coinIndex]ç¡¬å¸ä½¿ç”¨äº†1ä¸ª )
                dp[coinIndex][curRes] = dp[coinIndex + 1][curRes];
                if (curRes - coins[coinIndex] >= 0) {
                    dp[coinIndex][curRes] += dp[coinIndex][curRes - coins[coinIndex]];
                }
            }
        }
        // è¿”å›ç›®æ ‡å€¼
        return dp[0][res];
    }

}

```









### æœ€ä¼˜è§£ï¼ˆå®˜æ–¹ï¼‰

![image-20220327004629547](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220327004629547.png)

![image-20220327004737618](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220327004737618.png)



```
public class Solution {
    public int coinChange(int[] coins, int amount) {
        int max = amount + 1;
        int[] dp = new int[amount + 1];
        Arrays.fill(dp, max);
        dp[0] = 0;
        for (int i = 1; i <= amount; i++) {
            for (int j = 0; j < coins.length; j++) {
                if (coins[j] <= i) {
                    dp[i] = Math.min(dp[i], dp[i - coins[j]] + 1);
                }
            }
        }
        return dp[amount] > amount ? -1 : dp[amount];
    }
}

```



## å¯èƒ½æ€§æ•´ç†

1.ä»å·¦å¾€å³æ¨ï¼Œä¹Ÿå°±æ˜¯dpã€iã€‘è¡¨ç¤º0-i,è¿™ä¸ªiå¯ä»¥å¼ºåˆ¶å¿…é¡»ä»¥iç»“å°¾ï¼Œä¹Ÿå¯ä»¥æ˜¯0-ièŒƒå›´å†…æœ€ä¼˜è§£ï¼Œä¸ä¸€å®šä»¥iç»“å°¾

2ï¼ŒèŒƒå›´å°è¯•æ¨¡å‹ ä¹Ÿå°±æ˜¯dpã€iã€‘ã€jã€‘è¡¨ç¤ºiåˆ°jèŒƒå›´ä¸Šçš„æœ€ä¼˜è§£ï¼Œä»¥å¼€å¤´å’Œç»“å°¾çš„å­—ç¬¦æœ‰æ²¡æœ‰ä½œä¸ºåˆ†ç±»

3.å¦‚æœè¿˜æ˜¯ä¸¤ä¸ªåºåˆ—ç›¸å…³è”ï¼Œæ¯”å¦‚aå­—ç¬¦ä¸²ä¿®æ”¹æˆbå­—ç¬¦ä¸²ï¼Œdpã€iã€‘ã€jã€‘å¯ä»¥è¡¨ç¤ºæˆä»0åˆ°iè½¬ä¸ºä»0åˆ°jï¼Œè¿™æ ·å°±å…³è”èµ·æ¥äº†

## [ç›¸åŒæœ€é•¿å­åºåˆ—](https://leetcode-cn.com/problems/qJnOS7/)



![image-20220406230726603](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220406230726603.png)	

å¯èƒ½æ€§åˆ†ç±»ï¼šå››ç§æƒ…å†µï¼Œä»¥i/jç»“å°¾çš„æƒ…å†µ

![image-20220205191437590](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220205191437590.png)

dpæ•°ç»„çš„çŠ¶æ€å°±æ˜¯åˆ°strçš„0åˆ°içš„å­å­—ç¬¦ä¸²å’Œstr2çš„å­å­—ç¬¦ä¸²0åˆ°jï¼Œæœ€é•¿èƒ½æ„æˆçš„ç›¸åŒå­åºåˆ—çš„é•¿åº¦ï¼Œ

base caseï¼Œç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—ï¼Œå› ä¸ºéƒ½åªæœ‰ä¸€ä¸ªå­å­—ç¬¦ä¸²ï¼Œå› æ­¤å¯ä»¥æ ¹æ®ä¸¤ä¸ªå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªä½ç½®æ˜¯å¦ç›¸ç­‰ï¼Œä¹Ÿå°±æ˜¯`dp[0][0]` çš„å€¼ï¼Œå¦‚æœç›¸ç­‰ï¼Œåç»­éƒ½ä¸º1ï¼Œå¦‚æœä¸ç­‰ï¼Œå°±æ˜¯0ï¼Œç„¶åå¾€åæ¨ã€‚æˆ–è€…æ‰©å¤§ä¸€è¡Œå’Œä¸€åˆ—ï¼Œä¹Ÿå°±æ˜¯ç¬¬0è¡Œå’Œç¬¬0åˆ—ï¼Œè¡¨ç¤ºä¸¤ä¸ªå­—ç¬¦ä¸²çš„å…¶ä¸­ä¸€ä¸ªä¸º0çš„æ—¶å€™ï¼Œéƒ½ä¸º0ï¼ŒæŒ‰ç…§è¿™ä¸ª`dp`çš„é€»è¾‘ï¼Œç›´æ¥å¾€ä¸‹èµ°ã€‚

```java
public class Main {
    public static String lcse(String str1, String str2) {
        if (str1 == null || str2 == null || str1.equals("") || str2.equals("")) {
            return "";
        }
        char[] chs1 = str1.toCharArray();
        char[] chs2 = str2.toCharArray();
        int[][] dp = getdp(chs1, chs2);

        // æ ¹æ®dpè¡¨æ ¼è¿˜åŸè®¡ç®—å‡ºå…¬å…±çš„å­—ç¬¦åºåˆ—
        int m = chs1.length - 1;
        int n = chs2.length - 1;
        char[] res = new char[dp[m][n]];
        int index = res.length - 1;
        while (index >= 0) {
            // dp[m][n]æ˜¯æ ¹æ®é‚£ä¸ªå€¼è¿›è¡Œæ¨å‡ºï¼Œæ˜¯dp[m][n-1],dp[m-1][n]è¿˜æ˜¯dp[m-1][n-1]
            if (n > 0 && dp[m][n] == dp[m][n - 1]) {
                n--;
            } else if (m > 0 && dp[m][n] == dp[m - 1][n]) {
                m--;
            } else {
                res[index--] = chs1[m];
                m--;
                n--;
            }
        }
        return String.valueOf(res);
    }

    private static int[][] getdp(char[] str1, char[] str2) {
        int[][] dp = new int[str1.length][str2.length];
        dp[0][0] = str1[0] == str2[0] ? 1 : 0;
        //åˆå§‹åŒ–æ¡ä»¶
        for (int i = 1; i < str1.length; i++) {
            dp[i][0] = Math.max(dp[i - 1][0], str1[i] == str2[0] ? 1 : 0);
        }
        for (int j = 1; j < str2.length; j++) {
            dp[0][j] = Math.max(dp[0][j - 1], str1[0] == str2[j] ? 1 : 0);
        }
        //æ ¹æ®str1[0...i]å’Œstr2[0...j]æ¯”è¾ƒæ˜¯ä¸‰ç§æƒ…å†µ
        //				iä¸å½“å‰str1å­åºåˆ—æœ«å°¾ç»“æœï¼Œjä¸ºstr2å½“å‰å­åºåˆ—æœ€åå…ƒç´ 
        //				iåœ¨å½“å‰str1å­åºåˆ—æœ«å°¾ç»“æœï¼Œjä¸ä¸ºstr2å½“å‰å­åºåˆ—æœ€åå…ƒç´ 
        //				iæ˜¯å½“å‰str1å­åºåˆ—æœ«å°¾ç»“æœï¼Œjæ˜¯str2å½“å‰å­åºåˆ—æœ€åå…ƒç´ ï¼Œå­˜åœ¨æ¡ä»¶ä¸ºï¼šstr1[i] == str2[j] æˆç«‹
        for (int i = 1; i < str1.length; i++) {
            for (int j = 1; j < str2.length; j++) {
                dp[i][j] = Math.max(dp[i - 1][j], dp[i][j - 1]);
                if (str1[i] == str2[j]) {
                    dp[i][j] = Math.max(dp[i][j], dp[i - 1][j - 1] + 1);
                }
            }
        }
        return dp;
    }
}

```

ç©ºé—´å‹ç¼©-å®˜æ–¹è§£ç­”

```
class Solution {
    public int longestCommonSubsequence(String text1, String text2) {
        if (text1 == null || text2 == null || text1.equals("") || text2.equals("")) {
			return 0;
		}
        int len1=text1.length();
        int len2=text2.length();
        int[][] dp=new int[2][len2+1];
        for(int i =1 ; i<=len1;i++){
            for(int j = 1;j<=len2;j++){
                int r=i%2;
                if(text1.charAt(i-1)==text2.charAt(j-1)){
                    dp[r][j]=dp[1-r][j-1]+1;
                }else{
                    dp[r][j]=Math.max(dp[1-r][j],dp[r][j-1]);
                }
            }
        }
        return dp[len1%2][len2];
    }
}
```





# æ•°ç»„å’Œå­—ç¬¦ä¸²

## [300. æœ€é•¿é€’å¢å­åºåˆ—](https://leetcode-cn.com/problems/longest-increasing-subsequence/)

å­åºåˆ— æ˜¯ç”±æ•°ç»„æ´¾ç”Ÿè€Œæ¥çš„åºåˆ—ï¼Œåˆ é™¤ï¼ˆæˆ–ä¸åˆ é™¤ï¼‰æ•°ç»„ä¸­çš„å…ƒç´ è€Œä¸æ”¹å˜å…¶ä½™å…ƒç´ çš„é¡ºåºã€‚ä¾‹å¦‚ï¼Œ[3,6,2,7] æ˜¯æ•°ç»„ [0,3,1,6,2,2,7] çš„å­åºåˆ—ã€‚



- ![image-20220330231317076](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220330231317076.png)

```java
class Solution {
    public int lengthOfLIS(int[] nums) {
        int len = 1, n = nums.length;
        if (n == 0) {
            return 0;
        }
        //é•¿åº¦ä¸ºiçš„é€’å¢å­åºåˆ—ï¼Œæœ€åä¸€ä½çš„æœ€å°å€¼--è´ªå¿ƒ
        int[] d = new int[n + 1];
        d[len] = nums[0];
        for (int i = 1; i < n; ++i) {
            if (nums[i] > d[len]) {
                d[++len] = nums[i];
            } else {
                int l = 1, r = len, pos = 0;
                // å¦‚æœæ‰¾ä¸åˆ°è¯´æ˜æ‰€æœ‰çš„æ•°éƒ½æ¯” nums[i] å¤§ï¼Œæ­¤æ—¶è¦æ›´æ–° d[1]ï¼Œæ‰€ä»¥è¿™é‡Œå°† pos è®¾ä¸º 0
                while (l <= r) {
                    int mid = (l + r) >> 1;
                    if (d[mid] < nums[i]) {
                        pos = mid;
                        l = mid + 1;
                    } else {
                        r = mid - 1;
                    }
                }
                d[pos + 1] = nums[i];
            }
        }
        return len;
    }
}

```



## [647. å›æ–‡å­ä¸²ä¸ªæ•°](https://leetcode-cn.com/problems/palindromic-substrings/)

### ä¸­å¿ƒæ‹“å±•

![image-20220328213945522](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220328213945522.png)

```
class Solution {
    public int countSubstrings(String s) {
        int n = s.length(), ans = 0;
        for (int i = 0; i < 2 * n - 1; ++i) {
            int l = i / 2, r = i / 2 + i % 2;
            while (l >= 0 && r < n && s.charAt(l) == s.charAt(r)) {
                --l;
                ++r;
                ++ans;
            }
        }
        return ans;
    }
}

```

æˆ–è€…ç®€å•ä¸€ç‚¹

```
class Solution {
    public int countSubstrings(String s) {
        int ans = 0;
        int n = s.length();
        for(int i = 0 ; i< n ; i++){
            for(int j = 0;j<=1;j++){
                int l = i;
                int r = i+j;
                
                while(r<n&&l>=0&&s.charAt(l--)==s.charAt(r++)){
                    ans++;
                }
            }
        }
        return ans;
    }
}
```







### ï¼Ÿ-Manacher ç®—æ³•

å›å¤´çœ‹

## [å‰‘æŒ‡ Offer II 103. æœ€å°‘çš„ç¡¬å¸æ•°ç›®](https://leetcode-cn.com/problems/gaM7Ch/)

åŠ¨æ€è§„åˆ’çš„ç‰ˆæœ¬

ç»™å®šä¸åŒé¢é¢çš„ç¡¬å¸ coins å’Œä¸€ä¸ªæ€»é‡‘é¢ amountã€‚ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥è®¡ç®—å¯ä»¥å‡‘æˆæ€»é‡‘é¢æ‰€éœ€çš„æœ€å°‘çš„ç¡¬å¸ä¸ªæ•°ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•ä¸€ç§ç¡¬å¸ç»„åˆèƒ½ç»„æˆæ€»é‡‘é¢ï¼Œè¿”å› -1ã€‚

ä½ å¯ä»¥è®¤ä¸ºæ¯ç§ç¡¬å¸çš„æ•°é‡æ˜¯æ— é™çš„ã€‚

```
class Solution {
    public int coinChange(int[] coins, int amount) {
        if (amount <= 0) return 0;
        int dp[] = new int[amount+1];
 
        Arrays.fill(dp,amount+1);
        //è¿™é‡Œè¦æ³¨æ„ï¼Œbase case
        dp [0] = 0;
        for(int i = 1; i <amount+1;i++){
            for(int j = 0;j<coins.length;j++){
                if(i-coins[j] >= 0){
                    dp[i] = Math.min(dp[i-coins[j]]+1 , dp[i]);
                }
            }
        }
        return dp[amount] > amount?-1:dp[amount];


    }
}
```



## æ•°ç»„ä¸­æ²¡æœ‰å‡ºç°çš„æ•°

![image-20220118234729600](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220118234729600.png)







åŠ›æ‰£åŸé¢˜

![image-20220118235433067](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220118235433067.png)





## [æ’åºæ•°ç»„ä¸­åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—](https://leetcode.cn/problems/skFtm2/)

å‰‘æŒ‡ Offer II 070. 

ç»™å®šä¸€ä¸ªåªåŒ…å«æ•´æ•°çš„æœ‰åºæ•°ç»„ `nums` ï¼Œæ¯ä¸ªå…ƒç´ éƒ½ä¼šå‡ºç°ä¸¤æ¬¡ï¼Œå”¯æœ‰ä¸€ä¸ªæ•°åªä¼šå‡ºç°ä¸€æ¬¡ï¼Œè¯·æ‰¾å‡ºè¿™ä¸ªå”¯ä¸€çš„æ•°å­—ã€‚

![image-20220523094706449](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220523094706449.png)

å…³é”®å°±æ˜¯è¦01 23 45 è¿™ç§ç›¸é‚»ä½ç½®è¿›è¡Œæ¯”è¾ƒ

**å¼‚æˆ–**

å¼‚æˆ–ï¼ˆxorï¼‰æ˜¯ä¸€ä¸ªæ•°å­¦è¿ç®—ç¬¦ã€‚å®ƒåº”ç”¨äº[é€»è¾‘è¿ç®—](https://baike.baidu.com/item/é€»è¾‘è¿ç®—/7224729)ã€‚å¼‚æˆ–çš„æ•°å­¦ç¬¦å·ä¸ºâ€œâŠ•â€ï¼Œè®¡ç®—æœºç¬¦å·ä¸ºâ€œxorâ€ã€‚å…¶è¿ç®—æ³•åˆ™ä¸ºï¼š

aâŠ•b = (Â¬a âˆ§ b) âˆ¨ (a âˆ§Â¬b)

å¦‚æœaã€bä¸¤ä¸ªå€¼ä¸ç›¸åŒï¼Œåˆ™å¼‚æˆ–ç»“æœä¸º1ã€‚å¦‚æœaã€bä¸¤ä¸ªå€¼ç›¸åŒï¼Œå¼‚æˆ–ç»“æœä¸º0ã€‚



```
class Solution {
    public int singleNonDuplicate(int[] nums) {
        int low = 0, high = nums.length - 1;
        while (low < high) {
            int mid = (high - low) / 2 + low;
             //æ³¨æ„è¿™é‡Œ low å’Œ high ä¸midçš„å…³ç³»
            if (nums[mid] == nums[mid ^ 1]) {
                low = mid + 1;
            } else {
                high = mid;
            }
        }
        return nums[low];
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/skFtm2/solution/pai-xu-shu-zu-zhong-zhi-chu-xian-yi-ci-d-jk8w/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```











## [1979. æ‰¾å‡ºæ•°ç»„çš„æœ€å¤§å…¬çº¦æ•°](https://leetcode-cn.com/problems/find-greatest-common-divisor-of-array/)

æ±‚æ•°ç»„ä¸­æœ€å¤§å€¼å’Œæœ€å°å€¼çš„æœ€å¤§å…¬çº¦æ•°

![image-20220327001446748](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220327001446748.png)



```
    public static long gcd(long m, long n) {
        return n == 0 ? m : gcd(n, m % n);
    }
```



è§£æ³•

```
class Solution {
    /**
     * Java 
     * æ‰§è¡Œè€—æ—¶:0 ms,å‡»è´¥äº†100.00% çš„Javaç”¨æˆ·
     * å†…å­˜æ¶ˆè€—:38.1 MB,å‡»è´¥äº†68.42% çš„Javaç”¨æˆ·
     */
    public int findGCD(int[] nums) {
        int min = Integer.MAX_VALUE, max = Integer.MIN_VALUE;
        for (int num : nums) {
            if (num > max) {
                max = num;
            }
            if (num < min) {
                min = num;
            }
        }
        return gcd(min, max);
    }

    public int gcd(int x, int y) {
        return y == 0 ? x : gcd(y, x % y);
    }
}
```













# æ•°å­¦è®¡ç®—



## [åªæœ‰ä¸¤ä¸ªé”®çš„é”®ç›˜](https://leetcode.cn/problems/2-keys-keyboard/)

![image-20220524095434371](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220524095434371.png)



![image-20220524095237964](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220524095237964.png)

 ```
 class Solution {
     public int minSteps(int n) {
         int[] f = new int[n + 1];
         for (int i = 2; i <= n; ++i) {
             f[i] = Integer.MAX_VALUE;
             for (int j = 1; j * j <= i; ++j) {
                 if (i % j == 0) {
                  // ä¸‹é¢ä¸¤ä¸ªé¡ºåºä¸èƒ½æ¢
                     f[i] = Math.min(f[i], f[j] + i / j);
                     f[i] = Math.min(f[i], f[i / j] + j);
                 }
             }
         }
         return f[n];
     }
 }
 
 ä½œè€…ï¼šLeetCode-Solution
 é“¾æ¥ï¼šhttps://leetcode.cn/problems/2-keys-keyboard/solution/zhi-you-liang-ge-jian-de-jian-pan-by-lee-ussa/
 æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
 è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
 ```



```
class Solution {
    public int minSteps(int n) {
        int[] dp = new int[n+1];
        //ä»2å¼€å§‹ï¼Œå› ä¸º0å’Œ1éƒ½ä¸éœ€è¦è¿›è¡Œæ“ä½œã€‚
        for(int i = 2 ; i <= n ; i++){
            dp[i] = Integer.MAX_VALUE;
            //ä»1å¼€å§‹ï¼Œå› ä¸ºä»1å¼€å§‹ç­¹å¤Ÿiçš„å€¼ï¼Œå¦‚æœä»2å¼€å§‹çš„è¯ï¼Œdpåœ¨2ä½ç½®å°±æˆ0äº†ï¼Œ2ä½ç½®ç”±1ä½ç½®æ¨å¯¼å‡ºæ¥çš„
            for(int j = 1 ; (long)j*j<=i;j++){
                if(i%j==0){
                    dp[i] = Math.min(dp[i], dp[j]+ i/j);
                    dp[i] =Math.min(dp[i],dp[i/j]+j );
                }
            }
        }
        return dp[n];

    }
}
```

### æ‹†åˆ†ä¸ºè´¨æ•°çš„ä¹˜ç§¯

![image-20220524212335407](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220524212335407.png)

![image-20220524212352790](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220524212352790.png)

é¦–å…ˆæˆ‘ä»¬å†™å‰å‡ ä¸ªå‡½æ•°å€¼å¹¶è§‚å¯Ÿè§„å¾‹ï¼š
1 2 3 4 5 6 7 8
| | | | | | | |
0 2 3 4 5 5 7 6

ç»“è®º 1 ï¼šf(2 * n) = f(n) + 2.
è¿™æ˜¯å› ä¸ºæˆ‘ä»¬éœ€è¦å…ˆé€šè¿‡ f(n) æ¬¡æ“ä½œå¾—åˆ° nï¼Œå†å¤åˆ¶ç²˜è´´(2æ­¥)å¾—åˆ° 2 * n.

ç»“è®º 2 ï¼šå¯¹äºè´¨æ•° pï¼Œf(p) = p.
è¿™æ˜¯å› ä¸ºè¦è¾¾åˆ° pï¼Œåªæœ‰å¤åˆ¶ 1ï¼Œå†ç²˜è´´ p - 1 æ¬¡.

ä»ä»¥ä¸Šä¸¤ä¸ªç»“è®ºå¾—åˆ°å¯å‘ï¼Œæˆ‘ä»¬è€ƒè™‘ä¸€ä¸ªåˆæ•° n = p1 * p2 çš„è¾¾åˆ°æ–¹å¼ï¼Œæœ‰ä¸‰ç§é€”å¾„å¯ä»¥è¾¾åˆ° n:

```
1 -> p1 * p2
1 -> p1 -> p1 * p2
1 -> p2 -> p1 * p2
```



è¿™äº›é€”å¾„çš„æ­¥æ•°åˆ†åˆ«ä¸º p1 * p2, p1 + 1(å¤åˆ¶) + (p2 - 1)(ç²˜è´´) = p1 + p2, p2 + 1(å¤åˆ¶) + (p1 - 1)(ç²˜è´´) = p1 + p2.
æ‰€ä»¥ï¼Œf(p1 * p2) = p1 + p2.

ä»è€Œï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“æ¨å¯¼å‡ºï¼Œè‹¥ n = p1 * p2 * ... * piï¼Œå…¶ä¸­ pi ä¸ºè´¨æ•°ï¼Œåˆ™
f(n) = p1 + p2 + ... + pi.



è¿›ä¸€æ­¥åœ°ï¼Œè‹¥ n = p1^r1 * p2^r2 * ... * pi^riï¼Œè¿™é‡Œçš„ ^ è¡¨ç¤ºå‡ æ¬¡å¹‚å…¶ä¸­ ï¼Œpi ä¸ºè´¨æ•°ï¼Œri >= 1ï¼Œåˆ™
f(n) = p1 * r1 + p2 * r2 + ... + pi * ri.
ä¹Ÿå°±æ˜¯å¯¹ n åšè´¨å› æ•°åˆ†è§£ï¼Œå¹¶å°†æ‰€æœ‰è´¨å› æ•°ä¹˜ä»¥å®ƒçš„å¹‚æ¬¡å¹¶ç›¸åŠ å³å¯.



ä»£ç 

ä½œè€…ï¼šzdx2007
é“¾æ¥ï¼šhttps://leetcode.cn/problems/2-keys-keyboard/solution/shu-xue-si-lu-de-zui-you-jie-fen-jie-zhi-ijfb/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚



```
class Solution {
    public int minSteps(int n) {
        int ans = 0;
        for (int i = 2; i * i <= n; ++i) {
        //2,3éƒ½æ˜¯è´¨æ•°ï¼Œå¦‚æœåé¢æœ‰éè´¨æ•°ï¼Œä¸€å®šæ˜¯å‰é¢è´¨æ•°çš„ä¹˜ç§¯ï¼Œè€Œè¿™ä¸ªå¾ªç¯è¿­ä»£ï¼Œå·²ç»æ’é™¤äº†æœ‰éè´¨æ•°çš„ä¹˜æ•°çš„å¯èƒ½ã€‚
            while (n % i == 0) {
                n /= i;
                ans += i;
            }
        }
        if (n > 1) {
            ans += n;
        }
        return ans;
    }
}

```





## [204. è®¡æ•°è´¨æ•°](https://leetcode.cn/problems/count-primes/)

#### o(n)çš„æ–¹æ³•

```
	public static boolean check(int number) {
		int flag=0;//è®¾ç½®ä¸€ä¸ªæ ‡å¿—
		
		if(number==1||number==0) {//æ­¤æ–¹æ³•ç”¨äºæ’é™¤1å’Œ0çš„å½±å“
			return false;//è¿”å›false
		}
		for(int i=2;i<number;i++) {//ç”¨ä¸€ä¸ªforå¾ªç¯
			if(number%i==0) {
				flag=1;
				break;
			}
		}
		if(flag==1) {//æ ‡å¿—å¤„ç†
			return false;
		}else {
			return true;
		}
	}

```



#### o(æ ¹å·n)

n=xyï¼Œxã€yä¸ºæ•´æ•°ï¼Œn=âˆšnâˆšnï¼Œæ­¤æ—¶å°±å½“xï¼Œyéƒ½ç­‰äºâˆšnï¼Œxå–å°äºâˆšnçš„æŸæ•´æ•°æ—¶ï¼Œè‹¥èƒ½è¢«næ•´é™¤ï¼Œå¾—åˆ°yå¤§äºâˆšnçš„æŸæ•´æ•°ï¼Œä¹Ÿèƒ½è¢«næ•´é™¤ï¼Œä¿æŒä¹˜ç§¯è¿˜æ˜¯nã€‚xã€yä¸¤ä¸ªçº¦æ•°åœ¨âˆšnä¸¤è¾¹ã€‚åˆ¤æ–­æ˜¯å¦ç´ æ•°ï¼Œéœ€è¦né™¤[2,n-1]çš„æ‰€æœ‰æ•°ï¼Œä½¿ç”¨âˆšnåˆ†ä¸º[2,âˆšn]å’Œ[âˆšn,n-1]ï¼Œnåœ¨[2,âˆšn]æœ‰çº¦æ•°ï¼Œåœ¨[âˆšn,n-1]ä¹Ÿæœ‰çº¦æ•°ï¼Œnåœ¨[2,âˆšn]æ²¡æœ‰çº¦æ•°ï¼Œåœ¨[âˆšn,n-1]ä¹Ÿæ²¡æœ‰çº¦æ•°ã€‚
å…¶å®åªéœ€è¦[2,âˆšn]å°±èƒ½èµ·åˆ°åˆ¤æ–­è´¨æ•°ä½œç”¨ã€‚



![image-20220524085757831](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220524085757831.png)



```
class Solution {
    public int countPrimes(int n) {
        int ans = 0;
        for (int i = 2; i < n; ++i) {
            ans += isPrime(i) ? 1 : 0;
        }
        return ans;
    }

    public boolean isPrime(int x) {
        for (int i = 2; i * i <= x; ++i) {
            if (x % i == 0) {
                return false;
            }
        }
        return true;
    }
}
```

è¶…æ—¶

#### åŸƒæ°ç­›



![image-20220524091805562](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220524091805562.png)

```
class Solution {
    public int countPrimes(int n) {
        int[] isPrime = new int[n];
        Arrays.fill(isPrime, 1);
        int ans = 0;
        for (int i = 2; i < n; ++i) {
            if (isPrime[i] == 1) {
                ans += 1;
                if ((long) i * i < n) {
                    for (int j = i * i; j < n; j += i) {
                        isPrime[j] = 0;
                    }
                }
            }
        }
        return ans;
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/count-primes/solution/ji-shu-zhi-shu-by-leetcode-solution/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```







# å“ˆå¸Œ

## o(1)æ’å…¥å’Œåˆ é™¤
![image](https://user-images.githubusercontent.com/43565774/144258696-34983f48-2269-445f-a78c-41604eef3331.png)
ä¸¤ä¸ªhashè¡¨ï¼Œä¸€ä¸ªè®°å½•str-indexï¼Œä¸€ä¸ªè®°å½•index-strï¼Œç„¶årandmè·å–ä¸€ä¸ª0-indexçš„æ•´æ•°ï¼Œå°±æ˜¯ç­‰æ¦‚ç‡è·å–ã€‚
![image](https://user-images.githubusercontent.com/43565774/144259288-c406b5d4-43b0-4a68-978e-0dbc9eee9db5.png)
å¦‚æœè¦åˆ é™¤ä¸€ä¸ªè®°å½•ï¼Œåˆ é™¤å®Œäº†ä»¥åï¼Œå°†æœ€åçš„indexå¡«è¡¥åˆ°åˆ é™¤çš„ä½ç½®ï¼Œindex-1ï¼Œè¿™æ ·ç›¸å½“äºindexè¿˜æ˜¯è¿ç»­çš„ã€‚
![image](https://user-images.githubusercontent.com/43565774/144259930-8ae784e1-fcf2-4a38-acb0-3a0dd11a153e.png)
![image](https://user-images.githubusercontent.com/43565774/144260064-23435878-dd96-45fd-bfde-4e8a4986c920.png)

## å¸ƒéš†è¿‡æ»¤å™¨

![image](https://user-images.githubusercontent.com/43565774/144261607-facb5fa1-e3b8-4524-9c29-894de54e23b7.png)
 178/32è¡¨ç¤ºåœ¨å“ªä¸ªæ•°ä¸Šé¢æ‰¾178è¿™ä¸ªbitçš„çŠ¶æ€
 178%32è¡¨ç¤ºåœ¨è¿™ä¸ª32ä½çš„æ•°ä¸Šçš„å“ªä¸€ä¸ªbitä½



![image-20211201232934628](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211201232934628.png)

è¿™é‡Œè¿˜å¾—å†å¥½å¥½çœ‹ä¸€çœ‹ã€‚å¤±è¯¯ç‡ä»€ä¹ˆçš„ã€‚

æ ·æœ¬é‡å’Œå¤±è¯¯ç‡

![image-20211202000919915](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211202000919915.png)

åªéœ€è¦ç¡®è®¤å ç”¨ç©ºé—´må’Œå¤šå°‘ä¸ªå“ˆå¸Œå‡½æ•°ï¼Œå°±å¯ä»¥è®¾è®¡å‡ºå¸ƒéš†è¿‡æ»¤å™¨ï¼Œè®¡ç®—å‡ºå¤±è¯¯ç‡

mè¡¨ç¤ºç©ºé—´ï¼Œkè¡¨ç¤ºæœ‰å¤šå°‘ä¸ªå“ˆå¸Œå‡½æ•°ï¼Œå‘ä¸Šå–æ•´

### å¸ƒéš†è¿‡æ»¤å™¨çš„è¯¯åˆ¤ç‡è¯¥å¦‚ä½•è®¡ç®—ï¼Ÿ







## ä¸€è‡´æ€§å“ˆå¸Œ

æˆ‘ä»¬å¯¹æ°´å¹³æ‹†åˆ†æ•°æ®åº“æœ‰äº†ä¸€ä¸ªå¤§è‡´çš„å°è±¡ï¼Œå…¶å®å°±æ˜¯æŠŠå¾ˆå¤šçš„æ•°æ®æŒ‰ç…§ä¸€å®šçš„è§„åˆ™å­˜æ”¾åœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Šï¼Œç„¶åæŸ¥æ‰¾çš„æ—¶å€™èƒ½å¤Ÿæ ¹æ®å­˜æ”¾çš„æ—¶å€™çš„è§„åˆ™å»æ‰¾åˆ°å‰é¢å­˜æ”¾çš„æ•°æ®ã€‚é‚£ä¹ˆæˆ‘ä»¬è¦è¯´çš„ä¸€è‡´æ€§[å“ˆå¸Œ](https://so.csdn.net/so/search?q=å“ˆå¸Œ&spm=1001.2101.3001.7020)ç®—æ³•ï¼Œå…¶å®å°±æ˜¯è§£å†³äº†è¿™é‡Œé¢çš„ `å­˜å–è§„åˆ™` çš„é—®é¢˜ï¼Œæœ‰äº†è¿™ä¸ªä¸€è‡´æ€§å“ˆå¸Œç®—æ³•ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå‡†ç¡®çš„çŸ¥é“æˆ‘ä»¬è¦å–çš„æ•°æ®è½åœ¨å“ªä¸ªæœºå™¨çš„å“ªä¸ªæ•°æ®åº“ä¸­ã€‚

#### 1. ç®€å•å“ˆå¸Œ

è¿˜æ˜¯ä¸Šé¢æ°´å¹³æ‹†åˆ†æ•°æ®åº“çš„ä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬ç°åœ¨ä¸çŸ¥é“ä»€ä¹ˆä¸€è‡´æ€§å“ˆå¸Œä»€ä¹ˆé›†ç¾¤åˆ†æ§½ï¼Œå°±è®©æˆ‘ä»¬è‡ªå·±æƒ³çš„è¯ï¼Œæˆ‘ä»¬å¯ä»¥å¾ˆå®¹å™¨çš„æƒ³åˆ° java ä¸­çš„ HashMap çš„åŸç†ï¼Œå®ƒé€šè¿‡è®¡ç®—äº†ä¸€ä¸ª key çš„å“ˆå¸Œå€¼ï¼Œç„¶åæ‹¿è¿™ä¸ªå“ˆå¸Œå€¼å¯¹åº•å±‚æ•°ç»„å–æ¨¡å°±å¾—åˆ°äº†ä¸€ä¸ªå“ˆå¸Œæ¡¶ï¼Œå¦‚æœæ•°æ®å­˜åœ¨çš„è¯ï¼Œå°±ä¸€å®šåœ¨è¿™ä¸ªå“ˆå¸Œæ¡¶é‡Œï¼Œå¦åˆ™å°±ä¸å­˜åœ¨ã€‚ç±»ä¼¼çš„å¯ä»¥æƒ³åˆ°ï¼Œå‡è®¾æˆ‘ä»¬çš„ `customer_info` æˆ‘ä»¬å¯ä»¥æŒ‰ç…§ç”¨æˆ· id å»åˆ†åº“åˆ†è¡¨ï¼Œå‡è®¾æ­¤æ—¶å­˜åœ¨æ°´å¹³çš„ä¸‰ä¸ªåº“è¡¨ï¼Œå¦‚ä¸‹ï¼Œæˆ‘ä»¬åˆ†åˆ«ç§°ä¹‹ä¸º èŠ‚ç‚¹ D1, èŠ‚ç‚¹ D2, èŠ‚ç‚¹ D0

| æœºå™¨ ip   | æ•°æ®åº“   | æ•°æ®è¡¨        |
| --------- | -------- | ------------- |
| 127.0.0.1 | customer | customer_info |
| 127.0.0.2 | customer | customer_info |
| 127.0.0.3 | customer | customer_info |

åˆ†åº“åˆ†è¡¨çš„æ—¶å€™ï¼Œç”¨æˆ· A çš„è®°å½•è½åœ¨äº† D1 æœºå™¨ï¼Œç”¨æˆ· B çš„è®°å½•è½åœ¨äº† D2 æœºå™¨ï¼Œç”¨æˆ· C çš„æœºå™¨è½åœ¨äº† D0 æœºå™¨ä¸Šï¼Œç”¨æˆ· A è¦å­˜åœ¨å“ªæ¡æ•°æ®åº“ä¸Šçš„è®¡ç®—è¿‡ç¨‹æ˜¯ç”¨æˆ· A çš„ä¼šå‘˜ id çš„å“ˆå¸Œå€¼å¯¹ 3 å–æ¨¡ï¼Œå› ä¸ºç°åœ¨åªæœ‰ 3 å°æœºå™¨ï¼Œä¼ªä»£ç : `A_id.hash() % / 3`ï¼Œç”¨æˆ· B å’Œç”¨æˆ· C ä¾æ¬¡ç±»æ¨ã€‚å¦‚ä¸‹å›¾æ‰€ç¤º

è¿™å¥½åƒå¾ˆæ–¹ä¾¿çš„è§£å†³äº†å­˜å–è§„åˆ™çš„é—®é¢˜ï¼Œæˆ‘ä»¬æ¥åˆ†æä¸€æ³¢:
å‡è®¾æˆ‘ä»¬çš„ç³»ç»Ÿç”¨æˆ·é‡åˆæ¿€å¢äº†ï¼Œæˆ‘ä»¬å°±éœ€è¦å†åŠ ä¸€äº›æœºå™¨ï¼Œæ­¤æ—¶æˆ‘ä»¬å†è®¡ç®—å“ˆå¸Œå€¼çš„æ—¶å€™ï¼Œå–æ¨¡ä¸å†æ˜¯å¯¹ 3 å–æ¨¡äº†ï¼Œè€Œæ˜¯å¯¹ 4 è¿›è¡Œå–æ¨¡äº†ï¼Œä¹‹å‰ `A_id.hash() % / 3 = 1`, è€Œç°åœ¨ `A_id.hash() % / 4 = ?` è¿™ä¸ªå€¼å¾ˆå¤§æ¦‚ç‡ä¸ä¼šæ˜¯ 1ï¼Œæ‰€ä»¥è¿™å°±ä¼šå‡ºç°ç”¨æˆ·æ˜æ˜å­˜åœ¨è®°å½•ä½†æ˜¯å´æŸ¥ä¸åˆ°çš„æƒ…å†µï¼Œè¿™å°±é—®é¢˜å¾ˆå¤§äº†ï¼Œå¦‚æœè¦è§£å†³è¿™ä¸ªé—®é¢˜åªèƒ½åœ¨æœºå™¨èŠ‚ç‚¹æ•°é‡å˜åŒ–çš„æ—¶å€™å¯¹æ•°æ®é‡æ–°å“ˆå¸Œï¼Œè¿™ä»£ä»·å°±æœ‰ç‚¹å¤§äº†ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬éœ€è¦æƒ³åŠæ³•è®©è¿™ç§æƒ…å†µä¸å‘ç”Ÿï¼Œè¿™ç§æƒ…å†µå‘ç”Ÿçš„æ ¹æœ¬æ˜¯å“ˆå¸Œç®—æ³•æœ¬èº«çš„ç‰¹æ€§å¯¼è‡´çš„ï¼Œç›´æ¥ä½¿ç”¨å–æ¨¡çš„è¯è¿™æ˜¯æ— æ³•é¿å…çš„ã€‚æ‰€ä»¥å°±æœ‰äº†ä¸€è‡´æ€§å“ˆå¸Œ



#### 2. ä¸€è‡´æ€§å“ˆå¸Œ

ä¸Šé¢é€šè¿‡æ•°æ®åº“çš„ä¾‹å­ä»‹ç»äº†å“ˆå¸Œç®—æ³•ï¼Œç„¶åä¹Ÿåˆ†æäº†å®ƒçš„åŠ£åŠ¿ï¼Œå½“æœºå™¨æ•°é‡å‘ç”Ÿå˜åŠ¨çš„æ—¶å€™ï¼Œå‡ ä¹æ‰€æœ‰çš„æ•°æ®éƒ½ä¼šç§»åŠ¨ (ä¸ç§»åŠ¨çš„åº”è¯¥æ˜¯è¿æ°”æ¯”è¾ƒå¥½å§å‰åå–æ¨¡éƒ½æ˜¯åŒä¸€ä¸ªå€¼)ï¼Œè¿™ä¸ªä»£ä»·å¾ˆå¤§ã€‚æ­¤æ—¶çš„é—®é¢˜ä»æ°´å¹³å¦‚ä½•æ‹†åˆ†å˜æˆäº†ï¼Œå½“å¢åŠ æˆ–è€…åˆ é™¤èŠ‚ç‚¹æ—¶ï¼Œå¯¹äºå¤§å¤šæ•°è®°å½•ï¼Œä¿è¯åŸæ¥åˆ†é…åˆ°çš„æŸä¸ªèŠ‚ç‚¹ï¼Œç°åœ¨ä»ç„¶åº”è¯¥åˆ†é…åˆ°é‚£ä¸ªèŠ‚ç‚¹ï¼Œå°†æ•°æ®è¿ç§»é‡çš„é™åˆ°æœ€ä½ï¼Œè¿™å°±æ˜¯ä¸€è‡´æ€§å“ˆå¸Œè¦åšçš„äº‹æƒ…ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬ä¸æŒ‡å®šæ˜¯æ•°æ®åº“è¿˜æ˜¯ä»€ä¹ˆï¼Œåæ­£éƒ½æ˜¯åˆ†å¸ƒå¼å­˜å‚¨èŠ‚ç‚¹ã€‚

##### 2.1 ä¸€è‡´æ€§å“ˆå¸Œ

ä¸€è‡´æ€§ [Hash](https://so.csdn.net/so/search?q=Hash&spm=1001.2101.3001.7020) ç®—æ³•ä¹Ÿæ˜¯ä½¿ç”¨å–æ¨¡çš„æ€æƒ³ï¼Œåªæ˜¯ï¼Œåˆšæ‰æè¿°çš„å–æ¨¡æ³•æ˜¯å¯¹èŠ‚ç‚¹æ•°é‡è¿›è¡Œå–æ¨¡ï¼Œè€Œä¸€è‡´æ€§ Hash ç®—æ³•æ˜¯å¯¹ `2^32` å–æ¨¡ï¼Œä»€ä¹ˆæ„æ€å‘¢ï¼Ÿç®€å•æ¥è¯´ï¼Œä¸€è‡´æ€§ Hash ç®—æ³•å°†æ•´ä¸ªå“ˆå¸Œå€¼ç©ºé—´ç»„ç»‡æˆä¸€ä¸ªè™šæ‹Ÿçš„åœ†ç¯ï¼Œå¦‚å‡è®¾æŸå“ˆå¸Œå‡½æ•° H çš„å€¼ç©ºé—´ä¸º 0-2^32-1ï¼ˆå³å“ˆå¸Œå€¼æ˜¯ä¸€ä¸ª 32 ä½æ— ç¬¦å·æ•´å½¢ï¼‰ï¼Œæ•´ä¸ªå“ˆå¸Œç¯å¦‚ä¸‹ï¼Œä» 0 ~ 2^32-1 ä»£è¡¨çš„åˆ†åˆ«æ˜¯ä¸€ä¸ªä¸ªçš„èŠ‚ç‚¹ï¼Œè¿™ä¸ªç¯ä¹Ÿå«å“ˆå¸Œç¯

![image-20220525095414618](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220525095414618.png)





ç„¶åæˆ‘ä»¬å°†æˆ‘ä»¬çš„èŠ‚ç‚¹è¿›è¡Œä¸€æ¬¡å“ˆå¸Œï¼ŒæŒ‰ç…§ä¸€å®šçš„è§„åˆ™ï¼Œæ¯”å¦‚æŒ‰ç…§ ip åœ°å€çš„å“ˆå¸Œå€¼ï¼Œè®©èŠ‚ç‚¹è½åœ¨å“ˆå¸Œç¯ä¸Šã€‚æ¯”å¦‚æ­¤æ—¶æˆ‘ä»¬å¯èƒ½å¾—åˆ°äº†å¦‚ä¸‹å›¾çš„ç¯:

![image-20220525095619170](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220525095619170.png)



ç„¶åå°±æ˜¯éœ€è¦é€šè¿‡æ•°æ® key æ‰¾åˆ°å¯¹åº”çš„æœåŠ¡å™¨ç„¶åå­˜å‚¨äº†ï¼Œæˆ‘ä»¬çº¦å®šï¼Œé€šè¿‡æ•°æ® key çš„å“ˆå¸Œå€¼è½åœ¨å“ˆå¸Œç¯ä¸Šçš„èŠ‚ç‚¹ï¼Œå¦‚æœå‘½ä¸­äº†æœºå™¨èŠ‚ç‚¹å°±è½åœ¨è¿™ä¸ªæœºå™¨ä¸Šï¼Œå¦åˆ™è½åœ¨é¡ºæ—¶é’ˆç›´åˆ°ç¢°åˆ°ç¬¬ä¸€ä¸ªæœºå™¨ã€‚å¦‚ä¸‹å›¾æ‰€ç¤º : A çš„å“ˆå¸Œå€¼è½åœ¨äº† D2 èŠ‚ç‚¹çš„å‰é¢ï¼Œå¾€ä¸‹æ‰¾è½åœ¨äº† D2 æœºå™¨ä¸Šï¼ŒD çš„å“ˆå¸Œå€¼ åœ¨ D1 èŠ‚ç‚¹çš„å‰é¢ï¼Œå¾€ä¸‹æ‰¾åˆ°äº† D1 æœºå™¨ï¼ŒB çš„å“ˆå¸Œå€¼åˆšå¥½è½åœ¨äº† D1 èŠ‚ç‚¹ä¸Šï¼Œä¾æ¬¡ï½ï½ï½

![image-20220525095654267](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220525095654267.png)



##### 2.2 ä¸€è‡´æ€§å“ˆå¸Œçš„åˆ†æ

ä¸€è‡´æ€§å“ˆå¸Œä¸»è¦å°±æ˜¯è§£å†³å½“æœºå™¨å‡å°‘æˆ–å¢åŠ çš„æ—¶å€™ï¼Œå¤§é¢ç§¯çš„æ•°æ®é‡æ–°å“ˆå¸Œçš„é—®é¢˜ï¼Œä¸»è¦ä»ä¸‹é¢ 2 ä¸ªæ–¹å‘å»è€ƒè™‘çš„ï¼Œå½“èŠ‚ç‚¹å®•æœºæ—¶ï¼Œæ•°æ®è®°å½•ä¼šè¢«å®šä½åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ä¸Šï¼Œå½“æ–°å¢èŠ‚ç‚¹çš„æ—¶å€™ ï¼Œç›¸å…³åŒºé—´å†…çš„æ•°æ®è®°å½•å°±éœ€è¦é‡æ–°å“ˆå¸Œã€‚

###### 2.2.1 æŸèŠ‚ç‚¹å®•æœº

æˆ‘ä»¬å‡è®¾ä¸Šå›¾ä¸­çš„ èŠ‚ç‚¹ D2 å› ä¸ºä¸€äº›åŸå› å®•æœºäº†ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œåªæœ‰æ•°æ® A çš„è®°å½•éœ€è¦é‡æ–°é‡æ–°å®šä½å­˜å‚¨åˆ°èŠ‚ç‚¹ D1 ä¸Šï¼Œå› ä¸º D1 æ˜¯ D2 çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå…¶å®ƒçš„æ•°æ®éƒ½æ²¡æœ‰è¢«å½±å“åˆ°ï¼Œæ­¤æ—¶è¢«å½±å“çš„ä»…ä»…æ˜¯ å›¾ä¸­çš„ D0-D2 è¿™æ®µåŒºé—´çš„è®°å½•ï¼Œä¹Ÿå°±æ˜¯ä¹‹å‰è½åœ¨ D2 ä¸Šçš„æ•°æ®ç°åœ¨éƒ½è¦è½åˆ° D1 ä¸Šé¢äº†ã€‚å¦‚ä¸‹å›¾

![image-20220525095734649](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220525095734649.png)



###### 2.2.2 æ–°å¢èŠ‚ç‚¹

æˆ‘ä»¬å‡è®¾æˆ‘ä»¬éœ€è¦å¢åŠ ä¸€å°æœºå™¨ï¼Œä¹Ÿå°±æ˜¯å¢åŠ ä¸€ä¸ªèŠ‚ç‚¹ D4ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¿™ä¸ªèŠ‚ç‚¹è½åœ¨ D2-D1 ä¹‹é—´ï¼ŒæŒ‰ç…§ä¸Šè¿°çš„å“ˆå¸Œç¯ä¸Šçš„å“ˆå¸Œå€¼è½åœ¨èŠ‚ç‚¹çš„è§„åˆ™ï¼Œé‚£ä¹ˆæ­¤æ—¶ä¹‹å‰è½åœ¨ D2 åˆ° D4 ä¹‹é—´çš„æ•°æ®éƒ½éœ€è¦é‡æ–°å®šä½åˆ°æ–°çš„èŠ‚ç‚¹ä¸Šé¢äº†ï¼Œè€Œå…¶å®ƒä½ç½®çš„æ•°æ®æ˜¯ä¸éœ€è¦æœ‰æ”¹å˜çš„ã€‚



![image-20220525095753948](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220525095753948.png)



##### 2.3 ä¸€è‡´æ€§å“ˆå¸Œçš„æ•°æ®å€¾æ–œé—®é¢˜

ä¸€è‡´æ€§ Hash ç®—æ³•åœ¨æœåŠ¡èŠ‚ç‚¹å¤ªå°‘æ—¶ï¼Œå®¹æ˜“å› ä¸ºèŠ‚ç‚¹åˆ†éƒ¨ä¸å‡åŒ€è€Œé€ æˆæ•°æ®å€¾æ–œï¼ˆè¢«ç¼“å­˜çš„å¯¹è±¡å¤§éƒ¨åˆ†é›†ä¸­ç¼“å­˜åœ¨æŸä¸€å°æœåŠ¡å™¨ä¸Šï¼‰é—®é¢˜ã€‚æ¯”å¦‚åªæœ‰ 2 å°æœºå™¨ï¼Œè¿™ 2 å°æœºå™¨ç¦»çš„å¾ˆè¿‘ï¼Œé‚£ä¹ˆé¡ºæ—¶é’ˆç¬¬ä¸€ä¸ªæœºå™¨èŠ‚ç‚¹ä¸Šå°†å­˜åœ¨å¤§é‡çš„æ•°æ®ï¼Œç¬¬äºŒä¸ªæœºå™¨èŠ‚ç‚¹ä¸Šæ•°æ®ä¼šå¾ˆå°‘ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒD0 æœºå™¨æ‰¿è½½äº†ç»å¤§å¤šæ•°çš„æ•°æ®

##### 2.3 ä¸€è‡´æ€§å“ˆå¸Œçš„æ•°æ®å€¾æ–œé—®é¢˜

ä¸€è‡´æ€§ Hash ç®—æ³•åœ¨æœåŠ¡èŠ‚ç‚¹å¤ªå°‘æ—¶ï¼Œå®¹æ˜“å› ä¸ºèŠ‚ç‚¹åˆ†éƒ¨ä¸å‡åŒ€è€Œé€ æˆæ•°æ®å€¾æ–œï¼ˆè¢«ç¼“å­˜çš„å¯¹è±¡å¤§éƒ¨åˆ†é›†ä¸­ç¼“å­˜åœ¨æŸä¸€å°æœåŠ¡å™¨ä¸Šï¼‰é—®é¢˜ã€‚æ¯”å¦‚åªæœ‰ 2 å°æœºå™¨ï¼Œè¿™ 2 å°æœºå™¨ç¦»çš„å¾ˆè¿‘ï¼Œé‚£ä¹ˆé¡ºæ—¶é’ˆç¬¬ä¸€ä¸ªæœºå™¨èŠ‚ç‚¹ä¸Šå°†å­˜åœ¨å¤§é‡çš„æ•°æ®ï¼Œç¬¬äºŒä¸ªæœºå™¨èŠ‚ç‚¹ä¸Šæ•°æ®ä¼šå¾ˆå°‘ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼ŒD0 æœºå™¨æ‰¿è½½äº†ç»å¤§å¤šæ•°çš„æ•°æ®

##### 2.4 è™šæ‹ŸèŠ‚ç‚¹è§£å†³æ•°æ®å€¾æ–œé—®é¢˜

ä¸ºäº†é¿å…å‡ºç°æ•°æ®å€¾æ–œé—®é¢˜ï¼Œä¸€è‡´æ€§ Hash ç®—æ³•å¼•å…¥äº†è™šæ‹ŸèŠ‚ç‚¹çš„æœºåˆ¶ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªæœºå™¨èŠ‚ç‚¹ä¼šè¿›è¡Œå¤šæ¬¡å“ˆå¸Œï¼Œæœ€ç»ˆæ¯ä¸ªæœºå™¨èŠ‚ç‚¹åœ¨å“ˆå¸Œç¯ä¸Šä¼šæœ‰å¤šä¸ªè™šæ‹ŸèŠ‚ç‚¹å­˜åœ¨ï¼Œä½¿ç”¨è¿™ç§æ–¹å¼æ¥å¤§å¤§å‰Šå¼±ç”šè‡³é¿å…æ•°æ®å€¾æ–œé—®é¢˜ã€‚åŒæ—¶æ•°æ®å®šä½ç®—æ³•ä¸å˜ï¼Œåªæ˜¯å¤šäº†ä¸€æ­¥è™šæ‹ŸèŠ‚ç‚¹åˆ°å®é™…èŠ‚ç‚¹çš„æ˜ å°„ï¼Œä¾‹å¦‚å®šä½åˆ° â€œD1#1â€ã€â€œD1#2â€ã€â€œD1#3â€ ä¸‰ä¸ªè™šæ‹ŸèŠ‚ç‚¹çš„æ•°æ®å‡å®šä½åˆ° D1 ä¸Šã€‚è¿™æ ·å°±è§£å†³äº†æœåŠ¡èŠ‚ç‚¹å°‘æ—¶æ•°æ®å€¾æ–œçš„é—®é¢˜ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œé€šå¸¸å°†è™šæ‹ŸèŠ‚ç‚¹æ•°è®¾ç½®ä¸º 32 ç”šè‡³æ›´å¤§ï¼Œå› æ­¤å³ä½¿å¾ˆå°‘çš„æœåŠ¡èŠ‚ç‚¹ä¹Ÿèƒ½åšåˆ°ç›¸å¯¹å‡åŒ€çš„æ•°æ®åˆ†å¸ƒã€‚è¿™ä¹Ÿæ˜¯ Dubbo è´Ÿè½½å‡è¡¡ä¸­æœ‰ä¸€ç§ä¸€è‡´æ€§å“ˆå¸Œè´Ÿè½½å‡è¡¡çš„å®ç°æ€æƒ³ã€‚



![image-20220525095924256](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220525095924256.png)

##### .5 ä¸€è‡´æ€§å“ˆå¸Œçš„åº”ç”¨æ¡ˆä¾‹

ä¸€è‡´æ€§å“ˆå¸Œç”¨åˆ°çš„åœ°æ–¹å¾ˆå¤šï¼Œç‰¹åˆ«æ˜¯ä¸­é—´ä»¶é‡Œé¢ï¼Œæ¯”å¦‚ Dubbo çš„è´Ÿè½½å‡è¡¡ä¹Ÿæœ‰ä¸€ç§ç­–ç•¥æ˜¯ä¸€è‡´æ€§å“ˆå¸Œç­–ç•¥ï¼Œä½¿ç”¨çš„å°±æ˜¯è™šæ‹ŸèŠ‚ç‚¹å®ç°çš„ã€‚Redis é›†ç¾¤ä¸­ä¹Ÿç”¨åˆ°äº†ç›¸å…³æ€æƒ³ä½†æ˜¯æ²¡æœ‰ç”¨å®ƒè€Œæ˜¯æ ¹æ®å®é™…æƒ…å†µæ”¹è¿›äº†ä¸€ä¸‹ã€‚è€Œå¯¹äºå­˜å‚¨æ•°æ®çš„èŠ‚ç‚¹æ°´å¹³åˆ‡åˆ†çš„æ—¶å€™å®ƒçš„ä½œç”¨å°±æ›´ä¸å¯ä»£æ›¿äº†ã€‚and so onãƒ»ãƒ»ãƒ»

#### 3. Redis é›†ç¾¤åˆ†æ§½çš„å®ç°

Redis é›†ç¾¤å¹¶æ²¡æœ‰ç›´æ¥ä½¿ç”¨ä¸€è‡´æ€§å“ˆå¸Œï¼Œè€Œæ˜¯ä½¿ç”¨äº†å“ˆå¸Œæ§½ `ï¼ˆslotï¼‰` çš„æ¦‚å¿µï¼ŒRedis æ²¡æœ‰ç›´æ¥ä½¿ç”¨å“ˆå¸Œç®—æ³• hash ()ï¼Œè€Œæ˜¯ä½¿ç”¨äº† `crc16` æ ¡éªŒç®—æ³•ã€‚æ§½ä½å…¶å®å°±æ˜¯ä¸€ä¸ªä¸ªçš„ç©ºé—´çš„å•ä½ã€‚å…¶å®å“ˆå¸Œæ§½çš„æœ¬è´¨å’Œä¸€è‡´æ€§å“ˆå¸Œç®—æ³•éå¸¸ç›¸ä¼¼ï¼Œä¸åŒç‚¹å°±æ˜¯å¯¹äºå“ˆå¸Œç©ºé—´çš„å®šä¹‰ã€‚ä¸€è‡´æ€§å“ˆå¸Œçš„ç©ºé—´æ˜¯ä¸€ä¸ªåœ†ç¯ï¼ŒèŠ‚ç‚¹åˆ†å¸ƒæ˜¯åŸºäºåœ†ç¯çš„ï¼Œæ— æ³•å¾ˆå¥½çš„æ§åˆ¶æ•°æ®åˆ†å¸ƒï¼Œå¯èƒ½ä¼šäº§ç”Ÿæ•°æ®å€¾æ–œé—®é¢˜ã€‚è€Œ Redis çš„æ§½ä½ç©ºé—´æ˜¯è‡ªå®šä¹‰åˆ†é…çš„ï¼Œç±»ä¼¼äº Windows ç›˜åˆ†åŒºçš„æ¦‚å¿µã€‚è¿™ç§åˆ†åŒºæ˜¯å¯ä»¥è‡ªå®šä¹‰å¤§å°ï¼Œè‡ªå®šä¹‰ä½ç½®çš„ã€‚Redis é›†ç¾¤åŒ…å«äº† `16384` ä¸ªå“ˆå¸Œæ§½ï¼Œæ¯ä¸ª Key ç»è¿‡è®¡ç®—åä¼šè½åœ¨ä¸€ä¸ªå…·ä½“çš„æ§½ä½ä¸Šï¼Œè€Œæ§½ä½å…·ä½“åœ¨å“ªä¸ªæœºå™¨ä¸Šæ˜¯ç”¨æˆ·è‡ªå·±æ ¹æ®è‡ªå·±æœºå™¨çš„æƒ…å†µé…ç½®çš„ï¼Œæœºå™¨ç¡¬ç›˜å°çš„å¯ä»¥åˆ†é…å°‘ä¸€ç‚¹æ§½ä½ï¼Œç¡¬ç›˜å¤§çš„å¯ä»¥åˆ†é…å¤šä¸€ç‚¹ã€‚å¦‚æœèŠ‚ç‚¹ç¡¬ç›˜éƒ½å·®ä¸å¤šåˆ™å¯ä»¥å¹³å‡åˆ†é…ã€‚æ‰€ä»¥å“ˆå¸Œæ§½è¿™ç§æ¦‚å¿µå¾ˆå¥½åœ°è§£å†³äº†ä¸€è‡´æ€§å“ˆå¸Œçš„å¼Šç«¯ã€‚
å¦å¤–åœ¨å®¹é”™æ€§å’Œæ‰©å±•æ€§ä¸Šä¸ä¸€è‡´æ€§å“ˆå¸Œä¸€æ ·ï¼Œéƒ½æ˜¯å¯¹å—å½±å“çš„æ•°æ®è¿›è¡Œè½¬ç§»è€Œä¸å½±å“å…¶å®ƒçš„æ•°æ®ã€‚è€Œå“ˆå¸Œæ§½æœ¬è´¨ä¸Šæ˜¯å¯¹æ§½ä½çš„è½¬ç§»ï¼ŒæŠŠæ•…éšœèŠ‚ç‚¹è´Ÿè´£çš„æ§½ä½è½¬ç§»åˆ°å…¶ä»–æ­£å¸¸çš„èŠ‚ç‚¹ä¸Šã€‚æ‰©å±•èŠ‚ç‚¹ä¹Ÿæ˜¯ä¸€æ ·ï¼ŒæŠŠå…¶ä»–èŠ‚ç‚¹ä¸Šçš„æ§½ä½è½¬ç§»åˆ°æ–°çš„èŠ‚ç‚¹ä¸Šã€‚

> éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¯¹äºæ§½ä½çš„è½¬ç§»å’Œåˆ†æ´¾ï¼ŒRedis é›†ç¾¤æ˜¯ä¸ä¼šè‡ªåŠ¨è¿›è¡Œçš„ï¼Œè€Œæ˜¯éœ€è¦äººå·¥é…ç½®çš„ã€‚æ‰€ä»¥ Redis é›†ç¾¤çš„é«˜å¯ç”¨æ˜¯ä¾èµ–äºèŠ‚ç‚¹çš„ä¸»ä»å¤åˆ¶ä¸ä¸»ä»é—´çš„è‡ªåŠ¨æ•…éšœè½¬ç§»ã€‚

https://blog.csdn.net/qq_33945246/article/details/105113417



## crc16

CRCå³å¾ªç¯å†—ä½™æ ¡éªŒç ï¼ˆCyclic Redundancy Checkï¼‰ï¼Œæ˜¯æ•°æ®é€šä¿¡é¢†åŸŸä¸­æœ€å¸¸ç”¨çš„ä¸€ç§æŸ¥é”™æ ¡éªŒç ã€‚å¥‡å¶æ ¡éªŒè™½ç„¶ç®€å•ï¼Œä½†æ˜¯æ¼æ£€ç‡å¤ªé«˜ï¼Œè€ŒCRCåˆ™è¦ä½çš„å¤šï¼Œæ‰€ä»¥å¤§å¤šæ•°éƒ½æ˜¯ä½¿ç”¨CRCæ¥æ ¡éªŒã€‚CRCä¹Ÿç§°ä¸ºå¤šé¡¹å¼ç ã€‚

ä»»ä½•ä¸€ä¸ªç”±äºŒè¿›åˆ¶æ•°ä½ä¸²ç»„æˆçš„ä»£ç ï¼Œéƒ½å¯ä»¥å”¯ä¸€çš„ä¸ä¸€ä¸ªåªå«æœ‰0å’Œ1ä¸¤ä¸ªç³»æ•°çš„å¤šé¡¹å¼å»ºç«‹ä¸€ä¸€å¯¹åº”çš„å…³ç³»ã€‚å¦‚ï¼š1010111å¯¹åº”çš„å¤šé¡¹å¼ä¸ºX^6 + X^4 + X^2 + X + 1ã€‚

CRCç æ˜¯åˆ©ç”¨äº‹å…ˆçº¦å®šå¥½çš„å¤šé¡¹å¼G(x)æ¥å¾—åˆ°çš„ã€‚kä½è¦å‘é€çš„ä¿¡æ¯ä½å¯å¯¹åº”äºä¸€ä¸ªï¼ˆk - 1ï¼‰æ¬¡å¤šé¡¹å¼K(x)ï¼Œrä½å†—ä½™ä½åˆ™å¯¹åº”äºä¸€ä¸ªï¼ˆr - 1ï¼‰æ¬¡å¤šé¡¹å¼R(x)ã€‚kä½ä¿¡æ¯ä½å’Œrä½å†—ä½™ä½ç»„æˆçš„ç å­—å¤šé¡¹å¼ä¸ºT(x) = x^r * K(x) + R(x)ã€‚å› ä¸ºè¡¥ä¸Šäº†rä½å†—ä½™ä¸ºï¼Œæ‰€ä»¥K(x)è¦ä¹˜ä»¥x^rã€‚

ç”±ä¿¡æ¯ä½äº§ç”Ÿå†—ä½™ä½çš„ç¼–ç è¿‡ç¨‹ï¼Œå³å·²çŸ¥K(x)æ±‚R(x)çš„è¿‡ç¨‹ã€‚é€šè¿‡çº¦å®šå¥½çš„ræ¬¡å¤šé¡¹å¼G(x)ï¼Œæœ€é«˜é¡¹X^rçš„ç³»æ•°æ’å®šä¸º1ï¼Œå³r bitä¸º1ã€‚ç„¶åç”¨X^r * K(x) å»é™¤ä»¥G(x)ï¼Œå¾—åˆ°çš„ä½™å¼å°±æ˜¯R(x)ã€‚é™¤æ³•æ˜¯æ¨¡2é™¤æ³•ï¼Œå³ä½¿ç”¨å¼‚æˆ–è¿ç®—ã€‚å½“è¢«é™¤æ•°é€ä½é™¤å®Œæ—¶ï¼Œæœ€åå¾—åˆ°çš„æ¯”é™¤æ•°å°‘ä¸€ä½çš„ä½™æ•°ï¼Œæ­¤ä½™æ•°å³ä¸ºå†—ä½™ä½ã€‚å°†å…¶æ·»åŠ åœ¨ä¿¡æ¯ä½åé¢ã€‚

è¿™é‡Œä»¥K(x) = x^6 + x^4 + x^3 + 1ä¸ºä¾‹ï¼ˆä¿¡æ¯ä½å³ä¸º1011001ï¼‰ï¼Œè®¾G(x) = x^4 + x^3 + 1ï¼ˆ11001ï¼‰ï¼Œåˆ™r = 4ï¼Œx^4 * K(x) ï¼ˆå³ä½ä½è¡¥rä¸ª0ï¼š10110010000ï¼‰ã€‚

![image-20220525231818845](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220525231818845.png)

https://baijiahao.baidu.com/s?id=1725614586582847515&wfr=spider&for=pc



## [ç¼“å­˜ç®—æ³•ï¼ˆé¡µé¢ç½®æ¢ç®—æ³•ï¼‰-FIFOã€LFUã€LRU ](https://www.cnblogs.com/dolphin0520/p/3749259.html)

**FIFO**ï¼ˆFirst in First outï¼‰ï¼Œå…ˆè¿›å…ˆå‡ºã€‚åˆ©ç”¨ä¸€ä¸ªåŒå‘é“¾è¡¨ä¿å­˜æ•°æ®ï¼Œå½“æ¥äº†æ–°çš„æ•°æ®ä¹‹åä¾¿æ·»åŠ åˆ°é“¾è¡¨æœ«å°¾ï¼Œå¦‚æœCacheå­˜æ»¡æ•°æ®ï¼Œåˆ™æŠŠé“¾è¡¨å¤´éƒ¨æ•°æ®åˆ é™¤ï¼Œç„¶åæŠŠæ–°çš„æ•°æ®æ·»åŠ åˆ°é“¾è¡¨æœ«å°¾ã€‚åœ¨è®¿é—®æ•°æ®çš„æ—¶å€™ï¼Œå¦‚æœåœ¨Cacheä¸­å­˜åœ¨è¯¥æ•°æ®çš„è¯ï¼Œåˆ™è¿”å›å¯¹åº”çš„valueå€¼ï¼›å¦åˆ™è¿”å›-1ã€‚å¦‚æœæƒ³æé«˜è®¿é—®æ•ˆç‡ï¼Œå¯ä»¥åˆ©ç”¨hashmapæ¥ä¿å­˜æ¯ä¸ªkeyåœ¨é“¾è¡¨ä¸­å¯¹åº”çš„ä½ç½®ã€‚

**LFU**ï¼ˆLeast Frequently Usedï¼‰æœ€ä¸ç»å¸¸ä½¿ç”¨(æœ€å°‘æ¬¡)æ·˜æ±°ç®—æ³•ã€‚å®ƒæ˜¯åŸºäºâ€œå¦‚æœä¸€ä¸ªæ•°æ®åœ¨æœ€è¿‘ä¸€æ®µæ—¶é—´å†…ä½¿ç”¨æ¬¡æ•°å¾ˆå°‘ï¼Œé‚£ä¹ˆåœ¨å°†æ¥ä¸€æ®µæ—¶é—´å†…è¢«ä½¿ç”¨çš„å¯èƒ½æ€§ä¹Ÿå¾ˆå°â€çš„æ€è·¯ã€‚æ³¨æ„LFUå’ŒLRUç®—æ³•çš„ä¸åŒä¹‹å¤„ï¼ŒLRUçš„æ·˜æ±°è§„åˆ™æ˜¯åŸºäºè®¿é—®æ—¶é—´ï¼Œè€ŒLFUæ˜¯åŸºäºè®¿é—®æ¬¡æ•°çš„ã€‚ä¸ºäº†èƒ½å¤Ÿæ·˜æ±°æœ€å°‘ä½¿ç”¨çš„æ•°æ®ï¼Œå› æ­¤LFUç®—æ³•æœ€ç®€å•çš„ä¸€ç§è®¾è®¡æ€è·¯å°±æ˜¯ åˆ©ç”¨ä¸€ä¸ªæ•°ç»„å­˜å‚¨ æ•°æ®é¡¹ï¼Œç”¨hashmapå­˜å‚¨æ¯ä¸ªæ•°æ®é¡¹åœ¨æ•°ç»„ä¸­å¯¹åº”çš„ä½ç½®ï¼Œç„¶åä¸ºæ¯ä¸ªæ•°æ®é¡¹è®¾è®¡ä¸€ä¸ªè®¿é—®é¢‘æ¬¡ï¼Œå½“æ•°æ®é¡¹è¢«å‘½ä¸­æ—¶ï¼Œè®¿é—®é¢‘æ¬¡è‡ªå¢ï¼Œåœ¨æ·˜æ±°çš„æ—¶å€™æ·˜æ±°è®¿é—®é¢‘æ¬¡æœ€å°‘çš„æ•°æ®ã€‚è¿™æ ·ä¸€æ¥çš„è¯ï¼Œåœ¨æ’å…¥æ•°æ®å’Œè®¿é—®æ•°æ®çš„æ—¶å€™éƒ½èƒ½è¾¾åˆ°O(1)çš„æ—¶é—´å¤æ‚åº¦ï¼Œåœ¨æ·˜æ±°æ•°æ®çš„æ—¶å€™ï¼Œé€šè¿‡é€‰æ‹©ç®—æ³•å¾—åˆ°åº”è¯¥æ·˜æ±°çš„æ•°æ®é¡¹åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ï¼Œå¹¶å°†è¯¥ç´¢å¼•ä½ç½®çš„å†…å®¹æ›¿æ¢ä¸ºæ–°æ¥çš„æ•°æ®å†…å®¹å³å¯ï¼Œè¿™æ ·çš„è¯ï¼Œæ·˜æ±°æ•°æ®çš„æ“ä½œæ—¶é—´å¤æ‚åº¦ä¸ºO(n)ã€‚å¦å¤–è¿˜æœ‰ä¸€ç§å®ç°æ€è·¯å°±æ˜¯åˆ©ç”¨ å°é¡¶å †+hashmapï¼Œå°é¡¶å †æ’å…¥ã€åˆ é™¤æ“ä½œéƒ½èƒ½è¾¾åˆ°O(logn)æ—¶é—´å¤æ‚åº¦ï¼Œå› æ­¤æ•ˆç‡ç›¸æ¯”ç¬¬ä¸€ç§å®ç°æ–¹æ³•æ›´åŠ é«˜æ•ˆã€‚

**LRU** æ˜¯ï¼ˆ Least Recently Usedï¼‰ æœ€è¿‘æœ€å°‘ä½¿ç”¨çš„ç¼©å†™ï¼Œè¿™ç§ç®—æ³•è®¤ä¸ºæœ€è¿‘ä½¿ç”¨çš„æ•°æ®æ˜¯çƒ­é—¨æ•°æ®ï¼Œä¸‹ä¸€æ¬¡å¾ˆå¤§æ¦‚ç‡å°†ä¼šå†æ¬¡è¢«ä½¿ç”¨ã€‚è€Œæœ€è¿‘å¾ˆå°‘è¢«ä½¿ç”¨çš„æ•°æ®ï¼Œå¾ˆå¤§æ¦‚ç‡ä¸‹ä¸€æ¬¡ä¸å†ç”¨åˆ°ã€‚å½“ç¼“å­˜å®¹é‡çš„æ»¡æ—¶å€™ï¼Œä¼˜å…ˆæ·˜æ±°æœ€è¿‘å¾ˆå°‘ä½¿ç”¨çš„æ•°æ®ã€‚å…¶åœ¨Redisã€Guavaç­‰å·¥å…·ä¸­ä¹Ÿæœ‰éå¸¸å¹¿æ³›çš„åº”ç”¨ï¼Œç”šè‡³æ˜¯æœ€æ ¸å¿ƒçš„æ€æƒ³ä¹‹ä¸€ã€‚

æ‰€ä»¥ï¼ŒLRU ç®—æ³•å…·ä½“æ­¥éª¤ï¼š

- æ–°æ•°æ®ç›´æ¥æ’å…¥åˆ°åˆ—è¡¨å¤´éƒ¨
- ç¼“å­˜æ•°æ®è¢«å‘½ä¸­ï¼Œå°†æ•°æ®ç§»åŠ¨åˆ°åˆ—è¡¨å¤´éƒ¨
- ç¼“å­˜å·²æ»¡çš„æ—¶å€™ï¼Œç§»é™¤åˆ—è¡¨å°¾éƒ¨æ•°æ®ã€‚

`LRU`ä½¿ç”¨åŒå‘é“¾è¡¨åŠ æ•£åˆ—è¡¨ï¼ˆå“ˆå¸Œè¡¨ï¼‰ç»“åˆä½“ï¼Œæ•°æ®ç»“æ„å¦‚å›¾æ‰€ç¤º:

![image-20220526084931137](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220526084931137.png)

åœ¨åŒå‘é“¾è¡¨ä¸­ç‰¹æ„å¢åŠ ä¸¤ä¸ªã€å“¨å…µã€èŠ‚ç‚¹ï¼Œä¸ç”¨æ¥å­˜å‚¨ä»»ä½•æ•°æ®ã€‚ä½¿ç”¨å“¨å…µèŠ‚ç‚¹ï¼Œå¢åŠ /åˆ é™¤èŠ‚ç‚¹çš„æ—¶å€™å°±å¯ä»¥ä¸ç”¨è€ƒè™‘è¾¹ç•ŒèŠ‚ç‚¹ä¸å­˜åœ¨æƒ…å†µï¼Œç®€åŒ–ç¼–ç¨‹éš¾åº¦ï¼Œé™ä½ä»£ç å¤æ‚åº¦ã€‚

```
public class LRUCache {
    Entry head, tail;
    int capacity;
    int size;
    Map<Integer, Entry> cache;
    
    public LRUCache(int capacity) {
        this.capacity = capacity;
        // åˆå§‹åŒ–é“¾è¡¨
        initLinkedList();
        size = 0;
        cache = new HashMap<>(capacity + 2);
    }

    /**
     * å¦‚æœèŠ‚ç‚¹ä¸å­˜åœ¨ï¼Œè¿”å› -1.å¦‚æœå­˜åœ¨ï¼Œå°†èŠ‚ç‚¹ç§»åŠ¨åˆ°å¤´ç»“ç‚¹ï¼Œå¹¶è¿”å›èŠ‚ç‚¹çš„æ•°æ®ã€‚
     */
    public int get(int key) {
        Entry node = cache.get(key);
        if (node == null) {
            return -1;
        }
        // å­˜åœ¨ç§»åŠ¨èŠ‚ç‚¹
        moveToHead(node);
        return node.value;
    }

    /**
     * å°†èŠ‚ç‚¹åŠ å…¥åˆ°å¤´ç»“ç‚¹ï¼Œå¦‚æœå®¹é‡å·²æ»¡ï¼Œå°†ä¼šåˆ é™¤å°¾ç»“ç‚¹
     */
    public void put(int key, int value) {
        Entry node = cache.get(key);
        if (node != null) {
            node.value = value;
            moveToHead(node);
            return;
        }
        // ä¸å­˜åœ¨ã€‚å…ˆåŠ è¿›å»ï¼Œå†ç§»é™¤å°¾ç»“ç‚¹
        // æ­¤æ—¶å®¹é‡å·²æ»¡ åˆ é™¤å°¾ç»“ç‚¹
        if (size == capacity) {
            Entry lastNode = tail.pre;
            deleteNode(lastNode);
            cache.remove(lastNode.key);
            size--;
        }
        // åŠ å…¥å¤´ç»“ç‚¹
        Entry newNode = new Entry();
        newNode.key = key;
        newNode.value = value;
        addNode(newNode);
        cache.put(key, newNode);
        size++;
    }

    private void moveToHead(Entry node) {
        // é¦–å…ˆåˆ é™¤åŸæ¥èŠ‚ç‚¹çš„å…³ç³»
        deleteNode(node);
        addNode(node);
    }

    private void addNode(Entry node) {
        head.next.pre = node;
        node.next = head.next;

        node.pre = head;
        head.next = node;
    }

    private void deleteNode(Entry node) {
        node.pre.next = node.next;
        node.next.pre = node.pre;
    }

    public static class Entry {
        public Entry pre;
        public Entry next;
        public int key;
        public int value;

        public Entry(int key, int value) {
            this.key = key;
            this.value = value;
        }

        public Entry() {
        }
    }

    private void initLinkedList() {
        head = new Entry();
        tail = new Entry();

        head.next = tail;
        tail.pre = head;
    }

    public static void main(String[] args) {
        LRUCache cache = new LRUCache(2);
        cache.put(1, 1);
        cache.put(2, 2);
        System.out.println(cache.get(1));
        cache.put(3, 3);
        System.out.println(cache.get(2));
    }
}

```

### LRU ç®—æ³•æ”¹è¿›

ä¸Šé¢çš„LRUç®—æ³•è¿˜æœ‰ä¸€äº›ä¸è¶³ï¼šå½“çƒ­ç‚¹æ•°æ®è¾ƒå¤šæ—¶ï¼Œæœ‰è¾ƒé«˜çš„å‘½ä¸­ç‡ï¼Œä½†æ˜¯å¦‚æœæœ‰å¶å‘æ€§çš„æ‰¹é‡æ“ä½œï¼Œä¼šä½¿å¾—çƒ­ç‚¹æ•°æ®è¢«éçƒ­ç‚¹æ•°æ®æŒ¤å‡ºå®¹å™¨ã€‚

é‚£å°±å‡ºç°äº†LRU-Kï¼Œå®ƒæ˜¯å¯¹ä¸Šé¢LRUç®—æ³•çš„æ”¹è¿›ï¼Œå¯ä»¥è¯´ä¸Šé¢çš„åŸºç¡€LRUæ˜¯LRU-1ï¼ŒLRU-Kæ˜¯å°†åŸå…ˆè¿›å…¥ç¼“å­˜é˜Ÿåˆ—çš„è¯„åˆ¤æ ‡å‡†ä»è®¿é—®ä¸€æ¬¡æ”¹ä¸ºè®¿é—®Kæ¬¡ã€‚

LRU-Kç®—æ³•æœ‰ä¸¤ä¸ªé˜Ÿåˆ—ï¼Œä¸€ä¸ªæ˜¯ç¼“å­˜é˜Ÿåˆ—ï¼Œä¸€ä¸ªæ˜¯æ•°æ®è®¿é—®å†å²é˜Ÿåˆ—ã€‚å½“è®¿é—®ä¸€ä¸ªæ•°æ®æ—¶ï¼Œé¦–å…ˆå…ˆåœ¨è®¿é—®å†å²é˜Ÿåˆ—ä¸­ç´¯åŠ è®¿é—®æ¬¡æ•°ï¼Œå½“å†å²è®¿é—®è®°å½•è¶…è¿‡Kæ¬¡åï¼Œæ‰å°†æ•°æ®ç¼“å­˜è‡³ç¼“å­˜é˜Ÿåˆ—ï¼Œä»è€Œé¿å…ç¼“å­˜é˜Ÿåˆ—è¢«æ±¡æŸ“ã€‚åŒæ—¶è®¿é—®å†å²é˜Ÿåˆ—ä¸­çš„æ•°æ®å¯ä»¥æŒ‰ç…§LRUçš„è§„åˆ™è¿›è¡Œæ·˜æ±°ã€‚

ä¸€èˆ¬æ¥è®²ï¼Œå½“Kçš„å€¼è¶Šå¤§ï¼Œåˆ™ç¼“å­˜çš„å‘½ä¸­ç‡è¶Šé«˜ï¼Œä½†æ˜¯ä¹Ÿä¼šä½¿å¾—ç¼“å­˜éš¾ä»¥è¢«æ·˜æ±°ã€‚ç»¼åˆæ¥è¯´ï¼Œä½¿ç”¨LRU-2çš„æ€§èƒ½æœ€ä¼˜ã€‚

```
// ç›´æ¥ç»§æ‰¿æˆ‘ä»¬å‰é¢å†™å¥½çš„LRUCache
public class LRUKCache extends LRUCache {
    
    private int k; // è¿›å…¥ç¼“å­˜é˜Ÿåˆ—çš„è¯„åˆ¤æ ‡å‡†
    private LRUCache historyList; // è®¿é—®æ•°æ®å†å²è®°å½•

    public LRUKCache(int cacheSize, int historyCapacity, int k) {
        super(cacheSize);
        this.k = k;
        this.historyList = new LRUCache(historyCapacity);
    }

    @Override
    public Integer get(Integer key) {

        // è®°å½•æ•°æ®è®¿é—®æ¬¡æ•°
        Integer historyCount = historyList.get(key);
        historyCount = historyCount == null ? 0 : historyCount;
        historyList.put(key, ++historyCount);

        return super.get(key);
    }

    @Override
    public Integer put(Integer key, Integer value) {

        if (value == null) {
            return null;
        }
        
        // å¦‚æœå·²ç»åœ¨ç¼“å­˜é‡Œåˆ™ç›´æ¥è¿”å›ç¼“å­˜ä¸­çš„æ•°æ®
        if (super.get(key) != null) {
            return super.put(key, value);;
        }

        // å¦‚æœæ•°æ®å†å²è®¿é—®æ¬¡æ•°è¾¾åˆ°ä¸Šé™ï¼Œåˆ™åŠ å…¥ç¼“å­˜
        Integer historyCount = historyList.get(key);
        historyCount = historyCount == null ? 0 : historyCount;
        if (historyCount >= k) {
            // ç§»é™¤å†å²è®¿é—®è®°å½•
            historyList.remove(key);
            return super.put(key, value);
        }
    }
}

```

## 4.2 å†·çƒ­åˆ†åŒºä¼˜åŒ–

å°†é“¾è¡¨æ‹†åˆ†æˆä¸¤éƒ¨åˆ†ï¼Œåˆ†ä¸ºçƒ­æ•°æ®åŒºï¼Œä¸å†·æ•°æ®åŒºï¼Œå¦‚å›¾æ‰€ç¤ºã€‚

æ”¹è¿›ä¹‹åç®—æ³•æµç¨‹å°†ä¼šå˜æˆä¸‹é¢ä¸€æ ·:

è®¿é—®æ•°æ®å¦‚æœä½äºçƒ­æ•°æ®åŒºï¼Œä¸ä¹‹å‰ LRU ç®—æ³•ä¸€æ ·ï¼Œç§»åŠ¨åˆ°çƒ­æ•°æ®åŒºçš„å¤´ç»“ç‚¹ã€‚
æ’å…¥æ•°æ®æ—¶ï¼Œè‹¥ç¼“å­˜å·²æ»¡ï¼Œæ·˜æ±°å°¾ç»“ç‚¹çš„æ•°æ®ã€‚ç„¶åå°†æ•°æ®æ’å…¥å†·æ•°æ®åŒºçš„å¤´ç»“ç‚¹ã€‚
å¤„äºå†·æ•°æ®åŒºçš„æ•°æ®æ¯æ¬¡è¢«è®¿é—®éœ€è¦åšå¦‚ä¸‹åˆ¤æ–­ï¼šè‹¥è¯¥æ•°æ®å·²åœ¨ç¼“å­˜ä¸­è¶…è¿‡æŒ‡å®šæ—¶é—´ï¼Œæ¯”å¦‚è¯´ 1 sï¼Œåˆ™ç§»åŠ¨åˆ°çƒ­æ•°æ®åŒºçš„å¤´ç»“ç‚¹ã€‚è‹¥è¯¥æ•°æ®å­˜åœ¨åœ¨æ—¶é—´å°äºæŒ‡å®šçš„æ—¶é—´ï¼Œåˆ™ä½ç½®ä¿æŒä¸å˜ã€‚

![image-20220526085624595](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220526085624595.png)



å¯¹äºå¶å‘çš„æ‰¹é‡æŸ¥è¯¢ï¼Œæ•°æ®ä»…ä»…åªä¼šè½å…¥å†·æ•°æ®åŒºï¼Œç„¶åå¾ˆå¿«å°±ä¼šè¢«æ·˜æ±°å‡ºå»ã€‚çƒ­é—¨æ•°æ®åŒºçš„æ•°æ®å°†ä¸ä¼šå—åˆ°å½±å“ï¼Œè¿™æ ·å°±è§£å†³äº† LRU ç®—æ³•ç¼“å­˜å‘½ä¸­ç‡ä¸‹é™çš„é—®é¢˜ã€‚å…¶ä»–æ”¹è¿›æ–¹æ³•è¿˜æœ‰ LRU-Kï¼Œ2Q,LIRS ç®—æ³•ï¼Œæ„Ÿå…´è¶£åŒå­¦å¯ä»¥è‡ªè¡ŒæŸ¥é˜…ã€‚

# å¹¶æŸ¥é›†

çœ‹ä¸€ä¸ªå›¾æ˜¯ä¸æ˜¯è”é€šçš„ï¼Ÿæˆ–è€…çœ‹ä¸¤ä¸ªä¸ç›´æ¥ç›¸äº¤çš„èŠ‚ç‚¹æ˜¯ä¸æ˜¯æœ‰å…³ç³»çš„ï¼Ÿ
https://zhuanlan.zhihu.com/p/93647900/ å¹¶æŸ¥é›†çš„ä»‹ç»

## åŸç†



https://www.cnblogs.com/noKing/p/8018609.html

å¹¶æŸ¥é›†è¢«å¾ˆå¤šOIerè®¤ä¸ºæ˜¯æœ€ç®€æ´è€Œä¼˜é›…çš„æ•°æ®ç»“æ„ä¹‹ä¸€ï¼Œä¸»è¦ç”¨äºè§£å†³ä¸€äº›**å…ƒç´ åˆ†ç»„**çš„é—®é¢˜ã€‚å®ƒç®¡ç†ä¸€ç³»åˆ—**ä¸ç›¸äº¤çš„é›†åˆ**ï¼Œå¹¶æ”¯æŒä¸¤ç§æ“ä½œï¼š

- **åˆå¹¶**ï¼ˆUnionï¼‰ï¼šæŠŠä¸¤ä¸ªä¸ç›¸äº¤çš„é›†åˆåˆå¹¶ä¸ºä¸€ä¸ªé›†åˆã€‚
- **æŸ¥è¯¢**ï¼ˆFindï¼‰ï¼šæŸ¥è¯¢ä¸¤ä¸ªå…ƒç´ æ˜¯å¦åœ¨åŒä¸€ä¸ªé›†åˆä¸­ã€‚

ä»‹ç»å¹¶æŸ¥é›†->     å¹¶æŸ¥é›†æ˜¯ä¸€ç§æ•°æ®ç»“æ„, å¸¸ç”¨äºæè¿°é›†åˆ,ç»å¸¸ç”¨äºè§£å†³æ­¤ç±»é—®é¢˜:æŸä¸ªå…ƒç´ æ˜¯å¦å±äºæŸä¸ªé›†åˆ,æˆ–è€… æŸä¸ªå…ƒç´  å’Œ å¦ä¸€ä¸ªå…ƒç´ æ˜¯å¦åŒå±äºä¸€ä¸ªé›†åˆ

æ•°ç»„é‡Œå­˜çš„æ•°å­—ä»£è¡¨æ‰€å±çš„é›†åˆã€‚æ¯”å¦‚`arr[4]==1;ä»£è¡¨4æ˜¯ç¬¬ä¸€ç»„ã€‚å¦‚æœarr[7]==1`,ä»£è¡¨7ä¹Ÿæ˜¯ç¬¬ä¸€ç»„ã€‚æ—¢ç„¶ arr[4] == arr[7] == 1 ï¼Œé‚£ä¹ˆè¯´æ˜4 å’Œ 7åŒå±äºä¸€ä¸ªé›†åˆï¼Œ

### å¿«é€Ÿunionï¼Œå¿«é€Ÿfindï¼ŒåŸºäºé«˜åº¦(åŸºäºç§©)

ä¸Šé¢ä»‹ç»çš„æ˜¯ï¼Œå½“ä¸¤ä¸ªé›†åˆåˆå¹¶æ—¶ï¼Œè°çš„é‡é‡å¤§ï¼Œè°å°±æ¥å½“åˆå¹¶ä¹‹åçš„æ ¹ã€‚æ˜¯æ¯”ä»¥å‰å¥½å¤šäº†ã€‚ä½†è¿˜æ˜¯æœ‰å¹¶æŸ¥é›†æ·±åº¦å¤ªæ·±çš„é—®é¢˜ã€‚å¹¶æŸ¥é›†è¶Šæ·±ï¼Œå°±è¶Šæ¥è¿‘çº¿æ€§ï¼Œfindå‡½æ•°å°±è¶Šæ¥è¿‘O(n)

æ‰€ä»¥æœ‰äº†è¿™ç§åŸºäºé«˜åº¦çš„unionã€‚åˆå¹¶æ—¶ï¼Œè°çš„æ·±åº¦æ·±ï¼Œè°å°±æ˜¯æ–°çš„æ ¹ã€‚è¿™æ ·é›†åˆçš„æ·±åº¦æœ€å¤šæ˜¯æœ€å¤§æ·±åº¦çš„é›†åˆçš„æ·±åº¦ï¼Œè€Œä¸ä¼šè®©æ·±åº¦å¢åŠ ã€‚

æ¯”å¦‚ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå…ƒç´ 2çš„æ·±åº¦æ˜¯2ï¼Œå…ƒç´ 6çš„æ·±åº¦æ˜¯3ï¼ŒæŒ‰åŸºäºé‡é‡çš„unionåˆå¹¶åï¼Œæ–°çš„é›†åˆæ·±åº¦æ˜¯4ã€‚

ä½†æ˜¯å¦‚æœä¸æ¯”é‡é‡ï¼Œè€Œæ˜¯æ¯”é«˜åº¦å‘¢ï¼Ÿ

é‚£å°±æ˜¯6çš„æ·±åº¦æ˜¯3ï¼Œ2çš„æ·±åº¦æ˜¯2ã€‚3å¤§äº2, æ‰€ä»¥6æ˜¯æ–°é›†åˆçš„æ ¹ã€‚çœ‹ä¸‹é¢å›¾ã€‚ å¯ä»¥çœ‹åˆ°æŒ‰é«˜åº¦åˆå¹¶å,æ–°çš„ç»“åˆçš„æ·±åº¦å¹¶æ²¡æœ‰åŠ æ·±ï¼Œæ·±åº¦ä¸º3ï¼Œè€ŒæŒ‰åŸºäºé‡é‡çš„åˆå¹¶åçš„é«˜åº¦æ˜¯4ã€‚



```
package å¹¶æŸ¥é›†;

/**
 * @author chilcyWind
 * @Description
 * @Author Yang
 * @Date 2022/5/26
 * @Version 1.0
 **/
public class FatestUnionFind {
    private int[] parent;
    private int[] height;
    int size;

    public FatestUnionFind(int size) {
        this.size = size;
        this.parent = new int[size];
        this.height = new int[size];
        for (int i = 0; i < size; i++) {
            parent[i] = i;
            height[i] = 1;
        }
    }

    public int find(int element) {
        while (element != parent[element]) {
            element = parent[element];
        }
        return element;
    }

    public boolean isConnected(int firstElement, int secondElement) {
        return find(firstElement) == find(secondElement);
    }

    public void unionElements(int firstElement, int secondElement) {
        int firstRoot = find(firstElement);
        int secondRoot = find(secondElement);

        if (height[firstRoot] < height[secondRoot]) {
            parent[firstRoot] = secondRoot;
        } else if (height[firstRoot] > height[secondRoot]) {
            parent[secondRoot] = firstRoot;
        } else {
            parent[firstRoot] = secondRoot;
            height[secondRoot] += 1;
        }
    }
 
                /*
              å¦‚æœè¦åˆå¹¶çš„ä¸¤ä¸ªé›†åˆé«˜åº¦ä¸€æ ·ï¼Œé‚£ä¹ˆéšæ„é€‰ä¸€ä¸ªä½œä¸ºæ ¹
              æˆ‘è¿™é‡Œé€‰çš„æ˜¯è®©secondRootä½œä¸ºæ–°é›†åˆçš„æ ¹ã€‚
              ç„¶åsecondRooté«˜åº¦é«˜äº†ä¸€å±‚ï¼Œæ‰€ä»¥+1
            */

    private void printArr(int[] arr) {
        for (int p : arr) {
            System.out.print(p + "\t");
        }
        System.out.println();
    }

    public static void main(String[] args) {
        int n = 10;
        FatestUnionFind union = new FatestUnionFind(n);

        System.out.println("åˆå§‹parentï¼š");
        union.printArr(union.parent);
        System.out.println("åˆå§‹heightï¼š");
        union.printArr(union.height);

        System.out.println("è¿æ¥äº†5 6 ä¹‹åçš„parentï¼š");
        union.unionElements(5, 6);
        union.printArr(union.parent);
        System.out.println("è¿æ¥äº†5 6 ä¹‹åçš„heightï¼š");
        union.printArr(union.height);

        System.out.println("è¿æ¥äº†1 2 ä¹‹åçš„parentï¼š");
        union.unionElements(1, 2);
        union.printArr(union.parent);
        System.out.println("è¿æ¥äº†1 2 ä¹‹åçš„heightï¼š");
        union.printArr(union.height);

        System.out.println("è¿æ¥äº†2 3 ä¹‹åçš„parentï¼š");
        union.unionElements(2, 3);
        union.printArr(union.parent);
        System.out.println("è¿æ¥äº†2 3 ä¹‹åçš„heightï¼š");
        union.printArr(union.height);

        System.out.println("è¿æ¥äº†1 4 ä¹‹åçš„parentï¼š");
        union.unionElements(1, 4);
        union.printArr(union.parent);
        System.out.println("è¿æ¥äº†1 4 ä¹‹åçš„heightï¼š");
        union.printArr(union.height);

        System.out.println("è¿æ¥äº†1 5 ä¹‹åçš„parentï¼š");
        union.unionElements(1, 5);
        union.printArr(union.parent);
        System.out.println("è¿æ¥äº†1 5 ä¹‹åçš„heightï¼š");
        union.printArr(union.height);

        System.out.println("1  6 æ˜¯å¦è¿æ¥ï¼š" + union.isConnected(1, 6));

        System.out.println("1  8 æ˜¯å¦è¿æ¥ï¼š" + union.isConnected(1, 8));
    }
}

```



### è·¯å¾„å‹ç¼©

è·¯å¾„å‹ç¼©å°±æ˜¯å¤„ç†å¹¶æŸ¥é›†ä¸­çš„æ·±çš„ç»“ç‚¹ã€‚å®ç°æ–¹æ³•å¾ˆç®€å•ï¼Œå°±æ˜¯åœ¨findå‡½æ•°é‡ŒåŠ ä¸Šä¸€å¥ parent[element] = parent[parent[element]];å°±å¥½äº†ï¼Œå°±æ˜¯è®©å½“å‰ç»“ç‚¹æŒ‡å‘è‡ªå·±çˆ¶äº²çš„çˆ¶äº²ï¼Œå‡å°‘æ·±åº¦ï¼ŒåŒæ—¶è¿˜æ²¡æœ‰æ”¹å˜æ ¹ç»“ç‚¹çš„weight(éæ ¹èŠ‚ç‚¹çš„weightæ”¹å˜äº†æ— æ‰€è°“)ã€‚

æ³¨ï¼šåªèƒ½åœ¨åŸºäºé‡é‡çš„å¹¶æŸ¥é›†ä¸Šæ”¹findå‡½æ•°ï¼Œè€Œä¸èƒ½åœ¨åŸºäºé«˜åº¦çš„å¹¶æŸ¥é›†ä¸Šé‡‡ç”¨è¿™ç§è·¯å¾„å‹ç¼©ã€‚å› ä¸ºè·¯å¾„å‹ç¼©åæ ¹çš„é‡é‡ä¸å˜ï¼Œä½†é«˜åº¦ä¼šå˜ï¼Œç„¶è€Œé«˜åº¦æ”¹å˜ååˆä¸æ–¹ä¾¿é‡æ–°è®¡ç®—ã€‚













## æ­ç”µACM-1232-ç•…é€šå·¥ç¨‹

è¿æ¥ï¼šhttp://acm.hdu.edu.cn/showproblem.php?pid=1232

> æŸçœè°ƒæŸ¥åŸé•‡äº¤é€šçŠ¶å†µï¼Œå¾—åˆ°ç°æœ‰åŸé•‡é“è·¯ç»Ÿè®¡è¡¨ï¼Œè¡¨ä¸­åˆ—å‡ºäº†æ¯æ¡é“è·¯ç›´æ¥è¿é€šçš„åŸé•‡ã€‚çœæ”¿åºœâ€œç•…é€šå·¥ç¨‹â€çš„ç›®æ ‡æ˜¯ä½¿å…¨çœä»»ä½•ä¸¤ä¸ªåŸé•‡é—´éƒ½å¯ä»¥å®ç°äº¤é€šï¼ˆä½†ä¸ä¸€å®šæœ‰ç›´æ¥çš„é“è·¯ç›¸è¿ï¼Œåªè¦äº’ç›¸é—´æ¥é€šè¿‡é“è·¯å¯è¾¾å³å¯ï¼‰ã€‚é—®æœ€å°‘è¿˜éœ€è¦å»ºè®¾å¤šå°‘æ¡é“è·¯ï¼Ÿ 

æ€è·¯ï¼šä¸ä¸Šé¢é¢˜æ€è·¯ä¸€æ ·ï¼Œåœ¨å¹¶æŸ¥é›†ä¸­è¿›è¡Œåˆå¹¶æ“ä½œï¼Œæ±‚å‡ºæœ€åå‰©ä¸‹å¤šå°‘ä¸ªç»„(é›†åˆ)ã€‚è¿™äº›ç»„ä¹‹é—´æ˜¯äº’ç›¸ä¸å¯è¾¾çš„ã€‚å‡å¦‚æœ‰Mä¸ªç»„ï¼Œé‚£å…¶å®å†éœ€è¦M-1æ¡è¿çº¿å°±å¯ä»¥æŠŠä»–ä»¬è¿æ¥èµ·æ¥äº†ã€‚æ‰€ä»¥ç»„æ•° - 1 å°±æ˜¯æœ€åç­”æ¡ˆ

```
/**
 * @author chilcyWind
 * @Description
 * @Author Yang
 * @Date 2022/3/20
 * @Version 1.0
 **/
class UnionFind2 {
    /**
     * è®°å½•å¹¶æŸ¥é›†å¯¹åº”ä½ç½®çš„çˆ¶äº²ç»“ç‚¹ä½ç½®
     */
    private int[] parent;
    /**
     * è®°å½•å¹¶æŸ¥é›†å¯¹åº”ç»“ç‚¹çš„é‡é‡
     */
    private int[] weight;
    /**
     * è¡¨ç¤ºå¹¶æŸ¥é›†çš„å…ƒç´ ä¸ªæ•°
     */
    private int size;
    /**
     * è¡¨ç¤ºå¹¶æŸ¥é›†ä¸­é›†åˆçš„ä¸ªæ•°(ç»„æ•°)
     */
    private int groups;

    public UnionFind2(int size) {
        this.size = size;
        this.groups = size;
        this.parent = new int[size];
        this.weight = new int[size];
        for (int i = 0; i < size; i++) {
            this.parent[i] = i;
            this.weight[1] = 1;
        }
    }

    public int find(int element) {
        while (element != parent[element]) {
            parent[element] = parent[parent[element]];
            element = parent[element];
        }
        return element;
    }

    public boolean isConneted(int firstElement, int secondElement) {
        return find(firstElement) == find(secondElement);
    }

    public void unionElements(int firstElement, int secondElement) {
        int firstRoot = find(firstElement);
        int secondRoot = find(secondElement);
        if (firstRoot == secondRoot) {
            return;
        }
        if (weight[firstRoot] < weight[secondRoot]) {
            parent[firstRoot] = secondRoot;
            weight[secondRoot] += weight[firstRoot];
        } else {
            parent[secondRoot] = firstRoot;
            weight[firstRoot] += secondRoot;
        }

        this.groups--;
    }

    public int getGroups() {
        return this.groups;
    }
}

public class unionFindPath {
    public static void main(String[] args) {
        java.util.Scanner scanner = new java.util.Scanner(System.in);
        int size = scanner.nextInt();
        while (size != 0) {
            int input = scanner.nextInt();
            UnionFind2 union = new UnionFind2(size);
            for (int i = 0; i < input; i++) {
                //å› ä¸ºæµ‹è¯•æ•°æ®ä¸­æ˜¯ä»1å¼€å§‹æŠ€æœ¯ã€‚è€Œæˆ‘ä»¬çš„å¹¶æŸ¥é›†æ˜¯ä»0å¼€å§‹ï¼Œæ‰€ä»¥æ¯ä¸ªè¾“å…¥éƒ½å‡1
                int first = scanner.nextInt() - 1;
                int second = scanner.nextInt() - 1;
                union.unionElements(first, second);
            }
            //æœ€åå‰©ä¸‹çš„ç»„æ•° - 1 å°±æ˜¯æœ€åçš„ç­”æ¡ˆã€‚å› ä¸ºè¿æ¥Mç»„çš„è¯ï¼Œéœ€è¦M-1æ¡è¿çº¿å°±å¯ä»¥äº†
            System.out.println(union.getGroups() - 1);
            size = scanner.nextInt();
        }
    }
}
```





## [128. æœ€é•¿è¿ç»­åºåˆ—](https://leetcode.cn/problems/longest-consecutive-sequence/)

![image-20220531095506974](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220531095506974.png)

```
class Solution {
    public int longestConsecutive(int[] nums) {
        Set<Integer> num_set = new HashSet<Integer>();
        for (int num : nums) {
            num_set.add(num);
        }

        int longestStreak = 0;

        for (int num : num_set) {
            if (!num_set.contains(num - 1)) {
                int currentNum = num;
                int currentStreak = 1;

                while (num_set.contains(currentNum + 1)) {
                    currentNum += 1;
                    currentStreak += 1;
                }

                longestStreak = Math.max(longestStreak, currentStreak);
            }
        }

        return longestStreak;
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/longest-consecutive-sequence/solution/zui-chang-lian-xu-xu-lie-by-leetcode-solution/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



å¹¶æŸ¥é›†çš„æ€è·¯å®é™…ä¸Šä¸æ€è·¯2æœ‰ç‚¹åƒï¼Œä¹Ÿæ˜¯æ¥è®°å½•å³è¾¹ç•Œçš„ï¼Œæ‰€æœ‰åœ¨ä¸€ä¸ªè¿ç»­åŒºé—´å†…çš„å…ƒç´ éƒ½ä¼šåœ¨ä¸€ä¸ªè¿é€šåˆ†é‡ä¸­ï¼Œä¸”è¿™äº›å…ƒç´ çš„æ ¹ç»“ç‚¹éƒ½ä¸ºæœ€è¿œçš„å³è¾¹ç•Œå…ƒç´ ã€‚
å…·ä½“æ€è·¯æ˜¯ï¼š

éå†æ‰€æœ‰å…ƒç´ numï¼Œå¦‚æœnum+1å­˜åœ¨ï¼Œå°†numåŠ å…¥åˆ°num+1æ‰€åœ¨çš„è¿é€šåˆ†é‡ä¸­ï¼›
é‡æ–°éå†ä¸€éæ‰€æœ‰å…ƒç´ numï¼Œé€šè¿‡findå‡½æ•°æ‰¾åˆ°numæ‰€åœ¨åˆ†é‡çš„æ ¹ç»“ç‚¹ï¼Œä¹Ÿå°±æ˜¯æœ€è¿œå³è¾¹ç•Œï¼Œä»è€Œæ±‚å¾—è¿ç»­åŒºé—´çš„é•¿åº¦ã€‚

```
class UnionFind {
    // è®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹
    private Map<Integer, Integer> parent;

    public UnionFind(int[] nums) {
        parent = new HashMap<>();
        // åˆå§‹åŒ–çˆ¶èŠ‚ç‚¹ä¸ºè‡ªèº«
        for (int num : nums) {
            parent.put(num, num);
        }
    }

    // å¯»æ‰¾xçš„çˆ¶èŠ‚ç‚¹ï¼Œå®é™…ä¸Šä¹Ÿå°±æ˜¯xçš„æœ€è¿œè¿ç»­å³è¾¹ç•Œï¼Œè¿™ç‚¹ç±»ä¼¼äºæ–¹æ³•2
    public Integer find(int x) {
        // numsä¸åŒ…å«x
        if (!parent.containsKey(x)) {
            return null;
        }
        // éå†æ‰¾åˆ°xçš„çˆ¶èŠ‚ç‚¹
        while (x != parent.get(x)) {
            // è¿›è¡Œè·¯å¾„å‹ç¼©ï¼Œä¸å†™ä¸‹é¢è¿™è¡Œä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯æ—¶é—´ä¼šæ…¢äº›
            parent.put(x, parent.get(parent.get(x)));
            x = parent.get(x);
        }
        return x;
    }

    // åˆå¹¶ä¸¤ä¸ªè¿é€šåˆ†é‡ï¼Œåœ¨æœ¬é¢˜ä¸­åªç”¨æ¥å°†numå¹¶å…¥åˆ°num+1çš„è¿ç»­åŒºé—´ä¸­
    public void union(int x, int y) {
        int rootX = find(x);
        int rootY = find(y);
        if (rootX == rootY) {
            return;
        }
        parent.put(rootX, rootY);
    }
}

class Solution {
    public int longestConsecutive(int[] nums) {
        UnionFind uf = new UnionFind(nums);
        int ans = 0;
        
        for (int num : nums) {
            // å½“num+1å­˜åœ¨ï¼Œå°†numåˆå¹¶åˆ°num+1æ‰€åœ¨é›†åˆä¸­
            if (uf.find(num + 1) != null) {
                uf.union(num, num + 1);
            }
        }

        for (int num : nums) {
            // æ‰¾åˆ°numçš„æœ€è¿œè¿ç»­å³è¾¹ç•Œ
            int right = uf.find(num);
            ans = Math.max(ans, right - num + 1);
        }
        return ans;
    }
}

ä½œè€…ï¼šyimeixiaobai
é“¾æ¥ï¼šhttps://leetcode.cn/problems/longest-consecutive-sequence/solution/xiao-bai-lang-ha-xi-ji-he-ha-xi-biao-don-j5a2/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```





# kmpç®—æ³•

![image-20211202233541685](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211202233541685.png)

å‰ç¼€å’Œåç¼€ç›¸ç­‰ä»¥åçš„æœ€é•¿é•¿åº¦ï¼Œå–åˆ°æ•´ä½“æ²¡æ„ä¹‰

![image-20211203000035126](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211203000035126.png)

aaaaaè¿™ä¸ªå°±æ˜¯4ï¼Œä¸èƒ½å–5.å–5æ²¡æ„ä¹‰

**å…ˆæ±‚çŸ­çš„å­—ç¬¦ä¸²çš„æœ€é•¿ç›¸ç­‰çš„å‰ç¼€å’Œåç¼€çš„nextæ•°ç»„**

![image-20211203000953567](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211203000953567.png)

è¿™ä¸ªå®šä½çš„è¿‡ç¨‹ç¬¬ä¸€ä¸ªæ˜¯-1,1ä½ç½®æŒ‡çš„æ˜¯ç¬¬ä¸€ä¸ªä½ç½®ä»¥å‰çš„å­—ç¬¦ä¸²ï¼Œä¸åŒ…æ‹¬å½“å‰ä½ç½®ï¼Œå› æ­¤ç¬¬ä¸€ä¸ªä½ç½®ä»¥å‰çš„ä½ç½®ä¸ºç©ºï¼Œäººä¸ºå›ºå®šä¸º-1.

ç¬¬äºŒä¸ªä½ç½®ä»¥å‰åªæœ‰ä¸€ä¸ªaï¼Œå› æ­¤ä¸º0ï¼Œä¸èƒ½å–å…¨éƒ¨ã€‚

ç¬¬ä¸‰ä¸ªä½ç½®ä»¥å‰ä¸ºaaï¼Œä¸èƒ½å–å…¨éƒ¨ï¼Œå› æ­¤ä¸º1.

ç¬¬å››ä¸ªä½ç½®ä¸ºaabï¼Œæµ…é†‰å’Œåç¼€ä¸º1ä¸ç­‰äºï¼Œä¸º2ä¸ç­‰äºã€‚ä¸º3ä¸èƒ½å–ï¼Œå› æ­¤ä¸º0.



**æ ¹æ®nextæ•°ç»„è¿›è¡ŒåŠ é€Ÿ**

![image-20211203001407361](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211203001407361.png)

ç›´æ¥ä»ç®­å¤´çš„åœ°æ–¹å¼€å§‹æ¯”è¾ƒ

![image-20211203002209397](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211203002209397.png)

![image-20211203003039686](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211203003039686.png)

### ä»£ç 

![image-20211203003455767](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211203003455767.png)





## æœ€é•¿å›æ–‡å­ä¸²

1 ï¼Œ åé¢çš„å¯»æ‰¾å›æ–‡ä¸²çš„ä¸­å¿ƒä½ç½®iä¸åœ¨å‰é¢ä»¥cä¸ºä¸­å¿ƒçš„å›æ–‡ä¸²çš„æœ‰è¾¹ç•Œrçš„èŒƒå›´å†…ï¼Œç›´æ¥æŒ‰ç…§è€åŠæ³•æ‰¾å›æ–‡

2. 
   2.1iåœ¨è¿™ä¸ªèŒƒå›´å†…ï¼Œå¯ä»¥æ ¹æ®ä»¥cå¯¹ç§°çš„iâ€˜æ¥è®¡ç®—

![image-20211207092116654](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211207092116654.png)

2.2 içš„å›æ–‡ä¸²å³è¾¹ç•Œåˆšå¥½ä¸cçš„å³è¾¹ç•Œç›¸åŒï¼Œi-rä¸­ä¸éœ€è¦è€ƒè™‘ã€‚è€ƒè™‘ä»å³è¾¹ç•Œå¼€å§‹æ‰©å®¹

**ä»£ç **

ä¼ªä»£ç ï¼š

é£ 22:42:08
![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/76FB30A4371644B84C1CAC1AC49D7D41.jpg)

é£ 22:42:09
![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/9D3833843936959963D9C0A0DF04F880.jpg)

é£ 22:42:09
![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/BA10CBA50ABE03AC87FC5C9FB8D054AC.jpg)



é£ 22:42:10
![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/739DF3D4D980A0B10DDDFD0458D0D647.jpg)

é£ 22:42:10
![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/C78E0F3D08E2A13E4B9A6E867D9DDD22.jpg)

é£ 22:42:11
![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/9C839B97C64FF985146AE6C14350D662.jpg)

# æ»‘åŠ¨çª—å£

![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/130FCF4F6383AFED89A865FE60076E00.jpg)

é£ 22:42:12
![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/FB3CFE33EE3A1BDA5E5E4D0C35DE02B4.jpg)

é£ 22:42:13
![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/C6C7CA853DBBAF8CE28AB1B936E591A1.jpg)

é£ 22:42:13
![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/DC6657DFD573D6030887509823B7B85B.jpg)

é£ 22:42:14
![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/CA2024DBF45DA7A37BE1181A47052BA2.jpg)





# å•è°ƒæ ˆ

![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/7A5126665B31684F6CDF9BBA1DC8CB14-16388883522091.jpg)

![image-20211207225427943](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211207225427943.png)

æœ‰ç›¸åŒå€¼çš„æƒ…å†µæä¸€ä¸ª

![image-20211207233622331](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211207233622331.png)



## å­æ•°ç»„ä¸æœ€å°å€¼çš„æœ€å¤§ç§¯

éå†æ¯ä¸ªæ•°ï¼Œä½¿æ¯ä¸ªæ•°éƒ½æ˜¯å­æ•°ç»„é‡Œé¢çš„æœ€å°å€¼ï¼Œç„¶åç®—ä¹˜ç§¯ï¼Œå°±æ˜¯å•è°ƒæ ˆ

![image-20211207234826075](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211207234826075.png)

å‰ç¼€å’Œæ±‚åŒºé—´å’Œï¼Œé¿å…é‡å¤è®¡ç®—





## æ¥é›¨æ°´



### 1.å•è°ƒæ ˆ

```
class Solution {
    public int trap(int[] height) {
        int n = height.length;
        if (n == 0) {
            return 0;
        }

        int[] leftMax = new int[n];
        leftMax[0] = height[0];
        for (int i = 1; i < n; ++i) {
            leftMax[i] = Math.max(leftMax[i - 1], height[i]);
        }

        int[] rightMax = new int[n];
        rightMax[n - 1] = height[n - 1];
        for (int i = n - 2; i >= 0; --i) {
            rightMax[i] = Math.max(rightMax[i + 1], height[i]);
        }

        int ans = 0;
        for (int i = 0; i < n; ++i) {
            ans += Math.min(leftMax[i], rightMax[i]) - height[i];
        }
        return ans;
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/trapping-rain-water/solution/jie-yu-shui-by-leetcode-solution-tuvc/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

### åŒæŒ‡é’ˆ

```
class Solution {
    public int trap(int[] height) {
        int ans = 0;
        int left = 0, right = height.length - 1;
        int leftMax = 0, rightMax = 0;
        while (left < right) {
        // å…ˆæ›´æ–°æŒ‡é’ˆçš„å€¼ï¼Œå†è¿›è¡Œè®¡ç®—é›¨æ°´ï¼Œå†ç§»åŠ¨æŒ‡é’ˆè¾ƒå°çš„ç«¯çš„æŒ‡é’ˆã€‚
            leftMax = Math.max(leftMax, height[left]);
            rightMax = Math.max(rightMax, height[right]);
            if (height[left] < height[right]) {
                ans += leftMax - height[left];
                ++left;
            } else {
                ans += rightMax - height[right];
                --right;
            }
        }
        return ans;
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/trapping-rain-water/solution/jie-yu-shui-by-leetcode-solution-tuvc/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```











### æœ€å¤§åˆ†æ®µæœ€å¤§å€¼çš„å·®

![image-20220107000935422](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220107000935422.png)



æ‰¾åˆ°æœ€å¤§å€¼ï¼Œç„¶åå‡å»ä¸¤å¤´çš„å€¼ï¼Œå“ªä¸ªå°å‡å»å“ªä¸ªã€‚å› ä¸ºä¸¤æ®µä»¥åå¿…ç„¶åŒ…å«ç«¯ç‚¹çš„å€¼ã€‚
![image-20220107001615368](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220107001615368.png)











# æœ‰åºè¡¨

![image-20211219180032411](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211219180032411.png)















# å¤§æ•°æ®é—®é¢˜

æœ‰é™çš„ç©ºé—´æ‰¾åˆ°å‡ åäº¿æ¡æ•°æ®ä¸­æ²¡æœ‰å‡ºç°çš„æ•°

![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/3FDC6603989FCA68399CFD474D160126.jpg)

é£ 9:00:23
![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/9E73E41834A98DDD73670482DB8BD9DB.jpg)









# å›æº¯æ³•

1.ç¡®å®šbase caseï¼Œä¹Ÿå°±æ˜¯é€’å½’çš„ç»ˆæ­¢æ¡ä»¶æˆ–è€…å‡ºå£

2.ç¡®å®šé€’å½’æ–¹æ³•çš„å›ºå®šå‚æ•°å’Œå¯å˜å‚æ•°ï¼Œä»¥åŠå±€éƒ¨è¾“å‡ºç»“æœï¼Œä¹Ÿå°±æ˜¯ä¸‹ä¸€ä¸ªèŠ‚ç‚¹è¦èµ°çš„ç»“æœï¼Œç›¸å½“äºé»‘ç›’å­ï¼Œ

3.ç„¶åæœé›†å­é€’å½’è¿‡ç¨‹ï¼Œè¿”å›ç»™ä¸Šæ¸¸ï¼Œæœ€ä¸Šæ¸¸è¾“å‡ºçš„ç»“æœå°±æ˜¯é€’å½’çš„ç»“æœ



ä¼˜åŒ–ä¸ºè®°å¿†åŒ–æœç´¢çš„è¿‡ç¨‹ï¼š

å°†å­é—®é¢˜çš„ç»“æœè®°å½•åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œåˆ«çš„é€’å½’è°ƒç”¨åˆ°ç›¸åŒçš„å‚æ•° çš„æ—¶å€™å¯ä»¥é‡å¤ä½¿ç”¨ï¼Œç„¶åå°±å¯ä»¥è½¬ä¸ºè®°å¿†åŒ–æœç´¢çš„è¿‡ç¨‹



## [å­—ç¬¦ä¸²è½¬æ¢](https://leetcode-cn.com/problems/word-transformer-lcci/)



![image-20220121092936819](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220121092936819.png)



```
import java.util.ArrayList;
import java.util.List;

/**
 * @author chilcyWind
 * @Description
 * @Author Yang
 * @Date 2022/4/1
 * @Version 1.0
 **/
class findLadders {
    List<String> map;
    String ew, bw;
    List<String> result = new ArrayList<>();
    List<String> fake = new ArrayList<>();
    boolean[] flag;

    //å®šä¹‰å‡ ä¸ªæˆå‘˜å˜é‡ï¼Œæ–¹ä¾¿åœ¨å…¶ä»–å‡½æ•°ä¸­ä½¿ç”¨ï¼Œå¸ƒå°”æ•°ç»„flagç”¨æ¥è®°å½•å·²ç»æŸ¥çœ‹è¿‡çš„èŠ‚ç‚¹
    public List<String> findLadders(String beginWord, String endWord, List<String> wordList) {
        map = wordList;
        ew = endWord;
        bw = beginWord;
        flag = new boolean[wordList.size()];
        dfs(beginWord);
        return result;

    }

    //dfsç”¨æ¥é€’å½’è°ƒç”¨ï¼Œå¹¶ä¸”è¿”å›å€¼ä¸ºBooleanï¼Œå½“æ‰¾åˆ°æ­£ç¡®ç­”æ¡ˆæ—¶ï¼Œå°±ç›´æ¥å¯ä»¥å¿«é€Ÿé€€å‡ºæ‰€æœ‰çš„dfs
//åœ¨è¿›å…¥ä¸‹ä¸€å±‚æ—¶ï¼Œå°†è·¯å¾„è®°å½•ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ç­”æ¡ˆå°±è¿”å›ä¸Šä¸€å±‚ï¼Œå¹¶ä¸”ï¼Œå¹¶ä¸”æŠŠè·¯å¾„fakeå»æ‰æœ€åä¸€ä¸ªString
    public boolean dfs(String temp) {
        List<String> neighbhood = near(temp);
        if (!neighbhood.isEmpty()) {
            for (String tt : neighbhood) {
                fake.add(tt);
                if (tt.equals(ew)) {
                    result.add(bw);
                    for (String str : fake) {
                        result.add(str);//è¿™ä¸€æ­¥æ²¡æœ‰åŠæ³•ç›´æ¥çš„å°†result=fakeè¿™ä¹ˆå†™ï¼Œ
                    }//å› ä¸ºè¿™ä¹ˆå†™çš„è¯å°±ä¼šå¯¼è‡´resultè®°å½•çš„æ˜¯fakeçš„åœ°å€ï¼Œåé¢æ”¹å˜fakeä¼šæ”¹å˜resultçš„å€¼
                    return true;
                }
                if (dfs(tt)) {
                    //å·²ç»æœ‰äº†ç»“æœ
                    return true;
                } else
                    //æ²¡æœ‰ç»“æœï¼Œå›æº¯
                    fake.remove(fake.size() - 1);
            }
        } else {
            return false;
        }
        return false;

    }

    //è¿™ä¸ªå‡½æ•°å°±æ˜¯è¿”å›ä¸€ä¸ªArraysListï¼Œå°±æ˜¯å½“å‰çš„strçš„æ‰€ä¸´è¿‘ï¼ˆä¸€ä¸ªå­—ç¬¦ä¸åŒï¼‰çš„æ‰€æœ‰çš„å­—ç¬¦ä¸²ï¼Œ
//å¹¶ä¸”å°†è¿”å›çš„å­—ç¬¦ä¸²æ ‡è®°ä¸‹ï¼Œå¦‚æœæ ‡è®°è¿‡çš„å­—ç¬¦ä¸²ä¸å†è¿”å›ï¼Œè‡³äºä¸ºå•¥è¦è¿™ä¹ˆåšï¼Œå»ºè®®æ‹¿ä¸ªè‰ç¨¿çº¸
//æ¨¡æ‹Ÿä¸‹é¢˜ç›®æ‰€ç»™çš„æ¡ˆä¾‹ï¼Œå¦‚æœæ²¡è¿™ä¸€æ­¥å°±ä¼šéœ€è¦ä¸€ç›´é€’å½’ï¼Œè€Œä¸”æµªè´¹æ—¶é—´å’Œèµ„æº
    public List<String> near(String str) {
        List<String> res = new ArrayList<>();
        int len1 = str.length();
        for (int j = 0; j < map.size(); j++) {
            String tt = map.get(j);
            if (tt.length() != len1 || flag[j])
                continue;
            int differ = 0;
            for (int i = 0; i < len1; i++) {
                if (str.charAt(i) != tt.charAt(i))
                    differ++;
                if (differ == 2)
                    break;
            }
            if (differ == 1) {
                flag[j] = true;
                res.add(tt);
            }
        }
        return res;
    }
//æ–¹ä¾¿åœ¨ç¼–è¯‘å™¨ä¸­è‡ªå·±è°ƒè¯•
/*	public static void main(String[] args) {
		Number9_1 a=new Number9_1();
		String beginWord="hit",endWord="cog";
		List<String> wordList=new ArrayList<String>();
		wordList.add("hot");
		wordList.add("dot");
		wordList.add("dog");
		wordList.add("lot");
		wordList.add("log");
		wordList.add("cog");
		List<String>str1=a.findLadders(beginWord, endWord, wordList);
		for(String tt:str1) {
			System.out.println(tt);
		}
	}*/
}


```





## çŸ©é˜µä¸­çš„è·¯å¾„
é¢˜ç›® : è¯·è®¾è®¡è¯·è®¾è®¡ä¸€ä¸ªå‡½æ•°ç”¨æ¥åˆ¤æ–­åœ¨çŸ©é˜µä¸­æ˜¯å¦å­˜åœ¨ä¸€æ¡åŒ…å«æŸå­—ç¬¦ä¸²æ‰€æœ‰å­—ç¬¦çš„è·¯å¾„ï¼Œè·¯å¾„å¯ä»¥ä»çŸ©é˜µä¸­çš„ä»»æ„ä¸€ä¸ªä½ç½®å¼€å§‹ï¼Œæ¯éƒ¨å¯ä»¥åœ¨çŸ©é˜µä¸­çš„ä¸Šä¸‹å·¦å³å››ä¸ªæ–¹å‘ç§»åŠ¨ï¼Œå¦‚æœä¸€æ¡è·¯å¾„å·²ç»ç»è¿‡äº†çŸ©é˜µçš„æŸä¸€ä¸ªæ ¼å­ï¼Œé‚£ä¹ˆè¯¥è·¯å¾„å°±ä¸èƒ½å¤Ÿå†æ¬¡è¿›å…¥è¯¥æ ¼å­ã€‚

å¯¹äºæ¯ä¸ªæ ¼å­å‡æœ‰å¯èƒ½æ˜¯èµ·å§‹èŠ‚ç‚¹ï¼Œå¹¶ä¸”æ¯ä¸ªè·¯å¾„å’Œå…¶ä»–è·¯å¾„æ²¡æœ‰å¤ªå¤šå¯åˆ©ç”¨å…³ç³»ï¼Œæ‰€ä»¥è¦è¿›è¡Œæ‰€æœ‰çš„æ ¼å­ä½œä¸ºèµ·å§‹ç»“ç‚¹æ¥åˆ¤æ–­ã€‚
ç”±äºè¦è¿›è¡Œæ–¹å‘å®šä½ï¼Œåƒè¿·å®«ä¸€æ ·è¿›è¡Œé€’å½’å›ç¼©ã€‚

```java 
public class Main {
	public static boolean process(char[][] matrix, char[] str) {
		if (matrix == null || matrix.length == 0 || matrix[0].length == 0 || str.length == 0) {
			return false;
		}
		int rows = matrix.length;
		int line = matrix[0].length;
		// ç”¨äºè®°å½•æ˜¯å¦èµ°è¿‡è¯¥è·¯å¾„
		boolean[][] isVisited = new boolean[rows][line];
		int pathLen = 0;
		// å¯¹äºæ¯ä¸€ä¸ªå…ƒç´ è¿›è¡Œèµ·å§‹çš„åˆ¤æ–­
		for (int i = 0; i < rows; i++) {
			for (int j = 0; j < line; j++) {
				if (hasSuccessPath(matrix, i, j, str, 0, isVisited)) {
					return true;
				}
			}
		}
		return false;
	}

	/**
	 * @param matrix    å…ƒç´ çŸ©é˜µ
	 * @param row       åˆ¤æ–­matrixä¸­è¡Œä½ç½®å…ƒç´ 
	 * @param line      åˆ¤æ–­matrixä¸­åˆ—ä½ç½®å…ƒç´ 
	 * @param str       å¯»æ‰¾çš„ç›®æ ‡ä¸²
	 * @param index     ç›®æ ‡ä¸²çš„ç¬¬å‡ ä¸ªå…ƒç´ 
	 * @param isVisited è®°å½•æ˜¯å¦èµ°è¿‡çš„è¡¨æ ¼
	 * @return			è¯¥è·¯å¾„æ˜¯å¦å¯è¡Œ
	 */
	private static boolean hasSuccessPath(char[][] matrix, int row, int line, char[] str, int index,
			boolean[][] isVisited) {
		// æ­¤æ—¶è¯´æ˜indexå‰é¢çš„æ‰€æœ‰å…ƒç´ å‡å·²ç»åŒ¹é…æˆåŠŸ
		if (str.length == index) {
			return true;
		}
		// ä¸ç¬¦åˆæ¡ä»¶è¿”å›ä¸é€šè¡Œ
		if (row >= matrix.length || line == matrix[0].length || row < 0 || line < 0 || isVisited[row][line]
				|| matrix[row][line] != str[index]) {
			return false;
		}
		++index;
		// æ ‡è®°è¯¥è·¯å·²ç»èµ°è¿‡
		isVisited[row][line] = true;
		// å‘å››ä¸ªæ–¹å‘å‡è¿›è¡Œå°è¯•
		boolean hasPath = hasSuccessPath(matrix, row + 1, line, str, index, isVisited)
				|| hasSuccessPath(matrix, row, line + 1, str, index, isVisited)
				|| hasSuccessPath(matrix, row - 1, line, str, index, isVisited)
				|| hasSuccessPath(matrix, row, line - 1, str, index, isVisited);
		// è‹¥æ²¡æœ‰æˆåŠŸå°†isVisitedå€¼è¿›è¡Œè¿˜åŸé¿å…å½±å“åç»­åˆ¤æ–­ï¼Œè‹¥ä¸ºçœŸé‚£ä¹ˆåœ¨è¯¥æ­¥éª¤ç»“æŸæ—¶å¾ªç¯ï¼Œä¸ä¼šå¯¹åæ¥çš„äº§ç”Ÿå½±å“
		if (!hasPath) {
			isVisited[row][line] = false;
		}
		return hasPath;
	}
}

```


## æœºå™¨äººçš„è¿åŠ¨èŒƒå›´
é¢˜ç›®ï¼š åœ°ä¸Šæœ‰ä¸€ä¸ªMè¡ŒNåˆ—çš„æ–¹æ ¼ï¼Œä¸€ä¸ªæœºå™¨äººä»åæ ‡( 0, 0 )çš„ä¸ªæ ¼å­å¼€å§‹ç§»åŠ¨ï¼Œä»–æ¯æ¬¡å¯å‘å·¦å³ä¸Šä¸‹å››ä¸ªæ–¹å‘ç§»åŠ¨ä¸€ä¸ªæ ¼å­ï¼Œä½†ä¸èƒ½è¿›å…¥è¡Œåæ ‡å’Œåˆ—åæ ‡çš„å„ä¸ªä½æ•°ä¹‹å’Œå¤§äºKå€¼ï¼Œå¹¶ä¸”åˆ°è¾¾æ¯ä¸ªæ ¼å­ä¹‹å‰å¿…å®šå¯ä»¥é€šè¿‡å…¶ä»–æ ¼å­åˆ°è¾¾è¯¥æ ¼å­ã€‚ä¾‹å¦‚ï¼š k=18,æœºå™¨äººå¯ä»¥è¿›å…¥ï¼ˆ35ï¼Œ37ï¼‰ï¼Œ3+5+3+7=18<=18èƒ½è¿›å…¥,ï¼ˆ36ï¼Œ38ï¼‰ï¼Œ3+6+3+8=20>18,ä¸èƒ½è¿›å…¥ã€‚

è¯¥é¢˜ç›®å®é™…ä¸Šå’Œä¸Šä¸€é¢˜æœ¬è´¨ç›¸åŒï¼Œä»…ä»…æ˜¯æ”¹å˜äº†é™åˆ¶æ¡ä»¶å’Œèµ·å§‹èŒƒå›´
è¯¥é¢˜çš„èµ·å§‹èŒƒå›´å·²ç»ç»™å®šï¼ˆ0ï¼Œ0ï¼‰ï¼Œåªéœ€è¦å‘ä¸Šä¸‹å·¦å³è¿›è¡Œé€’å½’å›æº¯ï¼Œå¦å¤–åœ¨é€’å½’æ—¶è¦è®°å½•è·¯å¾„ä¸ªæ•°ã€‚

```
public class Main {
	public static int process(int k, int rows, int lines) {
		if (k < 0 || rows <= 0 || lines <= 0) {
			return 0;
		}
		boolean[][] isVisited = new boolean[rows][lines];
		return movingCount(k, rows, lines, 0, 0, isVisited);

	}

	/**
	 * @param k         é™åˆ¶æ¡ä»¶k
	 * @param rows      çŸ©é˜µæ€»è¡Œæ•°
	 * @param lines     çŸ©é˜µæ€»åˆ—æ•°
	 * @param i         å½“å‰å…ƒç´ è¡Œæ•°é‡
	 * @param j         å½“å‰å…ƒç´ åˆ—æ•°é‡
	 * @param isVisited æ˜¯å¦å·²ç»è®¿é—®è¿‡
	 * @return å¯ä»¥é€‰æ‹©çš„ä¸ªæ•°
	 */
	private static int movingCount(int k, int rows, int lines, int i, int j, boolean[][] isVisited) {
		int count = 0;
		// å¦‚æœæ»¡è¶³é™åˆ¶æ¡ä»¶å°±è¿›è¡Œæ ‡è®°ï¼Œå¹¶ä»¥æ­¤ä¸ºå±•å¼€è¿›è¡Œé€’å½’æœç´¢
		if (canVisited(k, rows, lines, i, j, isVisited)) {
			isVisited[rows][lines] = true;
			count += movingCount(k, rows, lines, i + 1, j, isVisited)
					+ movingCount(k, rows, lines, i - 1, j, isVisited)
					+ movingCount(k, rows, lines, i, j + 1, isVisited)
					+ movingCount(k, rows, lines, i, j - 1, isVisited);
		}
		return count;
	}

	private static boolean canVisited(int k, int rows, int lines, int i, int j, boolean[][] isVisited) {
		if (i >= 0 && i < rows && j >= 0 && j < lines && !isVisited[i][j] && getDigitSum(i) + getDigitSum(j) <= k) {
			return true;
		}
		return false;
	}

	// è®¡ç®—numå’Œå„ä½æ•°å­—ä¹‹å’Œ
	private static int getDigitSum(int num) {
		int sum = 0;
		while (num > 0) {// ä¸èƒ½ = 0
			sum += num % 10;
			num /= 10;
		}
		return sum;
	}
}

```

## æœºå™¨äººåˆ°è¾¾æŸä¸ªä½ç½®çš„è·¯å¾„æ•°é‡

## æœºå™¨äººè¿åŠ¨é—®é¢˜

é¢˜ç›®ï¼š
**å‚æ•°Nï¼š1~Nä¸ªä½ç½®
å‚æ•°Sï¼šåˆå§‹ä½ç½®
å‚æ•°Eï¼šç»ˆç‚¹ä½ç½®
å‚æ•°Kï¼šè¦èµ°çš„æ­¥æ•°
æœºå™¨äººåœ¨Eä½ç½®è¦ç”¨Kæ­¥èµ°åˆ°Sæœ‰å‡ ç§é€‰æ‹©**

**é€’å½’å½¢å¼**

```
public class Main {
    /**
     * @param N å‚æ•°Nï¼š1~Nä¸ªä½ç½®
     * @param E å½“å‰ä½ç½®
     * @param S ç»ˆç‚¹ä½ç½®
     * @param K è¦èµ°çš„æ­¥æ•°
     * @return ç§ç±»
     */
    public static int process(int N, int E, int S, int K) {
        if (K == 0) return E == S ? 1 : 0;
        int left = 0, right = 0;
        if (E != 1) left = process(N, E - 1, S, K - 1);// ä¸ç­‰äº1å°±å¯ä»¥å‘å·¦èµ°
        if (E != N) right = process(N, E + 1, S, K - 1);// ä¸ç­‰äºNå°±å¯ä»¥å‘å³èµ°
        return left + right;
    }
}

```

**è®°å¿†æœç´¢åŠ¨æ€è§„åˆ’**

```
public class Main {
    /**
     * @param N å‚æ•°Nï¼š1~Nä¸ªä½ç½®
     * @param E å½“å‰ä½ç½®
     * @param S ç»ˆç‚¹ä½ç½®
     * @param K è¦èµ°çš„æ­¥æ•°
     * @return ç§ç±»
     */
    public static int function(int N, int E, int S, int K) {
        dp = new int[N + 1][K + 1];
        for (int[] ints : dp) {
            Arrays.fill(ints, -1);// æ ‡è®°-1è¡¨ç¤ºæœªè®¡ç®—è¿‡
        }
        process(N, E, S, K);// å¡«å……dp
        return dp[E][K];
    }
    public static int[][] dp;
    private static int process(int N, int E, int S, int K) {
        if (K == 0) return E == S ? 1 : 0;
        if (dp[E][K] != -1) return dp[E][K];// å·²å­˜åœ¨å°±ç›´æ¥è¿”å›
        int left = 0, right = 0;
        if (E != 1) left = process(N, E - 1, S, K - 1);// ä¸ç­‰äº1å°±å¯ä»¥å‘å·¦èµ°
        if (E != N) right = process(N, E + 1, S, K - 1);// ä¸ç­‰äºNå°±å¯ä»¥å‘å³èµ°
        dp[E][K] = left + right;// å¡«å……dp
        return dp[E][K];
    }
}

```

**ä¸¥æ ¼è¡¨ç»“æ„åŠ¨æ€è§„åˆ’**

![image-20211214220219521](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211214220219521.png)



- ç¡®å®šå˜é‡ä»¥åŠå˜é‡èŒƒå›´
- æ ‡å‡ºç›®æ ‡ä½ç½®ï¼Œä¸ºè¿”å›ç»“æœ
- é€’å½’ç»“æŸæ¡ä»¶ï¼ˆæœ€ç»ˆç»“æœï¼‰
- ç¡®å®šä¾èµ–å…³ç³»
- æ ¹æ®ä¾èµ–æŒ‰ç…§åˆé€‚å¡«è¡¥çš„é¡ºåºå¡«è¡¥

```
public class Main {
    public static int process(int N, int E, int S, int K) {
        int[][] dp = new int[K + 1][N + 1];// é€’å½’å˜é‡ä¸ªæ•°å’Œå˜åŒ–èŒƒå›´å†³å®šäº†dpçš„ç»´åº¦å’Œå¤§å°
        dp[0][S] = 1;// é€’å½’çš„ç»“æŸæ¡ä»¶æ—¶dpçš„å‰ææ¡ä»¶
        for (int k = 1; k <= K; k++) {
            for (int e = 1; e <= N; e++) {
                // é€’å½’å†…å®¹å†³å®šdpçš„æ•°æ®å¡«å……é“¾æ¥ï¼Œè¿›è€Œç¡®å®šå¡«å……é¡ºåº
                if (e == 1) dp[k][e] = dp[k - 1][e + 1];
                else if (e == N) dp[k][e] = dp[k - 1][e - 1];
                else dp[k][e] = dp[k - 1][e + 1] + dp[k - 1][e - 1];
            }
        }
        // è¿”å›ç»“æœ
        return dp[K][E];
    }
}

```



åŠ ä¸ªäºŒç»´æ•°ç»„è®°å½•ä½ç½®çš„ç»“æœï¼Œè®°å¿†åŒ–æœç´¢çš„ä¼˜åŒ–

![image-20211214091329206](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211214091329206.png)



![image-20211214091359467](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211214091359467.png)

æ”¹ä¸ºåŠ¨æ€è§„åˆ’çš„ç‰ˆæœ¬ï¼š

â€‹	äºŒç»´æ•°ç»„ï¼Œè¡Œä»£è¡¨åœ¨å“ªä¸ªä½ç½®ï¼Œåˆ—ä»£è¡¨è¯¥ä½ç½®è¿˜æœ‰å‡ éƒ¨å¯ä»¥èµ°ã€‚
â€‹	é¦–å…ˆåˆå§‹åŒ–ç¬¬ä¸€è¡Œï¼Œä¹Ÿå°±æ˜¯basecaseï¼Œç„¶ååˆ†æä¸‹ä¸€ä¸ªä½ç½®ã€‚



![image-20211214092524034](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211214092524034.png)





## é£æ£‹ç›˜

é—®é¢˜ï¼š**åœ¨åƒæ£‹ç›˜ä¸Šç»™å®šèµ·å§‹ä½ç½®é—®ç”¨Kæ­¥ä»èµ·å§‹ä½ç½®åˆ°ï¼ˆ1ï¼Œ1ï¼‰æœ‰å‡ ç§é€‰æ‹©**

**é€’å½’å®ç°**

```
public class Main {
    public static int process(int x, int y, int K) {
        if (x < 1 || x > 10 || y < 1 || y > 9) return 0;// å‡ºç•Œ
        if (K == 0) return (x == 1 && y == 1) ? 1 : 0;// æ­¥æ•°ç»“æŸï¼Œæ˜¯å¦åˆ°è¾¾ä½ç½®
        // å‘å…«æ–¹æœç´¢
        return process(x - 1, y - 2, K - 1) +
                process(x - 1, y + 2, K - 1) +
                process(x + 1, y - 2, K - 1) +
                process(x + 1, y + 2, K - 1) +
                process(x - 2, y + 1, K - 1) +
                process(x - 2, y - 1, K - 1) +
                process(x + 2, y - 1, K - 1) +
                process(x + 2, y + 1, K - 1);

    }
}

```

**ä¸¥æ ¼è¡¨ç»“æ„**

```
public class Main {
    public static int[][][] dp;
    public static int process(int x, int y, int K) {
        dp = new int[10 + 1][9 + 1][K + 1];// é€’å½’å˜é‡ä»¥åŠèŒƒå›´ ä¸‰ç»´åˆ†åˆ«æ˜¯ xåæ ‡ã€yåæ ‡ã€èµ°äº†å‡ æ­¥
        dp[1][1][0] = 1;// é€’å½’ç»“æŸæ¡ä»¶ èµ·å§‹ä½ç½®ï¼Œèµ°0æ­¥åˆ°1,1çš„æ–¹å¼æœ‰ä¸€ç§
        // é€’å½’çš„æ„è¯†æ˜¯ï¼Œèµ°äº†kæ­¥åˆ°è¾¾i,jä½ç½®çš„æ–¹å¼æœ‰å‡ ç§
        for (int k = 1; k <= K; k++) {// æ­¥æ•° 
            for (int i = 1; i <= 10; i++) {// æ¨ªåæ ‡
                for (int j = 1; j <= 9; j++) { // çºµåæ ‡
                    dp[i][j][k] += getValue(i - 1, j + 2, k - 1);
                    dp[i][j][k] += getValue(i - 1, j - 2, k - 1);
                    dp[i][j][k] += getValue(i + 1, j + 2, k - 1);
                    dp[i][j][k] += getValue(i + 1, j - 2, k - 1);
                    dp[i][j][k] += getValue(i + 2, j - 1, k - 1);
                    dp[i][j][k] += getValue(i + 2, j + 1, k - 1);
                    dp[i][j][k] += getValue(i - 2, j - 1, k - 1);
                    dp[i][j][k] += getValue(i - 2, j + 1, k - 1);
                }
            }
        }
        return dp[x][y][K];
    }

    private static int getValue(int x, int y, int K) {
        if (x < 1 || x > 10 || y < 1 || y > 9) return 0;// å‡ºç•Œ
        return dp[x][y][K];
    }
}

```



## æ•´æ•°åˆ†è£‚

![image-20211214220703594](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211214220703594.png)

**æš´åŠ›é€’å½’**

```
public class Main {
    public static int process(int res) {
        if (res < 1) return 0;
        return process(1, res);
    }

    private static int process(int pre, int curRes) {// preå‰é©±å€¼ï¼Œä¿è¯åç»­åˆ†è£‚ä¸å°äºpre
        if (curRes == 0) return 1;
        if (pre > curRes) return 0;
        int ways = 0;
        // ä»preå‘curReså°è¯•
        for (int rest = pre; rest <= curRes; rest++) {
            ways += process(rest, curRes - rest);
        }
        return ways;
    }

}

```

**è®°å¿†åŒ–æœç´¢**

```
public class Main {
    public static int[][] dp;
    public static int process(int res) {
        if (res < 1) return 0;
        dp=new int[res+1][res+1];
        for (int[]i:dp){
            Arrays.fill(i,-1);
        }
        return process(1, res);
    }

    private static int process(int pre, int curRes) {// preå‰é©±å€¼ï¼Œä¿è¯åç»­åˆ†è£‚ä¸å°äºpre
        if (dp[pre][curRes]!=-1)return dp[pre][curRes];
        if (curRes == 0) {
            dp[pre][curRes]=1;
            return 1;
        }
        if (pre > curRes) {
            dp[pre][curRes]=0;
            return 0;
        }
        int ways = 0;
        for (int rest = pre; rest <= curRes; rest++) {
            ways += process(rest, curRes - rest);
        }
        dp[pre][curRes]=ways;
        return ways;
    }

}

```

**åŠ¨æ€è§„åˆ’**

```
public class Main {
    public static int process(int res) {
        if (res < 1) return 0;
        int[][] dp = new int[res + 1][res + 1];
        for (int i = 0; i <= res; i++) {// é€’å½’ç»“æŸæ¡ä»¶
            dp[i][0] = 1;
        }
        for (int pre = res; pre >= 1; pre--) {// å‰é©±
            for (int curRes = pre; curRes <= res; curRes++) {// ä¿è¯å‰©ä½™å€¼ä¸å°äºå‰é©±
                for (int i = pre; i <= curRes; i++) {// æ‰€æœ‰æƒ…å†µç´¯åŠ 
                    dp[pre][curRes] += dp[i][curRes - i];
                }
            }
        }
        // è¿”å›å‰é©±1ï¼Œåˆæˆresçš„ç»“æœ
        return dp[1][res];
    }
}

```

**æ–œç‡ä¼˜åŒ–**

- æšä¸¾è¡Œä¸ºæ¨å¯¼

![image-20211214220817010](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211214220817010.png)



```
public class Main {
    public static int process(int res) {
        if (res < 1) return 0;
        int[][] dp = new int[res + 1][res + 1];
        for (int i = 0; i <= res; i++) {// é€’å½’ç»“æŸæ¡ä»¶
            dp[i][0] = 1;
        }
        dp[res][res]=1;// æ ¹æ®ä¸‹ä¸€å±‚é€€å‡ºç»“æœï¼Œæ‰€ä»¥è¦å…ˆå¯¹æœ€åä¸€å±‚å°±è¡Œæ·»å€¼
        for (int pre = res-1; pre >= 1; pre--) {// å‰é©±
            for (int curRes = pre ; curRes <= res; curRes++) {// ä¿è¯å‰©ä½™å€¼ä¸å°äºå‰é©±
                dp[pre][curRes]=dp[pre+1][curRes]+dp[pre][curRes-pre];// åˆ†æçš„å…³ç³»
            }
        }
        // è¿”å›å‰é©±1ï¼Œåˆæˆresçš„ç»“æœ
        return dp[1][res];
    }
}

```

## æ•°å­—è½¬åŒ–æˆå­—æ¯ï¼ˆæ ‘å½¢ï¼‰

![image-20211214220923610](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211214220923610.png)

**é€’å½’å®ç°**

- æ—¶é—´å¤æ‚åº¦ä¸ºæŒ‡æ•°çº§

```
public class Main {
	public static int process(String s, int i) {
		// è‹¥ä¸€ä¸ªä¸å‰©æˆ–è¿™è¿˜å‰©ä¸€ä¸ªï¼Œå°±è¿”å›1ï¼ˆä¿è¯å‰©çš„ä¸ä¸º0ï¼‰ï¼Œè‹¥æ­¤æ—¶ä¸è¿”å›ï¼Œè¯´æ˜è¿˜å‰©è‡³å°‘ä¸¤ä¸ªå­—ç¬¦
		if (s.length() == i || (s.length() == i + 1 && s.charAt(i) != '0'))
			return 1;
		if (s.charAt(i) == '0')
			return 0;// æ²¡æœ‰0å¼€å¤´åŒ¹é…çš„å…ƒç´ 
		int res = process(s, i + 1);// ä¸€ä¸ªå­—ç¬¦çš„
		if (Integer.parseInt(s.substring(i, i + 2)) <= 26)
			res += process(s, i + 2);// è‹¥æ»¡è¶³åŒ¹é…æ¡ä»¶ï¼Œè¿›è¡Œä¸¤ä¸ªå­—ç¬¦çš„
		return res;// ç´¯åŠ çš„ç»“æœè¿”å›å°±è¡Œäº†
	}
}

```

**åŠ¨æ€è§„åˆ’**

- å˜å‚æ•°ä¸ªæ•°ä¸ºä¸€ä¸ªï¼Œè¡¨ç¤ºå½“å‰å€¼ä½œä¸ºè½¬åŒ–å­—æ¯çš„å¼€å§‹æ•°å­—ï¼Œç„¶åå‘ååˆ¤æ–­å­˜åœ¨å‡ ç§æƒ…å†µã€‚

- æ—¶é—´å¤æ‚åº¦ä¸ºO(N)

  ```
  public class Main {
  	public static int process(String string) {
  		if (string == null || string.length() == 0) {
  			return 0;
  		}
  		if (string.length() == 1) {
  			return string == "0" ? 0 : 1;
  		}
  		char[] arr = string.toCharArray();
  		int N = arr.length;
  		int[] res = new int[arr.length + 1];
  		res[N] = 1;
  		res[N - 1] = arr[N - 1] == '0' ? 0 : 1;
  		for (int i = N - 2; i >= 0; --i) {
  			if (arr[i] == '0') {
  				res[i] = 0;
  			} else {
  				if (arr[i] > '2' || (arr[i] == '2' && arr[i] > '6')) {
  					res[i] = res[i + 1];
  				} else {
  					res[i] = res[i + 1] + res[i + 2];
  				}
  			}
  		}
  		return res[0];
  	}
  }
  
  ```




## æ•°å­—è½¬ä¸ºå­—ç¬¦ä¸²

![image-20211228093016742](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211228093016742.png)





## [ å­—ç¬¦ä¸²çš„å…¨æ’åˆ—](https://leetcode-cn.com/problems/zi-fu-chuan-de-pai-lie-lcof/)


å…¨æ’åˆ—ä¸é‡å¤

visitè®°å½•è¿™ä¸ªä½ç½®æ˜¯å¦å·²ç»è¢«å½“å‰å­—æ¯è¯•è¿‡å…¨æ’åˆ—è¯•è¿‡ï¼Œæ¯æ¬¡éƒ½é‡æ–°åˆå§‹åŒ–visitï¼Œè¿™æ ·å¯ä»¥åœ¨åŒä¸€ä¸ªä½ç½®çš„ä¸‹ä¸€ä¸ªä½ç½®å»è·Ÿåˆ«çš„ä½ç½®äº¤æ¢çš„æ—¶å€™çœ‹æ˜¯ä¸æ˜¯é‡å¤è¿‡ã€‚



### å›æº¯

```java
import java.lang.reflect.Type;
import java.util.ArrayList;
import java.util.List;
import java.util.PriorityQueue;

/**
 * @author chilcyWind
 * @Description
 * @Author Yang
 * @Date 2022/3/12
 * @Version 1.0
 **/
class Solution {
    public List<String> list = new ArrayList<>();
    public String[] permutation(String s) {
        char[] chars = s.toCharArray();
        process(chars, 0);
        int size = list.size();
        String[] recArr = new String[size];
        for (int i = 0; i < size; i++) {
            recArr[i] = list.get(i);
        }
        return recArr;

    }

    private void process(char[] chars, int i) {
        if (i == chars.length) {// ç»“æœ
            list.add(new String(chars));
            return;
        }
        boolean[] isVisited = new boolean[26];// é»˜è®¤åªæœ‰å°å†™å­—æ¯
        for (int j = i; j < chars.length; j++) {// ä¸€å®šæ˜¯ä»iå¼€å§‹ï¼Œä¸èƒ½æ˜¯i+1ï¼Œå› ä¸ºä¸äº¤æ¢ä¹Ÿæ˜¯ä¸€ç§æƒ…å†µ
            if (!isVisited[chars[j] - 'a']) {// æ˜¯å¦é‡å¤
                isVisited[chars[j] - 'a'] = true;
                swap(chars, i, j);// äº¤æ¢
                process(chars, i + 1);// é€’å½’
                swap(chars, i, j);// æ¢å¤
            }
        }
    }

    private static void swap(char[] chars, int i, int j) {
        char c = chars[i];
        chars[i] = chars[j];
        chars[j] = c;
    }
}

```

```java
class Solution {
    List<String> rec;
    boolean[] vis;

    public String[] permutation(String s) {
        int n = s.length();
        rec = new ArrayList<String>();
        vis = new boolean[n];
        char[] arr = s.toCharArray();
        Arrays.sort(arr);
        StringBuffer perm = new StringBuffer();
        backtrack(arr, 0, n, perm);
        int size = rec.size();
        String[] recArr = new String[size];
        for (int i = 0; i < size; i++) {
            recArr[i] = rec.get(i);
        }
        return recArr;
    }

    public void backtrack(char[] arr, int i, int n, StringBuffer perm) {
        if (i == n) {
            rec.add(perm.toString());
            return;
        }
        for (int j = 0; j < n; j++) {
            if (vis[j] || (j > 0 && !vis[j - 1] && arr[j - 1] == arr[j])) {
                continue;
            }
            vis[j] = true;
            perm.append(arr[j]);
            backtrack(arr, i + 1, n, perm);
            perm.deleteCharAt(perm.length() - 1);
            vis[j] = false;
        }
    }
}


```





### ä¸‹ä¸€ä¸ªæ’åˆ—

[31. ä¸‹ä¸€ä¸ªæ’åˆ—çš„å®˜æ–¹é¢˜è§£](https://leetcode-cn.com/problems/next-permutation/solution/xia-yi-ge-pai-lie-by-leetcode-solution/)

```
class Solution {
    public String[] permutation(String s) {
        List<String> ret = new ArrayList<String>();
        char[] arr = s.toCharArray();
        Arrays.sort(arr);
        do {
            ret.add(new String(arr));
        } while (nextPermutation(arr));
        int size = ret.size();
        String[] retArr = new String[size];
        for (int i = 0; i < size; i++) {
            retArr[i] = ret.get(i);
        }
        return retArr;
    }

    public boolean nextPermutation(char[] arr) {
        int i = arr.length - 2;
        while (i >= 0 && arr[i] >= arr[i + 1]) {//ä»åå¾€å‰å¯»æ‰¾ä¸€ä¸ªé€†åºæ’åˆ—çš„abï¼ˆa<bï¼‰ï¼Œæ­¤æ—¶iä½äºb
            i--;
        }
        if (i < 0) {
            return false;//è¯´æ˜å·²ç»æ˜¯æœ€å¤§çš„å­—ç¬¦ä¸²äº†ï¼Œæ— æ³•ç»§ç»­æ‰¾ä¸‹ä¸€ä¸ªå¤§ç‚¹çš„å­—å…¸åº
        }
        int j = arr.length - 1;
        while (j >= 0 && arr[i] >= arr[j]) {//ä»åå¾€å‰æ‰¾ç¬¬ä¸€ä¸ªæ¯”iå¤§çš„æœ€å°å€¼ï¼Œiåé¢åº”è¯¥éƒ½æ˜¯ä»å¤§åˆ°å°æ’åˆ—äº†ï¼Œç›¸å½“äºæ‰¾åˆ°çš„æ˜¯æ¯”iå¤§çš„æœ€å°çš„
            j--;
        }
        swap(arr, i, j);//äº¤æ¢è¿™ä¿©ä½ç½®ï¼Œäº¤æ¢ååº”è¯¥è¿˜æ˜¯æœ‰åºçš„ï¼ˆå€’å™æˆ54321ï¼‰ï¼Œå› ä¸ºjå‰é¢çš„æ¯”iå¤§ï¼Œjåé¢çš„æ¯”iå°ã€‚å› ä¸ºæ˜¯é€†åºï¼Œè‚¯å®šèƒ½åœ¨iåé¢æ‰¾ä¸€ä¸ªè¿™æ ·çš„j
        reverse(arr, i + 1);//ä»i+1ï¼ˆåŒ…å«ï¼‰ä½ç½®å¼€å§‹ï¼Œå€’å™ï¼Œä¹Ÿå°±æ˜¯54321å˜ä¸º12345.
        return true;
    }

    public void swap(char[] arr, int i, int j) {
        char temp = arr[i];
        arr[i] = arr[j];
        arr[j] = temp;
    }

    public void reverse(char[] arr, int start) {
        int left = start, right = arr.length - 1;
        while (left < right) {
            swap(arr, left, right);
            left++;
            right--;
        }
    }
}

```









## å­—ç¬¦ä¸²çš„å…¨æ’åˆ—

![image-20211228093104568](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211228093104568.png)

1. æˆ‘ä»¬é€šå¸¸éƒ½æ€è·¯éƒ½æ˜¯å°†æ‰€æœ‰å­—ç¬¦ä¾æ¬¡æ”¾åœ¨æœ€å‰é¢ï¼Œä¾‹å¦‚ABCï¼Œç¬¬ä¸€ä½ä¸ºAï¼ŒB,Cï¼Œç„¶ååˆ¤æ–­ç¬¬äºŒä½ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¦‚ä½•åœ¨å­—ç¬¦ä¸²ä¸­æ ‡è®°è¯¥å­—ç¬¦å·²ç»è¢«æˆ‘ä»¬å®‰æ’åœ¨å‰é¢äº†ï¼Ÿ

2. è‹¥æˆ‘ä»¬ä½¿ç”¨ä¸‹æ ‡çš„æ–¹å¼ï¼Œé‚£ä¹ˆåœ¨æ¯æ¬¡é€‰æ‹©éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªä¸‹æ ‡ï¼Œè¿™æ ·ä¼šå¾ˆä¹±ã€‚

3. äºæ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†æ¬²æ”¾åœ¨å‰é¢çš„å­—ç¬¦å°±ç›´æ¥æ”¾åœ¨å‰é¢ï¼ˆå°†å­—ç¬¦ä¸€æ¬¡å’Œåé¢çš„äº¤æ¢ï¼‰ï¼Œç”¨ä¸€ä¸ªä¸‹æ ‡æŒ‡å¼•æˆ‘ä»¬å‰é¢å·²ç»å®šäº†å¤šå°‘çš„å…ƒç´ ã€‚

4. ä½†æ˜¯è‹¥æˆ‘ä»¬äº¤æ¢ååœ¨åç»­è°ƒç”¨æ—¶ï¼Œæ•°æ®é¡ºåºå·²ç»æ‰“ä¹±ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šé€ æˆé‡å¤æƒ…å†µï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨æ¯æ¬¡è¿è¡Œåå†å°†æ•°æ®äº¤æ¢å˜æˆåŸæ¥ä½ç½®ã€‚

5. ä½†æ˜¯å½“æ•°æ®æœ‰é‡å¤å­—ç¬¦æ—¶ï¼Œä¼šå‡ºç°é‡å¤çš„å…¨æ’åˆ—ï¼Œè¿™æ˜¯æˆ‘ä»¬å°±è¦åˆ¤æ–­äº¤æ¢çš„å­—ç¬¦æ˜¯å¦å’Œä¹‹å‰äº¤æ¢çš„ç›¸åŒï¼Œè‹¥ç›¸åŒï¼Œå°±ä¸ç”¨äº¤æ¢

   ```java
   class Main {
   	public static List<String> list = new ArrayList<>();
   
   	public static void process(String string) {
   		char[] chars = string.toCharArray();
   		process(chars, 0);
   	}
   
   	private static void process(char[] chars, int i) {
   		if (i == chars.length) {// ç»“æœ
   			list.add(new String(chars));
   			return;
   		}
   		boolean[] isVisited = new boolean[26];// é»˜è®¤åªæœ‰å¤§å†™å­—æ¯
   		for (int j = i; j < chars.length; j++) {// ä¸€å®šæ˜¯ä»iå¼€å§‹ï¼Œä¸èƒ½æ˜¯i+1ï¼Œå› ä¸ºä¸äº¤æ¢ä¹Ÿæ˜¯ä¸€ç§æƒ…å†µ
   			if (!isVisited[chars[j] - 'A']) {// æ˜¯å¦é‡å¤
   				isVisited[chars[j] - 'A'] = true;
   				swap(chars, i, j);// äº¤æ¢
   				process(chars, i + 1);// é€’å½’
   				swap(chars, i, j);// æ¢å¤
   			}
   		}
   	}
   
   	private static void swap(char[] chars, int i, int j) {
   		char c = chars[i];
   		chars[i] = chars[j];
   		chars[j] = c;
   	}
   }
   ```

   https://leetcode-cn.com/problems/zi-fu-chuan-de-pai-lie-lcof/

   ```
   class Solution {
       List<String> res = new LinkedList<>();
       char[] c;
       public String[] permutation(String s) {
           c = s.toCharArray();
           dfs(0);
           return res.toArray(new String[res.size()]);
       }
       void dfs(int x) {
           if(x == c.length - 1) {
               res.add(String.valueOf(c));      // æ·»åŠ æ’åˆ—æ–¹æ¡ˆ
               return;
           }
           HashSet<Character> set = new HashSet<>();
           for(int i = x; i < c.length; i++) {
               if(set.contains(c[i])) continue; // é‡å¤ï¼Œå› æ­¤å‰ªæ
               set.add(c[i]);
               swap(i, x);                      // äº¤æ¢ï¼Œå°† c[i] å›ºå®šåœ¨ç¬¬ x ä½
               dfs(x + 1);                      // å¼€å¯å›ºå®šç¬¬ x + 1 ä½å­—ç¬¦
               swap(i, x);                      // æ¢å¤äº¤æ¢
           }
       }
       void swap(int a, int b) {
           char tmp = c[a];
           c[a] = c[b];
           c[b] = tmp;
       }
   }
   ```

   



# è´ªå¿ƒç®—æ³•

## [409. æœ€é•¿å›æ–‡ä¸²](https://leetcode-cn.com/problems/longest-palindrome/)

åªå…è®¸æœ‰ä¸€ä¸ªå•ä¸ªå­—ç¬¦ï¼Œå…¶ä½™éƒ½æ˜¯ä¸¤ä¸ª

```java
class Solution {
    public int longestPalindrome(String s) {
        int[] count = new int[128];
        int length = s.length();
        for (int i = 0; i < length; ++i) {
            char c = s.charAt(i);
            count[c]++;
        }

        int ans = 0;
        for (int v: count) {
            ans += v / 2 * 2;
            if (v % 2 == 1 && ans % 2 == 0) {
                ans++;
            }
        }
        return ans;
    }
}

```





## ç»³å­è¦†ç›–é—®é¢˜

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/60e968bcb3e94c07b3d48db38b220c81.png)



#### å®šå³äºŒåˆ†å‘å·¦æŸ¥æ‰¾O(N*logN)

- æœ€ä¸»è¦è¿˜æ˜¯äºŒåˆ†çš„å®ç°ï¼Œ**è¯¦è§æŸ¥æ‰¾æ·±åº¦æ¢ç´¢äºŒåˆ†æŸ¥æ‰¾**

```java
public class Main {
	public static int process(int[] arr, int L) {
		if (arr == null || arr.length == 0 || L <= 0) {
			return 0;
		}
		int res = 1;
		for (int i = 0; i < arr.length; i++) {
			int index = bRNum(arr, i, arr[i] + L);
			res = Math.max(res, index - i + 1);
		}
		return res;
	}
	// æŸ¥æ‰¾arr[L...]å…ƒç´ ä¸­å°äºç­‰äºvalueä¸­æœ€å¤§çš„å…ƒç´ ç´¢å¼•
	private static int bRNum(int[] arr, int L, int value) {
		int R = arr.length - 1;
		while (L < R) {
			// æ³¨æ„medå–å€¼æ–¹æ³•ï¼Œè‹¥æ²¡æœ‰+1å¯èƒ½æ­»å¾ªç¯
			int med = ((R - L + 1) >> 1) + L;
			if (arr[med] == value) {
				return med;
			} else if (arr[med] < value) {
				L = med;// æ³¨æ„è¿™é‡Œä¸+1ï¼Œé˜²æ­¢è·³è¿‡
			} else {
				R = med - 1;
			}
		}
		return L;
	}
}

```



#### æ»‘åŠ¨çª—å£çš„è§£æ³•

```java
ä¸¤ä¸ªå€¼ï¼Œä»å·¦å¾€å³ï¼Œä¸€ä¸ªæ˜¯å¼€å§‹ä½ç½®lï¼Œä¸€ä¸ªæ˜¯å³è¾¹ç•Œrï¼Œä¿è¯arr[r]-arr[l]>=Lï¼Œè®°å½•ä¸‹r-l+1çš„å€¼
```



## å‰åç¼€å·®ç‚¹æœ€å¤§å€¼

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/cacd1046d8a0429a996570d3eccc6007.png)

ä¸€èˆ¬æ€è·¯ï¼šæ•°æ®é¢„å¤„ç†å»ºç«‹ä¸¤ä¸ªä»å·¦å³ä¸¤ç«¯çš„æœ€å€¼æ•°ç»„ï¼Œå†éå†æ±‚è§£ã€‚
æé™è´ªå¿ƒæ€ç»´ï¼šç›´æ¥è·å–æœ€å¤§å€¼å’Œå·¦å³ä¸¤ç«¯çš„å·®å€¼
ä¸¤ä¸ªæœ€å¤§å€¼æ•°ä¸­å®šå­˜åœ¨ä¸€ä¸ªæ•´ä½“çš„æœ€å¤§å€¼ã€‚
åœ¨æ»¡è¶³å°†æœ€å¤§å€¼æ”¾åœ¨ä¸€å·¦ç«¯ï¼Œæ— è®ºæ€ä¹ˆé€‰æ‹©, å³ä¸€åŠçš„æœ€å¤§å€¼ä¸€å®šå¤§äºç­‰äºæœ€å³ç«¯çš„å…ƒç´ ã€‚æ‰€ä»¥å³ä¾§æœ€å€¼æœ€å°åªèƒ½æ˜¯æœ€å³è¾¹çš„å…ƒç´ ã€‚
åœ¨æ»¡è¶³å°†æœ€å¤§å€¼æ”¾åœ¨ä¸€å³ç«¯æ—¶åŒç†ï¼Œåªéœ€è¦è¿™ä¸¤ç§æƒ…å†µä¸‹å–æœ€å€¼å³å¯ã€‚

```java 
public class Test {
    public static int num(int[] arr) {
        if (arr == null || arr.length == 0) return 0;
        int max=arr[0];
        for (int i = 1;i < arr.length; i++){
            max = Math.max( max, arr[i]);
        }
        return Math.max(max-arr[0],max-arr[arr.length-1]);
    }
}
```



å­æ•°ç»„ç´¯è®¡å’Œæœ€å¤§å€¼

## magicæ“ä½œ

![image-20211227234337115](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211227234337115.png)



éœ€è¦å°†å¹³å‡å€¼å¤§çš„é›†åˆé‡Œé¢ï¼Œæ‹¿å‡ºå»ä»‹äºä¸¤ä¸ªå¹³å‡å€¼çš„å€¼çš„æ•°å­—åˆ°å¹³å‡å€¼å°çš„é›†åˆé‡Œé¢ã€‚
å°½é‡æ‹¿é è¿‘å¹³å‡å€¼å°çš„æ•°å­—ç§»åŠ¨ã€‚ä¹Ÿå°±æ˜¯æ‹¿æœ€å°çš„

![image-20211227234858672](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211227234858672.png)
![image-20211227235542296](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211227235542296.png)

![image-20211227235737178](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211227235737178.png)


å› ä¸ºmagicæ“ä½œä¼šå°†ä¸¤ä¸ªé›†åˆçš„å¹³å‡å€¼éƒ½å˜å¤§ï¼Œæ‰€ä»¥æ¯ä¸ªå¯ä»¥æ“ä½œæ•°ä¹‹å‰çš„æ•°å¯ä»¥ä¸ç”¨åœ¨ä¸‹ä¸€è½®é€‰æ•°é‡Œé¢è€ƒè™‘äº†ã€‚

## æ‹¬å·æ·±åº¦

![image-20211228000346795](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211228000346795.png)



é‡åˆ°ï¼ˆ count++ï¼Œé‡åˆ°ï¼‰count--ï¼Œcountæœ€å¤§çš„å€¼å°±æ˜¯æ·±åº¦ã€‚



## è¶…çº§æ´—è¡£æœº

https://leetcode-cn.com/problems/super-washing-machines/



![image-20211229085418463](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211229085418463.png)



![90f2d42ebf6e4514aa4ea839f36ec099](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/90f2d42ebf6e4514aa4ea839f36ec099.png)



![image-20211229091620577](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211229091620577.png)



å› ä¸ºæ¯æ¬¡åªèƒ½æ”¾åˆ°ç›¸é‚»çš„ä½ç½®ï¼Œç›¸å½“äºåˆ†æˆä¸¤åŠä»¥åï¼Œæ¯æ¬¡åªèƒ½é€šè¿‡é€‰å®šä½ç½®ä¼ é€ä¸€ä»¶è¡£æœåˆ°å¦ä¸€åŠã€‚

```java
public class Test {
    public static int minPoint(int[] machines) {
        if (machines == null || machines.length == 0) return -1;
        int N = machines.length;
        int allSum = 0;
        for (int i : machines) {
            allSum += i;
        }
        if (allSum % N != 0) return -1;
        int average = allSum / N;
        int leftSum = 0;
        int res = 0;
        for (int i = 0; i < N; i++) {
            int leftRest = leftSum - average * i;
            int rightRest = (allSum - leftSum - machines[i]) - (N - 1 - i) * average;
            if (leftRest < 0 && rightRest < 0) {
                res = Math.max(res, Math.abs(leftRest) + Math.abs(rightRest));
            } else {
                res = Math.max(res, Math.max(Math.abs(leftRest), Math.abs(rightRest)));
            }
            leftSum += machines[i];
        }
        return res;
    }
}

```

## æ‰¾å·¥ä½œ

![image-20220111230320313](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220111230320313.png)



![image-20220111231245062](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220111231245062.png)

```java
public class Test {
    public static int[] process(Job[] jobs, int[] ability) {
        Arrays.sort(jobs, (o1, o2) -> o1.hard != o2.hard ? (o1.hard - o2.hard) : (o2.money - o1.money));
        TreeMap<Integer, Integer> map = new TreeMap<>();
        map.put(jobs[0].hard, jobs[0].money);
        Job j = jobs[0];
        // å°†åŒ hard æƒ…å†µä¸‹ money æœ€å¤šçš„è¿›å…¥map
        for (Job job : jobs) {
            if (job.hard != j.hard && job.money > j.money) {
                j = job;
                map.put(j.hard, j.money);
            }
        }
        int[] ans = new int[ability.length];
        for (int i = 0; i < ability.length; i++) {
            // å°äºæˆ–ç­‰äºability[i]çš„æœ€å¤§é”®å€¼
            Integer key = map.floorKey(ability[i]);
            ans[i] = key != null ? map.get(key) : 0;
        }
        return ans;
    }
    static class Job {
    	int hard;
    	int money;
	}
}

```



**java treemap_Java TreeMap floorKeyï¼ˆï¼‰æ–¹æ³•ä¸ç¤ºä¾‹**

**floorKey()æ–¹æ³•**ç”¨äºè¿”å›å°äºæˆ–ç­‰äºç»™å®šé”®å…ƒç´ (key_ele)çš„æœ€å¤§é”®å…ƒç´ (å¦‚æœå­˜åœ¨)ï¼Œå¦åˆ™ï¼Œå½“ä¸å­˜åœ¨è¯¥é”®å…ƒç´ æ—¶è¿”å›nullã€‚**floorKey()æ–¹æ³•**æ˜¯ä¸€ç§éé™æ€æ–¹æ³•ï¼Œåªèƒ½é€šè¿‡ç±»å¯¹è±¡è®¿é—®ï¼Œå¦‚æœå°è¯•ä½¿ç”¨ç±»åç§°è®¿é—®è¯¥æ–¹æ³•ï¼Œåˆ™ä¼šæ”¶åˆ°é”™è¯¯æ¶ˆæ¯ã€‚



## å­æ•°ç»„ç´¯è®¡å’Œæœ€å¤§å€¼



![image-20220117094756580](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220117094756580.png)



![image-20220117213014775](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220117213014775.png)

```
public class Test {
    public static int maxLenNum(int[] arr){
        int max=Integer.MIN_VALUE;
        int cur=0;
        for (int i : arr) {
            cur+=i;
            max=Math.max(max,cur);
            cur=Math.max(cur, 0);
        }
        return max;
    }
}

```

## å­çŸ©é˜µç´¯è®¡å’Œæœ€å¤§å€¼(å‹ç¼©æ•°ç»„)

![image-20220117214128825](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220117214128825.png)



![image-20220117214111768](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220117214111768.png)



- å­çŸ©é˜µå¾€å¾€è€ƒè™‘æ˜¯å¦å¯ä»¥è½¬æ¢æˆå­—æ•°ç»„çš„é—®é¢˜ï¼Œå°±æ˜¯å°†å¤šè¡Œè½¬åŒ–æˆä¸€è¡Œæˆ–è€…å¤šåˆ—è½¬åŒ–æˆå¤šåˆ—
- è½¬åŒ–ä¹‹åæ€è€ƒä¸€ç»´æƒ…å†µä¸‹çš„è§£å†³æ€è·¯ï¼Œçœ‹çœ‹æ˜¯å¦èƒ½åº”ç”¨åˆ°çŸ©é˜µä¸­ã€‚
  æ±‚å‡º

0-0è¡Œ 0-1è¡Œ 0-2è¡Œã€‚ã€‚0-nè¡Œï¼Œ1-1è¡Œ1-2è¡Œã€‚ã€‚ã€‚1-nè¡Œ ï¼Œ2-2è¡Œã€‚ã€‚ã€‚ã€‚n-nè¡Œï¼Œå°†è¿™äº›åŒºé—´è¡Œå¯¹åº”åˆ—çš„å€¼åŠ åœ¨ä¸€èµ·æˆä¸ºä¸€è¡Œï¼Œç„¶åç”¨ä¸Šé¢çš„æ–¹æ³•æ±‚å‡ºæœ€å¤§å€¼ï¼Œæœ€ç»ˆçš„æœ€å¤§å€¼å°±æ˜¯å­çŸ©é˜µçš„æœ€å¤§å€¼

è¿™æ˜¯**è¡Œå‹ç¼©çš„æ–¹æ³•**

```java
public class Test {
    public static int maxAreaNum(int[][] arr) {
        if (arr == null || arr.length == 0 || arr[0].length == 0) return 0;
        int max = Integer.MIN_VALUE;
        int cur;
        int[] sumArr;
        for (int i = 0; i != arr.length; i++) {
            sumArr = new int[arr[0].length];
            for (int j = i; j != arr.length; j++) {
                cur = 0;
                for (int k = 0; k != sumArr.length; k++) {
                    sumArr[k] += arr[j][k];
                    cur += sumArr[k];
                    max = Math.max(max, cur);
                    cur = Math.max(cur, 0);
                }
            }
        }
        return max;
    }
}

```

## å®‰è·¯ç¯

![image-20220117233125057](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220117233125057.png)





- ä¸€ä¸ªç®€å•çš„è´ªå¿ƒæ€æƒ³ï¼Œå°†è·¯ç¯å°½é‡å®‰è£…åœ¨éœ€è¦å®‰è£…çš„ç¬¬äºŒä¸ªä½ç½®ã€‚

- ```java
  public class Test {
      public static int minNum(String s) {
          char[] arr = s.toCharArray();
          int minNum = 0;
          int index = 0;
          while (index < arr.length) {
              if (arr[index] == 'X') {
               //ä¸ç‚¹ç¯
                  index++;
              } else {
                   //è¿™ä¸ªä½ç½®éœ€è¦ç‚¹äº®ï¼Œå‰é¢éƒ½æ˜¯äº®çš„ï¼Œå› æ­¤å¯ä»¥æ”¾åœ¨è¿™ä¸ªä½ç½®ï¼Œä¹Ÿå¯ä»¥æ”¾åœ¨è¿™ä¸ªä½ç½®çš„ä¸‹ä¸€ä¸ªã€‚
                  minNum++;
                  if (index + 1 == arr.length) {
                      break;.
                    //ä¸‹ä¸€ä¸ªæ˜¯xï¼Œå°±ç›´æ¥å»ä¸‹ä¸‹ä¸€ä¸ªçœ‹
                  } else if (arr[index + 1] == 'X') {
                      index += 2;
                  } else {
                      //ä¸‹ä¸€ä¸ªä¸æ˜¯xï¼Œç›¸å½“äºæ˜¯...æˆ–è€…..*ï¼Œå°†ç¯æ”¾åœ¨ç¬¬äºŒä¸ªç‚¹ï¼Œç„¶åç›´æ¥å»ä¸‹ä¸‹ä¸‹ä¸ªä½ç½®ï¼Œè¿™ä¸ªä½ç½®éœ€è¦ç‚¹äº®ï¼Œè¿™ä¸ªä½ç½®ä»¥å‰çš„éƒ½æ˜¯äº®çš„ã€‚
                      index += 3;
                  }
              }
          }
          return minNum;
      }
  }
  
  ```

- 



## æ’åºç›¸é‚»æœ€å¤§å·®å€¼

- æ„é€ ä¸€ä¸ªå·®å€¼èŒƒå›´ï¼Œä½¿å·®å€¼åœ¨è¯¥èŒƒå›´å†…çš„æ‰€æœ‰æ•°æ®éƒ½æ”¾å¼ƒè€ƒè™‘ï¼Œä»å‡å°äº†å¤§é‡çš„æƒ…å†µã€‚

![image-20220124224846491](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220124224846491.png)

- ç”¨åˆ†æ¡¶çš„æ–¹æ³•ï¼Œå°†nä¸ªæ•°åˆ†åˆ°n+1ä¸ªæ¡¶ä¸­ï¼Œæ¯ä¸ªæ¡¶åªè®°å½•æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚ç”¨ä¸€ä¸ªbooleanæ•°ç»„è®°å½•æ¡¶é‡Œé¢æ˜¯å¦æœ‰æ•°å­—ï¼Œä¸€ä¸ªæ•°ç»„è®°å½•æœ€å¤§å€¼ï¼Œä¸€ä¸ªæ•°ç»„è®°å½•æœ€å°å€¼

- ç„¶åæŒ¨ä¸ªè®¡ç®—ç›¸é‚»æ¡¶çš„å·®å€¼ï¼ˆåä¸€ä¸ªæ¡¶çš„æœ€å°å€¼å’Œå‰ä¸€ä¸ªæ¡¶çš„æœ€å¤§å€¼ï¼‰ï¼Œæ±‚å‡ºæœ€å¤§å€¼å°±æ˜¯ç»“æœ

- å°¤å…¶è¦æ³¨æ„çœ‹ä¸€ä¸ªæ•°å­—åˆ†å»å“ªä¸ªæ¡¶çš„ç®—æ³•ã€‚
  n+1ä¸ªæ¡¶ï¼Œæ¯ä¸ªæ¡¶é—´éš”çš„æ•°å­—gap= (max-min)/nã€‚

  æ•°å­—aåº”è¯¥å»å“ªä¸ªæ¡¶ï¼Ÿ (a-min)/gap =(a-min)*len/(max-min)
  å¦‚æœa==min,åˆ™è¯¥å»0å·æ¡¶ã€‚
  å¦‚æœa == maxï¼Œåº”è¯¥å»lenå·æ¡¶ï¼Œè€Œä¸æ˜¯len-1å·æ¡¶ã€‚å› æ­¤ä¸Šé¢çš„ä¸‰ä¸ªæ•°ç»„éƒ½è¦åˆ›å»º(len+1)çš„é•¿åº¦æ‰èƒ½åˆ‡åˆ†ã€‚

é£ 22:47:30
![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/21B1F7EE322861D11A11DF35E1C3B291.png)



![image-20220124225001279](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220124225001279.png)

![image-20220124225029666](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220124225029666.png)



```java
public class Main {
	public static int maxGap(int[] nums) {
		if (nums == null || nums.length < 2) {
			return 0;
		}
		int len = nums.length;
		int min = Integer.MAX_VALUE;
		int max = Integer.MIN_VALUE;
		for (int i = 0; i < len; i++) {
			min = Math.min(min, nums[i]);
			max = Math.max(max, nums[i]);
		}
		if (min == max) {
			return 0;
		}
		// è®°å½•æ¡¶ä¸­æ˜¯å¦å­˜åœ¨å€¼
		boolean[] hasNum = new boolean[len + 1];
		int[] maxs = new int[len + 1];
		int[] mins = new int[len + 1];
		int bid = 0;
        // ç”±äºå¤šä¸€ä¸ªæ¡¶ï¼Œé‚£ä¹ˆå…¶ä¸­ä¸€ä¸ªæ¡¶å®šä¸ºç©ºï¼Œæœ€å¤§å·®å€¼å®šæ¯”ä¸€ä¸ªæ¡¶çš„èŒƒå›´å¤§
        // æœ€å¤§å·®å€¼å®šæ¯”çš„ä¸¤ä¸ªæ•°å®šåœ¨ä¸åŒçš„æ¡¶ä¸­ï¼Œé€‰å‡ºæ¯ä¸ªæ¡¶ä¸­çš„æœ€å¤§å€¼æœ€å°å€¼
		for (int i = 0; i < len; i++) {
			bid = bucket(nums[i], len, min, max);// è¯¥æ•°åº”è¯¥åœ¨æ¡¶ä¸­çš„ä¸‹æ ‡
			// æ›´æ–°æ¡¶ä¸­çš„æœ€å¤§æœ€å°å€¼
			mins[bid] = hasNum[bid] ? Math.min(mins[bid], nums[i]) : nums[i];
			maxs[bid] = hasNum[bid] ? Math.max(maxs[bid], nums[i]) : nums[i];
			hasNum[bid] = true;
		}
		int res = 0;
		int lastMax = maxs[0];

		// æœ€å¤§å·®å€¼å®šå­˜åœ¨äºä¸åŒçš„æ¡¶ä¸­
		for (int i = 1; i <= len; i++) {
			if (hasNum[i]) {
				res = Math.max(res, mins[i] - lastMax);
				lastMax = maxs[i];// è®°å½•è¯¥æ¡¶çš„æœ€å¤§å€¼ï¼Œç”¨äºåç»­ä¸åŒæ¡¶çš„æœ€å¤§å·®å€¼çš„æ¯”è¾ƒ
			}
		}
		return res;
	}
	// è®¡ç®—æ¡¶çš„ä¸‹æ ‡ç´¢å¼•
	public static int bucket(long num, long len, long min, long max) {
		return (int) ((num - min) * len / (max - min));
	}
}

```




![img](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/04030C2E7169D2A81FE489D649658BA0.png)



## è¿‡æ²³

![image-20220205201539832](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220205201539832.png)



- è´ªå¿ƒæ€æƒ³ï¼šå°†æœ€å°çš„å’Œè¾ƒå¤§çš„æ”¾åœ¨ä¸€æ¡ä¸Šï¼Œè‹¥èƒ½å°±æ”¾ä¸€æ¡ä¸Šï¼Œå¦åˆ™è®©è¾ƒå¤§çš„è‡ªå·±ä¸€æ¡ã€‚

- ![image-20220205205653104](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220205205653104.png)

- ![image-20220205211557507](C:/Program%20Files/Typora/image-20220205211557507.png)

- ![image-20220205212541779](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220205212541779.png)
  ![image-20220205212639057](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220205212639057.png)
  ![image-20220205223114248](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220205223114248.png)

- 

  ```java
  public class Main {
  	public static int minBo(int[] arr, int weight) {
  		if (arr == null || arr.length == 0) {
  			return 0;
  		}
  		Arrays.sort(arr);
  		if (arr[arr.length-1]>weight) {
  			return Integer.MAX_VALUE;
  		}
  		int left = 0;
  		int right = arr.length - 1;
  		int boatNum = 0;
  		while (left <= right) {
  			if (arr[right] + arr[left] <= weight) {
  				++left;
  			}
  			--right;
  			++boatNum;
  		}
  		return boatNum;
  	}
  }
  
  ```

  











# æ‰“è¡¨æ³•

- å‡ºç°å’Œå€æ•°ç›¸å…³çš„é—®é¢˜æ—¶ï¼Œå¯ä»¥è€ƒè™‘é€šè¿‡ä¸€èˆ¬æ–¹æ³•è§£é¢˜åçš„ç»“æœæ˜¯å¦å­˜åœ¨æŸç§ç‰¹æ®Šçš„è§„å¾‹ï¼Œé€šè¿‡ç›´è§‚çš„ç­”æ¡ˆç›´æ¥è¿›è¡Œä»£ç çš„ä¹¦å†™ï¼Œä¸éœ€è¦å…³æ³¨æœ¬è´¨å«ä¹‰ã€‚

## æ•´ä½“è£…è¢‹



![image-20211219220615833](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211219220615833.png)

**ä¸€èˆ¬æ€è·¯**

å¯ä»¥å‘ç°ï¼Œè¶…è¿‡6å’Œ8çš„æœ€å°å…¬çº¦æ•°ä»¥åï¼Œæ„æˆçš„å·®å€¼ä¸€ç›´æ˜¯3/5/1å¾ªç¯ï¼Œè¶…è¿‡24ä»¥åï¼Œä¹Ÿå°±æ˜¯8çš„å€æ•°ï¼Œæ¯ä¸ªrestéƒ½å¯ä»¥æ˜ å°„åˆ°å‡å»24çš„æŸä¸ªrestã€‚

å¦‚æœè¶…è¿‡restè¶…è¿‡24ä»¥åï¼Œå°±æ²¡å¿…è¦å°è¯•è¯•äº†ï¼Œå› ä¸º24æ˜¯6å’Œ8çš„æœ€å°å…¬å€æ•°

107ä¸ªè‹¹æœ

107/8=13

8çš„åŒ…æ•° 	rest	mod6ä½™æ•°  

13				3		3

12				11		5

11				19		1

10				27		3

9					35		5

8					43		1	

```
public class Main {
	public static int num(int apple) {
		if (apple % 8 == 0)
			return apple / 8;
		int n8 = apple / 8;
		int m = apple % 8;
		while (m < 24 && n8 >= 0) {
			if (m % 6 == 0)
				return n8 + m / 6;
			--n8;
			m += 8;
		}
		return -1;
	}
}

```





**æ‰“è¡¨ä»£ç **
![image-20211219232123273](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211219232123273.png)

- 18å‰æ— è§„å¾‹ï¼Œ18åå•ä¸º-1ï¼ŒåŒä¸ºä¸€ä¸ªå€¼ï¼Œæ¯å¢åŠ 8ä¸ªå°±å¢åŠ 1

```
public class Main {
	public static int daBiao(int apple) {
		if (apple < 18)
			return apple == 0 ? 0
					: (apple == 6 || apple == 8) ? 1 
						: (apple == 12 || apple == 14 || apple == 16) ? 2 
							: -1;
		if (apple % 2 == 1)
			return -1;
		return (apple - 18) / 8 + 3;
	}
}

```

2*8=16

3*6=18

å·®å€¼æ˜¯2ï¼Œå½“å¤§äº18ä»¥åï¼Œå¤šçš„2å¯ä»¥é€šè¿‡è¿™ä¸ªè½¬æ¢è½¬æ¢ä¸º8æˆ–è€…6çš„è¢‹å­ï¼Œå› æ­¤å¥‡æ•°è‚¯å®šä¸å¯èƒ½å‡‘æˆï¼Œå¤§äº18çš„å¶æ•°å¯ä»¥å‡‘æˆã€‚

## å¹‚æ¬¡æ–¹åƒè‰

![image-20220324225613294](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220324225613294.png)

ä¸æ˜¯çœ‹è°åƒå¾—å¤šï¼Œè€Œæ˜¯çœ‹è°æœ€ååƒä¸äº†å‰©ä¸‹çš„è‰ç®—è¾“



```
public class Main {
	public static String winner(int N) {
		if (N <= 4)
			return N == 0 || N == 2 ? "ç¾Šç¾Š" : "ç‰›ç‰›";
		int eatTest = 1;
		while (eatTest <= N) {
			if (winner(N - eatTest).equals("ç¾Šç¾Š"))
				return "ç‰›ç‰›";
			eatTest *= 4;
		}
		return "ç¾Šç¾Š";
	}
}

```

![image-20211219232823835](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211219232823835.png)

![image-20211219232220642](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211219232220642.png)



```
public static String win(int N){
    return (N)%5==0||(N)%5==2?"ç¾Šç¾Š":"ç‰›ç‰›";
}

```





# æšä¸¾

### ä¼˜åŒ–æšä¸¾æ–¹æ³•

- æ¯æ¬¡è®¡ç®—æ—¶å‡ºç°é‡å¤çš„åŠ¨ä½œï¼Œæˆ‘ä»¬å°±å°†è¿™äº›æ“ä½œåœ¨è®¡ç®—ä¹‹å‰è¿›è¡Œç›´æ¥å¤„ç†ï¼Œåœ¨æˆ‘ä»¬éœ€è¦æ—¶ç›´æ¥è¿›è¡Œæ•°æ®çš„è·å–ã€‚



### æœ€å°æŸ“è‰²æ•°

![image-20220308140350585](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220308140350585.png)



**æšä¸¾**

éå†æ¯ä¸€ä¸ªä½ç½®iï¼Œä»0åˆ°lengthï¼Œiä½ç½®å¾€å³è®¾ç½®ä¸ºGï¼Œiä½ç½®å¾€å·¦è®¾ç½®ä¸ºRï¼Œåˆ™ä»¥iä¸ºè¾¹ç•Œã€‚å·¦è¾¹æœ‰ä¸ªGå°±æ¶‚æˆRï¼Œå³è¾¹æœ‰ä¸€ä¸ªRï¼Œå°±æ¶‚æˆGï¼Œè®°å½•æœ€å°æ¶‚å¾—æ•°é‡

```java
public class Main {
	public static int process(String s) {
		char[] arr = s.toCharArray();
		int min = Integer.MAX_VALUE;
		int N = arr.length;
		for (int i = 0; i <= N; i++) {
			int num = 0;
			for (int j = 0; j < i; ++j) {
				if (arr[j] == 'G') {
					++num;
				}
			}
			for (int j = i; j < N; ++j) {
				if (arr[j] == 'R') {
					++num;
				}
			}
			min = Math.min(min, num);
		}
		return min;
	}
}

```

**ä¼˜åŒ–æšä¸¾**

- åœ¨æˆ‘ä»¬æšä¸¾æ‰€æœ‰æƒ…å†µæ—¶å‘ç°ï¼šå¯¹äºæ¯æ¬¡è®¡ç®—å•æ–¹å‘ä¸Šçš„Gï¼ŒRçš„ä¸ªæ•°å‡å¯ä»¥åœ¨ä¹‹å‰çš„æ“ä½œä¸­éƒ¨åˆ†æ±‚å‡ºï¼Œä½†æ˜¯å°½ç®¡æˆ‘ä»¬ä¹‹å‰å·²ç»éƒ¨åˆ†æ±‚å‡ºï¼Œåœ¨æ¯æ¬¡è®¡ç®—çš„æ—¶å€™å¹¶æ²¡æœ‰å¾—åˆ°å……åˆ†åº”ç”¨ï¼Œåªæ˜¯é‡å¤çš„è®¡ç®—å•æ–¹å‘ä¸ŠRï¼ŒGçš„ä¸ªæ•°ï¼Œæ­£å¼å› ä¸ºè¿™äº›é‡å¤çš„è®¡ç®—ï¼Œé€ æˆæˆ‘ä»¬æ—¶é—´æ•ˆç‡ä¸Šæœ‰å·¨å¤§çš„æå‡ç©ºé—´ã€‚

leftSum è®°å½•æ¯ä¸ªä½ç½®ï¼ˆåŒ…å«ï¼‰å·¦è¾¹æœ‰å‡ ä¸ªGï¼Œ

rightSum è®°å½•æ¯ä¸ªä½ç½®ï¼ˆåŒ…å«ï¼‰å³è¾¹æœ‰å‡ ä¸ªR

```java
public class Main {
	public static int process(String s) {
		char[] arr = s.toCharArray();
		int N = arr.length;
		int[] leftSum = new int[N];
		leftSum[0] = arr[0] == 'G' ? 1 : 0;
		// å·¦ç´¯åŠ 
		for (int i = 1; i < N; i++) {
			leftSum[i] = leftSum[i - 1] + (arr[i] == 'G' ? 1 : 0);
		}
		int[] rightSum = new int[N];
		// å³ç´¯åŠ 
		rightSum[N - 1] = arr[N - 1] == 'R' ? 1 : 0;
		for (int i = N - 2; i >= 0; i--) {
			rightSum[i] = rightSum[i + 1] + (arr[i] == 'R' ? 1 : 0);
		}
		// æ ¹æ®ç´¯åŠ è®¡ç®—æœ€å°å€¼ï¼Œæ³¨æ„è¿™æ—¶ä»£äº¤é”™ç›¸åŠ ã€‚ä¹Ÿå°±æ˜¯æŠŠæ‰€æœ‰çš„éƒ½æ¶‚æˆRæˆ–è€…Gæ—¶å€™éœ€è¦æ¶‚å‡ ä¸ª
		int min = Math.min(leftSum[N - 1], rightSum[0]);
		for (int i = 1; i < N; i++) {
			min = Math.min(min, leftSum[i - 1] + rightSum[i]);
		}
		return min;
	}
}

```









### çŸ©é˜µæœ€å¤§æ­£æ–¹å½¢

![image-20211221215153594](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211221215153594.png)

- è¿˜æ˜¯è‹¥æˆ‘ä»¬ç›´æ¥å¯¹äºå•ä¸ªèµ·å§‹ä½ç½®å¯»æ‰¾ï¼Œå¯¹äºæ¯ä¸ªå…¶å®ä½ç½®è¿›è¡Œåˆ¤æ–­çš„è¯æ—¶é—´å¤æ‚åº¦å°±ä¼šæ¯”è¾ƒé«˜
- ç”±æ­¤æˆ‘ä»¬è¦å•å‘è®°å½•è¿ç»­1çš„ä¸ªæ•°

```java
public class Test {
    public static void main(String[] args) {
        System.out.println(maxLen(new int[][]{
        		{0, 1, 1, 1, 1, 1},
                {0, 1, 0, 0, 1, 1},
                {0, 1, 0, 0, 1, 0},
                {1, 1, 1, 1, 1, 1},
                {0, 1, 0, 1, 1, 1}}));
    }

    public static void show(int[][] a) {
        for (int[] aa : a) {
            System.out.println(Arrays.toString(aa));
        }
        System.out.println();
    }

    public static int maxLen(int[][] arr) {
        if (arr == null || arr.length == 0 || arr[0].length == 0) return 0;
        show(arr);
        
        //*******************ç”Ÿæˆå‘æ¨ªå‘çš„ç´¯è®¡è¿ç»­æ•°å€¼******************
        int[][] rightArr = new int[arr.length][arr[0].length];
        for (int i = 0; i < rightArr.length; i++) {
            for (int j = arr[0].length - 1; j >= 0; j--) {
                rightArr[i][j] = arr[i][j] == 0 ? 0 : j == arr[0].length - 1 ? 1 : rightArr[i][j + 1] + 1;
            }
        }
        show(rightArr);

        //*******************ç”Ÿæˆå‘çºµå‘çš„ç´¯è®¡è¿ç»­æ•°å€¼******************
        int[][] downArr = new int[arr.length][arr[0].length];
        for (int i = 0; i < arr[0].length; i++) {
            for (int j = arr.length - 1; j >= 0; j--) {
                downArr[j][i] = arr[j][i] == 0 ? 0 : j == arr.length - 1 ? 1 : downArr[j + 1][i] + 1;
            }
        }
        show(downArr);

        //*************************ä»å°åˆ°å¤§çœ‹çœ‹å¤šå¤§çš„æ­£æ–¹å½¢å­˜åœ¨**************************8
        for (int size = Math.min(arr.length, arr[0].length); size != 0; size--) {
            if (hasSizeOfBorder(size, rightArr, downArr)) {
                return size;
            }
        }
        return 0;
    }

    private static boolean hasSizeOfBorder(int size, int[][] rightArr, int[][] downArr) {
        for (int i = 0; i < rightArr.length; i++) {
            for (int j = 0; j < rightArr[0].length; j++) {
                if (rightArr[i][j] >= size && downArr[i][j + size - 1] >= size &&
                        downArr[i][j] >= size && rightArr[i + size - 1][j] >= size)
                    return true;
            }
        }
        return false;
    }
}

```

![image-20220310231519666](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220310231519666.png)







### æ‹¬å·å­—ç¬¦

![image-20211227233419037](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211227233419037.png)

![image-20211227233649531](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211227233649531.png)





### å·®å€¼ä¸ºkçš„å»é‡æ•°å­—å¯¹

![image-20211227233908870](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211227233908870.png)



ä½¿ç”¨hashsetè®°å½•æ¯ä¸ªå…ƒç´ ï¼Œç„¶åéå†arrï¼Œæ‰¾ä¸ªä¸€ä¸ªæ•°ï¼ŒåŠ ä¸Škçœ‹è¿™ä¸ªå€¼åœ¨ä¸åœ¨hashseté‡Œé¢ï¼Œåœ¨çš„è¯å°±åŠ 1ã€‚











# ä¸šåŠ¡é¢˜

## è¢«3æ•´é™¤çš„æ•°çš„ä¸ªæ•°

![image-20220118233659667](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220118233659667.png)





```

```

# æŸ¥æ‰¾

## æ·±åº¦æ¢ç´¢äºŒåˆ†æŸ¥æ‰¾

- **æ³¨æ„medçš„å–æ³•å’ŒRæˆ–Lçš„è°ƒæ•´æ–¹å¼**

### ç»å…¸äºŒåˆ†æŸ¥æ‰¾



```
public class Main {
	public static int binarySearch(int[] arr, int L, int R, int value) {
		while (L < R) {
			int med = ((R - L) >> 1) + L;
			if (arr[med] == value) {
				return med;
			} else if (arr[med] < value) {
				L = med + 1;
			} else {
				R = med - 1;
			}
		}
		return L;
	}
}

```

### æŸ¥æ‰¾å¤§äºè¯¥å€¼çš„æœ€å°å€¼

```
public class Main {
	public static int binarySearch(int[] arr, int L, int R, int value) {
		while (L < R) {
			int med = ((R - L) >> 1) + L;
			if (arr[med] == value) {
				return med;
			} else if (arr[med] < value) {
				L = med + 1;
			} else {
				R = med;
			}
		}
		return L;
	}
}

```

### æŸ¥æ‰¾å¤§äºç­‰äºç›®æ ‡å€¼çš„æœ€å³å€¼

```
public class Main {
	// è¿”å›å¤§äºç­‰äºtargetçš„æœ€å³å…ƒç´ 
    private int rightest(int[] nums, int target) {
        int left = 0;
        int right = nums.length - 1;
        while (left < right) {
            int mid = (left + right + 1) / 2;
            if (nums[mid] == target) left = mid;
            else if (nums[mid] < target) left = mid + 1;
            else right = mid - 1;
        }
        return left;
    }
}

```

### æŸ¥æ‰¾å°äºè¯¥å€¼çš„æœ€å¤§å€¼

````
public class Main {
	public static int binarySearch(int[] arr, int L, int R, int value) {
		while (L < R) {
			int med = ((R - L + 1) >> 1) + L;
			if (arr[med] == value) {
				return med;
			} else if (arr[med] < value) {
				L = med;
			} else {
				R = med - 1;
			}
		}
		return L;
	}
}

````

### æŸ¥æ‰¾å°äºç­‰äºç›®æ ‡å€¼çš„æœ€å·¦å€¼

```
class Main {
	// è¿”å›å°äºç­‰äºtargetæœ€å·¦å…ƒç´ 
    private int leftest(int[] nums, int target) {
        int left = 0, right = nums.length - 1;
        while (left < right) {
            int mid = (left + right) / 2;
            if (nums[mid] == target) right = mid;
            else if (nums[mid] < target) left = mid + 1;
            else right = mid - 1;
        }
        return left;
    }
}

```

## æŸ¥æ‰¾æå°å€¼

é¢˜ç›®ï¼š
æå€¼å®šä¹‰è¯¥å€¼æ¯”å·¦å³çš„å€¼éƒ½å°ï¼Œå¦‚æœæ˜¯åœ¨æ•°ç»„ä¸¤ä¾§åˆ™åªæ¯”è¾ƒä¸€ç‚¹å³å¯ã€‚
åœ¨æ— åºæ•°ç»„ä¸­æ‰¾åˆ°è¯¥æå°å€¼ã€‚

```
public class Main {
	private static Integer process(int[] arr) {
		if (arr == null || arr.length == 0) {
			return null;
		}
		int N = arr.length;
		if (N == 1) {
			return arr[0];
		}
		// æœ€å·¦ä¾§
		if (arr[0] < arr[1]) {
			return arr[0];
		}
		// æœ€å³ä¾§
		if (arr[N - 1] < arr[N - 2]) {
			return arr[N - 1];
		}
		int left = 1;
		int right = N - 2;
		while (left < right) {
			int med = ((right - left) >> 1) + left;
			// right=med+1å’Œleft=medè¿™ç§æƒ…å†µæ˜¯åœ¨åˆ¤æ–­æ¡ä»¶ä¸ºarr[med]>arr[med-1]æ—¶
			if (arr[med] < arr[med + 1]) {
				right = med;
			} else {
				left = med + 1;
			}
		}
		return arr[left];
	}
}

```



## æ— åºæ•°ç»„ä¸­ç¬¬kå¤§çš„å€¼



ç±»ä¼¼çš„é¢˜ç›®

[å‰‘æŒ‡ Offer II 076. æ•°ç»„ä¸­çš„ç¬¬ k å¤§çš„æ•°å­—](https://leetcode-cn.com/problems/xx4gT2/)

bfprt

![image-20220209092642502](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220209092642502.png)





![image-20220209094413363](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220209094413363.png)





![image-20220209094455765](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220209094455765.png)

![image-20220209094748264](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220209094748264.png)
![image-20220209094913219](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220209094913219.png)






## ä¸¤ä¸ªæœ‰åºæ•°ç»„å¯»æ‰¾ç¬¬kå¤§çš„å€¼

![image-20220125233334064](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220125233334064.png)





### å½’å¹¶æ’åºå­è¿‡ç¨‹O(logk)

### äºŒåˆ†åˆ¤å®šO(log(m)*log(n))

### O(log(min{n,m}))

```
public class Test {
    public static int findKthNum(int[] arr1, int[] arr2, int kth) {
        if (arr1 == null || arr2 == null) {
            throw new RuntimeException("Your arr is invalid!");
        }
        if (kth < 1 || kth > arr1.length + arr2.length) {
            throw new RuntimeException("K is invalid!");
        }
        int[] longs = arr1.length >= arr2.length ? arr1 : arr2;
        int[] shorts = arr1.length < arr2.length ? arr1 : arr2;
        int l = longs.length;
        int s = shorts.length;
        if (kth <= s) {
            return getUpMedian(shorts, 0, kth - 1, longs, 0, kth - 1);
        }
        if (kth > l) {
            if (shorts[kth - l - 1] >= longs[l - 1]) {
                return shorts[kth - l - 1];
            }
            if (longs[kth - s - 1] >= shorts[s - 1]) {
                return longs[kth - s - 1];
            }
            return getUpMedian(shorts, kth - l, s - 1, longs, kth - s, l - 1);
        }
        if (longs[kth - s - 1] >= shorts[s - 1]) {
            return longs[kth - s - 1];
        }
        return getUpMedian(shorts, 0, s - 1, longs, kth - s, kth - 1);
    }

    public static int getUpMedian(int[] a1, int s1, int e1, int[] a2, int s2,
                                  int e2) {
        int mid1 = 0;
        int mid2 = 0;
        int offset = 0;
        while (s1 < e1) {
            mid1 = (s1 + e1) / 2;
            mid2 = (s2 + e2) / 2;
            offset = ((e1 - s1 + 1) & 1) ^ 1;
            if (a1[mid1] > a2[mid2]) {
                e1 = mid1;
                s2 = mid2 + offset;
            } else if (a1[mid1] < a2[mid2]) {
                s1 = mid1 + offset;
                e2 = mid2;
            } else {
                return a1[mid1];
            }
        }
        return Math.min(a1[s1], a2[s2]);
    }
}

```



# å…¶ä»–

## åˆ¤æ–­æ˜¯ä¸æ˜¯è´¨æ•°

è§   é¢˜ç›®è®¡ç®—è´¨æ•°

    ## è‡ªå®šä¹‰æ¯”è¾ƒå™¨

â€‹    https://blog.csdn.net/whing123/article/details/77851737
â€‹    
â€‹     Comparator
â€‹    class Teacher{  
â€‹        int num;  
â€‹        double salary;  
â€‹    public Teacher(int num, double salary) {  
â€‹        this.num = num;  
â€‹        this.salary = salary;  
â€‹    }  
â€‹    
â€‹    @Override  
â€‹    public String toString() {  
â€‹        return "\r\tnum:"+num+" salary:"+salary+"\r";  
â€‹    }  
â€‹    }  
â€‹    
â€‹    class StudentComparator implements Comparator{  
â€‹    public int compare(Object o1, Object o2) {  
â€‹        Teacher t1 = (Teacher) o1;  
â€‹        Teacher t2 = (Teacher) o2;  
â€‹        int result = t1.num > t2.num ? 1 : (t1.num == t2.num ? 0 : -1);  
â€‹        return result = result == 0 ?(t1.salary<t2.salary ? 1 : -1) : result;  
â€‹    }   
â€‹    }  
Comparable

     import java.util.ArrayList;  
    import java.util.Collections;  
    import java.util.Comparator;  
    import java.util.List;  
    
    public class CompareTest {  
        public static void main(String[] args) {  
            List<Student> list = new ArrayList<Student>(10);  
            list.add(new Student(1,"jj"));  
            list.add(new Student(0,"ww"));  
            list.add(new Student(0,"kk"));  
            list.add(new Student(2,"ll"));  
            Collections.sort(list); // å†…éƒ¨æ¯”è¾ƒå™¨:è¦æ’åºçš„ç±»å®ç°Comparableæ¥å£,å¯ä»¥å¯¹è‡ªèº«è¿›è¡Œæ¯”è¾ƒ  
            System.out.println(list);  
       List<Teacher> t = new ArrayList<Teacher>(10);  
        t.add(new Teacher(1,12));  
        t.add(new Teacher(0,13));  
        t.add(new Teacher(0,14));  
        t.add(new Teacher(2,15));  
        Collections.sort(t,new StudentComparator()); //å¤–éƒ¨æ¯”è¾ƒå™¨:é€šè¿‡é¢å¤–çš„ç±»æ¥å®ç°Comparatoræ¥å£  
        System.out.println(t);  
        }  
    }  


â€‹	```





```
class Student implements Comparable {  
	int num;  
	String name;  
	
	public Student(int num, String name) {  
	    this.num = num;  
	    this.name = name;  
	}  
	
	@Override  
	public String toString() {  
	    return "\r\tnum:"+num+" name:"+name+"\r";  
	}  
	
	public int compareTo(Object o) {  
	    Student tmp = (Student) o;  
	    int result = tmp.num > num ? 1 : (tmp.num==num ? 0 : -1);  
	    if (result == 0) {  
	        result = tmp.name.indexOf(0) > name.indexOf(0) ? 1 : -1;  
	    }  
	    return result;  
	    }  
	}  
```







## 1 æ¯”è¾ƒå™¨

```
  public static class MyComparator implements Comparator<Integer> {
    @Override
    public int compare(Integer o1, Integer o2) {
      return o1 - o2;
    }
  }

  public static void main(String[] args) {
    Integer[] arr = new Integer[]{1, Integer.MAX_VALUE, -5, 0, Integer.MIN_VALUE, -1, 5};
    Arrays.sort(arr, new MyComparator());
    System.out.println(Arrays.toString(arr));
  }

ç”¨å¤§æ•°ç±»BigIntegerï¼Œ æˆ–è€…è¯´è®©ä¸¤ä¸ªæ¯”è¾ƒçš„æ•°å…ˆé™¤100å†æ¯”è¾ƒ
public static class MyComparator implements Comparator<Integer> {
        @Override
        public int compare(Integer o1, Integer o2) {
//            BigInteger a = new BigInteger(String.valueOf(o1));
//            BigInteger b = new BigInteger(String.valueOf(o2));
//
//            return a.compareTo(b);
            return o1/100-o2/100;
        }
    }
```



ä½ å¯ä»¥ç›´æ¥ç”¨Integer.compare(a,b)ï¼Œæ¯ä¸€ä¸ªåŸºç¡€ç±»å‹çš„åŒ…è£…å™¨ç±»å‹éƒ½æœ‰ä¸€æ ·çš„æ–¹æ³•

## 2 å¼‚æˆ–äº¤æ¢

å…³äºå¼‚æˆ–äº¤æ¢(^)ï¼Œå…¶å®ä¸ç”¨æ‡‚åŸç†ï¼Œåªè¦è®°ä½ä¸€ä¸ªè§„å¾‹ã€‚
å¦‚ï¼ša=b^c;
åˆ™aã€bã€cä¸‰ä¸ªæ•°ä¸­ä»»æ„ä¸¤ä¸ªå¼‚æˆ–ä¹‹åéƒ½ç­‰äºå‰©ä¸‹çš„é‚£ä¸ªæ•°ã€‚ä¸ºäº†ä¾¿äºæè¿°ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰è¿™ç§æƒ…å†µä¸‹aä¸ºbå’Œcçš„å¼‚æˆ–æ•°ï¼›åŒæ ·çš„bä¹Ÿæ˜¯aå’Œcçš„å¼‚æˆ–æ•°ï¼›cä¹Ÿæ˜¯aå’Œbçš„å¼‚æˆ–æ•°ã€‚

æ¯”è¾ƒéš¾ç†è§£çš„æ˜¯ä»–ç”¨äº†ä¸¤ä¸ªå˜é‡å°±å®Œæˆäº†äº¤æ¢æ“ä½œã€‚
å¯ä»¥å…ˆè¿™æ ·ç†è§£:
a=1;
b=2;
c=a^b;  // cä¸º1å’Œ2çš„å¼‚æˆ–æ•°3
a=a^c; // 1^3ç­‰äº2ï¼Œaå˜ä¸º2
b=b^c; // 2^3ç­‰äº1ï¼Œbå˜ä¸º1
å®Œæˆäº’æ¢ã€‚

ç®€åŒ–åï¼š
a=1;
b=2;
a=a^b; // aä¸º1å’Œ2çš„å¼‚æˆ–æ•°3
b=a^b; // 3^2ç­‰äº1ï¼Œbå˜ä¸º1
a=a^b; // 3^1ç­‰äº2ï¼Œaå˜ä¸º2



## æ±‚è§£æœ€å°å…¬å€æ•°





## äºŒåˆ†æ³•

æŸ¥æ‰¾ä¸€ä¸ªæ•°ç»„å…ƒç´ çš„ä¸‹æ ‡ã€‚
äºŒåˆ†æ³•é€‚ç”¨äºå·²ç»æ’å¥½åºçš„æ•°ç»„ï¼Œå®šä¹‰ä¸¤ä¸ªå˜é‡ï¼Œä¸€ä¸ªlow,ä¸€ä¸ªhigh,åˆ™mid=(low+high)/2

ç®—æ³•æ ¸å¿ƒï¼š
å¦‚æœ value==arr[mid],ä¸­é—´å€¼æ­£å¥½ç­‰äºè¦æŸ¥æ‰¾çš„å€¼ï¼Œåˆ™è¿”å›ä¸‹æ ‡ï¼Œreturn mid;

å¦‚æœ value<arr[mid],è¦æ‰¾çš„å€¼å°äºä¸­é—´çš„å€¼ï¼Œåˆ™å†å¾€æ•°ç»„çš„å°ç«¯æ‰¾ï¼Œhigh=mid-1;

å¦‚æœ value>arr[mid],è¦æ‰¾çš„å€¼å¤§äºä¸­é—´çš„å€¼ï¼Œåˆ™å†å¾€æ•°ç»„çš„å¤§ç«¯æ‰¾ï¼Œlow=mid+1;

```
import java.util.Arrays;
 
/**
 * æµ‹è¯•äºŒåˆ†æ³•æŸ¥æ‰¾
 * äºŒåˆ†æ³•é€‚ç”¨äºå·²ç»æ’å¥½åºçš„æ•°ç»„
 * @author Administrator
 *
 */
public class TestBinarySearch {
	public static void main(String[] args) {
		int[] arr= {30,20,50,10,80,9,7,12,100,40,8};
		Arrays.sort(arr);
		System.out.println(Arrays.toString(arr));
		System.out.println(myBinarySearch(arr,40));
		}
	
	public static int myBinarySearch(int[] arr,int value) {
		int low=0;
		int high=arr.length-1;
		while(low<=high) {
			int mid=(low+high)/2;
			if(value==arr[mid]) {
				return mid;
				}
			if(value>arr[mid]) {
				low=mid+1;	
			}
			if(value<arr[mid]) {
				high=mid-1;
			}
			
		}
		return -1;//æ²¡æœ‰æ‰¾åˆ°è¿”å›-1
	}
	
}
```

## [å…³äºäºŒåˆ†æ³• æŸ¥æ‰¾çš„è¾¹ç•Œé—®é¢˜ï¼Œå¤§äºç­‰äºç›®æ ‡å€¼çš„æœ€å°å€¼ï¼Œå°äºç­‰äºç›®æ ‡å€¼çš„æœ€å¤§å€¼ã€‚](https://www.cnblogs.com/welen/articles/9984058.html)

```
/**
 * @author chilcyWind
 * @Description
 * @Author Yang
 * @Date 2022/3/12
 * @Version 1.0
 **/
public class binary {
    public static void main(String[] args) {
        int a[]={1,3,5,7,9,12,43,56,67,78};
        System.out.println(binary_search_upperbound(a,10,3));
        System.out.println(binary_search_lowerbound(a,10,56));
    }
    static int binary_search_upperbound(int a[], int n, int key){

        if(key>=a[n-1]) return -1;//å¦‚æœæ˜¯å¤§äºç­‰äºkeyçš„ç¬¬ä¸€ä¸ªå€¼ï¼Œåˆ™æ­¤å¤„æ”¹ä¸º>

        int low,high,mid;
        low=0;
        high=n-1;
        mid=(low+high)/2;
        while(low<high){
            if(key<a[mid])//å¦‚æœæ˜¯å¤§äºç­‰äºkeyçš„ç¬¬ä¸€ä¸ªå€¼ï¼Œåˆ™æ­¤å¤„æ”¹ä¸º<=
                high=mid;
            else
                low=mid+1;
            mid=(low+high)/2;
        }
        System.out.println(mid==high? "YES":"No");// midæ˜¯ç­‰äºhighçš„
        return a[mid];
    }

    // æŸ¥æ‰¾å°äºkeyçš„ç¬¬ä¸€ä¸ªå€¼
    static int binary_search_lowerbound(int a[], int n, int key){
        if(key<=a[0]) return -1;//å¦‚æœæ˜¯å¤§äºç­‰äºkeyçš„ç¬¬ä¸€ä¸ªå€¼ï¼Œåˆ™æ­¤å¤„æ”¹ä¸º<
        int low,high,mid;
        low=0;
        high=n-1;
        mid=(low+high+1)/2;
        while(low<high){
            if(key>a[mid])//å¦‚æœæ˜¯å¤§äºç­‰äºkeyçš„ç¬¬ä¸€ä¸ªå€¼ï¼Œåˆ™æ­¤å¤„æ”¹ä¸º>=
                low=mid;
            else
                high=mid-1;
            mid=(low+high+1)/2; //å¦‚æœä¸åŠ 1ï¼Œä¼šæœ‰æ­»å¾ªç¯
        }
        System.out.println((mid==low? "YES":"No"));
        return a[mid];
    }
}

```





```java
int a[10] = { 1, 4, 5, 3, 2, 1, 2, 3, 4, 2 };
sort(a, a + 10);
//sort(a,a+10,cmp);
int x;
 
 
 
while (scanf("%d", &x) != EOF)
{
     
    for (int i = 0; i<10; i++)
        printf("%d ", i);
    printf("\n");
    for (int i = 0; i<10; i++)
        printf("%d ", a[i]);
    printf("\n");
    int flag = 1;
    int less_last_mid = -1;
    int low = 0, high = 9, mid;
 
    while (low <= high)//å¾ªç¯å¿…é¡»åŒ…æ‹¬ç­‰äºï¼Œå› ä¸ºåªæœ‰åŒ…æ‹¬ç­‰äºï¼Œæ‰ä¼šæŠŠlow,highæ•°æ®éƒ½è®¿é—®ä¸€éã€‚
    {
     
            //åœ¨æŸ¥æ‰¾æŒ‡å®šç›®æ ‡å€¼æ—¶ï¼Œå¯èƒ½æ¼æ‰
            //ä¾‹å¦‚ï¼Œå€’æ•°ç¬¬äºŒæ­¥æ—¶ï¼Œlow, high=low+1ï¼›midå–floor((low+high)/2)=lowï¼ŒåªæŠŠlowè®¿é—®åˆ°äº†ï¼Œå¯èƒ½æ¼æ‰highæ²¡æœ‰è®¿é—®åˆ°ï¼Œä¸‹æ¬¡å°±æ˜¯(midåå°ï¼Œæ¼æ‰)<br>                //low=mid+1æˆ–è€…(midåå¤§)high=mid-1(high<low);å³
 
            //high<-mid->low
            //low  high
            //å¦‚æœåªæ˜¯æŸ¥æ‰¾ç›®æ ‡å€¼ï¼Œåªéœ€è¦æ¯”è¾ƒç­‰äºå³å¯ã€‚
 
            //å¦‚æœè¦æŸ¥æ‰¾åˆ°å¤§äºç­‰äºç›®æ ‡å€¼çš„æœ€å°å€¼ï¼Œåº”è¯¥å°±æ˜¯highçš„æœ€åä½ç½®ï¼Œå› ä¸ºhighä¸€å¼€å§‹å°±æ˜¯å¤§äºç­‰äºç›®æ ‡å€¼ï¼Œç›´åˆ°highå‘å·¦ç§»åŠ¨çš„æœ€åçš„ä½ç½®ï¼Œå¦‚æœhighæœ€ç»ˆçš„ä½ç½®æ¯”ç›®æ ‡å€¼è¿˜è¦å°ï¼Œ
            //åˆ™æŸ¥æ‰¾ä¸åˆ°ã€‚
 
            //åŒæ ·åœ°ï¼Œå¦‚æœæŸ¥æ‰¾å°äºç­‰äºç›®æ ‡å€¼çš„æœ€å¤§å€¼ï¼Œåº”è¯¥å°±æ˜¯lowçš„æœ€åä½ç½®ï¼Œå¦‚æœlowçš„æœ€ç»ˆä½ç½®æ¯”ç›®æ ‡å€¼è¿˜è¦å¤§ï¼Œåˆ™æŸ¥æ‰¾ä¸åˆ°ã€‚<br>
            //å¦‚æœè¦æ‰¾åˆ°å°äºxçš„æœ€å¤§å€¼ï¼Œåˆ™
            //æœ€åä¸€æ­¥,flag=0æ—¶ï¼Œflag=1æ—¶çš„æœ€åä¸€æ¬¡midï¼Œå³less_last_midä¸ºxæœ€ç»ˆçš„å€¼
            //å¦‚æœflag = 1æ—¶ï¼Œ ä¿å­˜æœ€åä¸€æ¬¡midå³å¯,å³data[less_last_mid]
            //å¦å¤–å°±æ˜¯è¶Šç•Œï¼Œæ‰¾ä¸åˆ°
        mid = (low + high) / 2;
        if (a[mid] < x)//å¦‚æœ1ï¼šè¦æ‰¾çš„æ˜¯å°xçš„æœ€å¤§å€¼;
 
        {//å¦‚æœ2ï¼šè¦æ‰¾çš„æ˜¯å°äºç­‰äºxçš„æœ€å¤§å€¼; if (a[mid] <= x)
 
            less_last_mid = mid;
            low = mid + 1;
            flag = 1;//å‡è®¾æœ€åä¸€æ­¥ï¼Œèµ°åœ¨è¿™é‡Œï¼Œå˜æˆäº†low>highè¿™ä¸ªæ— ç†çš„æ¡ä»¶ï¼Œè¿™æ˜¯å› ä¸ºLowçš„å˜åŒ–é€ æˆçš„ï¼Œæ‰€ä»¥lowçš„å€¼å·²æ— æ³•ä½¿ç”¨
        }
 
        else
        {
            high = mid - 1;
            flag = 0;//å‡è®¾æœ€åä¸€æ­¥ï¼Œèµ°åœ¨è¿™é‡Œï¼Œå˜æˆäº†low>highè¿™ä¸ªæ— ç†çš„æ¡ä»¶ï¼Œè¿™æ˜¯å› ä¸ºhighçš„å˜åŒ–é€ æˆçš„ï¼Œæ‰€ä»¥highçš„å€¼å·²æ— æ³•ä½¿ç”¨
        }
    }
    if (flag)
    {//è‚¯å®šå­˜åœ¨
        printf("flag=0:%d\n", a[less_last_mid]);
    }
    else//å¯èƒ½ä¸å­˜åœ¨,è°ƒæ•´highå·¦ç§»
    {
        if (high >= 0)
        {
            printf("flag=0:%d\n", a[less_last_mid]);
        }
        else
        {
            printf("ä¸å­˜åœ¨\n");
        }
    }
}
```



## å¿«é€Ÿæ’åº





## åˆ©ç”¨äºŒåˆ†æ³•å¯»æ‰¾æœ€æŸä¸ªå€¼æˆ–è€…æœ€å¤§äºæŸä¸ªå€¼çš„æœ€å°å€¼



```
	// æŸ¥æ‰¾arr[L...]å…ƒç´ ä¸­å°äºç­‰äºvalueä¸­æœ€å¤§çš„å…ƒç´ ç´¢å¼•
	private static int bRNum(int[] arr, int L, int value) {
		int R = arr.length - 1;
		while (L < R) {
			// æ³¨æ„medå–å€¼æ–¹æ³•ï¼Œè‹¥æ²¡æœ‰+1å¯èƒ½æ­»å¾ªç¯
			int med = ((R - L + 1) >> 1) + L;
			if (arr[med] == value) {
				return med;
			} else if (arr[med] < value) {
				L = med;// æ³¨æ„è¿™é‡Œä¸+1ï¼Œé˜²æ­¢è·³è¿‡
			} else {
				R = med - 1;
			}
		}
		return L;
	}
```



## åˆ¤å®šæ•°å­—æŸä½äºŒè¿›åˆ¶çš„å€¼æ˜¯ä¸æ˜¯1



å³ç§»ä¸€ä½å†ä¸1&å°±èƒ½å¾—åˆ°è¿™ä¸ªæ•°å­—çš„äºŒè¿›åˆ¶ä¸Šé¢çš„ä½ç½®æ˜¯ä¸æ˜¯1.

![image-20220111092003540](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220111092003540.png)



## è‡ªå®šä¹‰å¤§é¡¶å †&å°é¡¶å †





å¤§é¡¶å †

```
  PriorityQueue<int[]> pq = new PriorityQueue<int[]>(new Comparator<int[]>() {
            public int compare(int[] pair1, int[] pair2) {
                return pair1[0] != pair2[0] ? pair2[0] - pair1[0] : pair2[1] - pair1[1];
            }
        });


```

æ’å…¥å…ƒç´   `  pq.offer(new int[]{nums[i], i});`

æŸ¥çœ‹å †é¡¶å…ƒç´  `pq.peek()[1] <= i - k`

å¼¹å‡ºå †é¡¶å…ƒç´  `pq.poll()`



***ï¼ˆä¼˜å…ˆé˜Ÿåˆ—ï¼‰***:é»˜è®¤æ˜¯å°é¡¶å †

```
        PriorityQueue<Integer> heap = new PriorityQueue<>();
        heap.add(3);
        heap.add(2);
        heap.add(5);
        while (!heap.isEmpty()){
            System.out.println(heap.poll());
        }
        
2
3
5

```







## åŒç«¯é˜Ÿåˆ—

å®šä¹‰ï¼š`Deque<Integer> deque = new LinkedList<Integer>();`

å½“é˜Ÿåˆ—ä½¿ç”¨ï¼š
				å°¾éƒ¨å¼¹å‡º ` deque.pollLast();`

â€‹		æŸ¥çœ‹å°¾éƒ¨å…ƒç´ `deque.peekLast()`	

â€‹		æŸ¥çœ‹å¤´éƒ¨å…ƒç´  `deque.peekFirst()`

â€‹		å°¾éƒ¨æ’å…¥ ` deque.offerLast(i);`



å½“æ ˆä½¿ç”¨ï¼š

 ```
 Deque<Integer> stack = new LinkedList<Integer>()
 deque.push()
 deque.pop()
 deque.peek()
 ```

å½“æˆé˜Ÿåˆ—ä½¿ç”¨

```
Deque<Integer> deque = new LinkedList<>();
deque.offer(i);
deque.poll()  
```

```
package test;

import java.util.Deque;
import java.util.LinkedList;

/**
 * @author chilcyWind
 * @Description
 * @Author Yang
 * @Date 2022/3/30
 * @Version 1.0
 **/
public class stacktest {
    public static void main(String[] args) {
        Deque<Integer> deque = new LinkedList<>();
        //å½“æˆæ ˆä½¿ç”¨,pop()å’Œpollæ•ˆæœä¸€æ ·
        for (int i = 0; i < 5; i++) {
            deque.push(i);
        }
        //4	3	2	1	0
        while (!deque.isEmpty()){
            System.out.print(deque.pop()+"\t");
        }
        System.out.println();
        // å½“æˆé˜Ÿåˆ—ä½¿ç”¨
        for (int i = 0; i < 5; i++) {
            deque.offer(i);
        }
        //0	1	2	3	4
        while (!deque.isEmpty()){
            System.out.print(deque.poll()+"\t");
        }

    }
}

```

ç”¨pushå’ŒpollLastè¡¨ç¤ºé˜Ÿåˆ—

ç”¨pushå’ŒpollFirstè¡¨ç¤ºæ ˆ

```
package test;

import java.util.Deque;
import java.util.LinkedList;

/**
 * @author chilcyWind
 * @Description
 * @Author Yang
 * @Date 2022/3/30
 * @Version 1.0
 **/
public class stacktest {
    public static void main(String[] args) {
        Deque<Integer> deque = new LinkedList<>();
        // å½“æˆé˜Ÿåˆ—ä½¿ç”¨
        for (int i = 0; i < 5; i++) {
            deque.push(i);
        }
        //0	1	2	3	4
        while (!deque.isEmpty()){
            System.out.print(deque.pollLast()+"\t");
        }
        System.out.println();
        // å½“æˆæ ˆä½¿ç”¨
        for (int i = 0; i < 5; i++) {
            deque.push(i);
        }
        //4	3	2	1	0	
        while (!deque.isEmpty()){
            System.out.print(deque.pollFirst()+"\t");
        }
    }
}

```





offerï¼ˆï¼‰ï¼š

å¦‚æœå¯ä»¥åœ¨ä¸è¿åå®¹é‡é™åˆ¶çš„æƒ…å†µä¸‹ç«‹å³æ‰§è¡Œæ­¤æ“ä½œï¼Œåˆ™å°†æŒ‡å®šå…ƒç´ æ’å…¥æ­¤åŒç«¯é˜Ÿåˆ—è¡¨ç¤ºçš„é˜Ÿåˆ—ä¸­ï¼ˆæ¢å¥è¯è¯´ï¼Œåœ¨æ­¤åŒç«¯é˜Ÿåˆ—çš„å°¾éƒ¨ï¼‰ï¼ŒæˆåŠŸæ—¶è¿”å› trueï¼Œå¦‚æœå½“å‰æ²¡æœ‰å¯ç”¨ç©ºé—´åˆ™è¿”å› falseã€‚ å½“ä½¿ç”¨å®¹é‡å—é™çš„åŒç«¯é˜Ÿåˆ—æ—¶ï¼Œæ­¤æ–¹æ³•é€šå¸¸ä¼˜äº add æ–¹æ³•ï¼Œåè€…ä»…é€šè¿‡æŠ›å‡ºå¼‚å¸¸å¯èƒ½æ— æ³•æ’å…¥å…ƒç´ ã€‚
æ­¤æ–¹æ³•ç­‰æ•ˆäº offerLastã€‚

pushï¼ˆï¼‰ï¼š

å¦‚æœå¯ä»¥åœ¨ä¸è¿åå®¹é‡é™åˆ¶çš„æƒ…å†µä¸‹ç«‹å³å°†å…ƒç´ æ¨é€åˆ°æ­¤åŒç«¯é˜Ÿåˆ—è¡¨ç¤ºçš„å †æ ˆä¸Šï¼ˆæ¢å¥è¯è¯´ï¼Œåœ¨æ­¤åŒç«¯é˜Ÿåˆ—çš„å¤´éƒ¨ï¼‰ï¼Œåˆ™å¦‚æœå½“å‰æ²¡æœ‰å¯ç”¨ç©ºé—´åˆ™æŠ›å‡º IllegalStateExceptionã€‚
æ­¤æ–¹æ³•ç­‰æ•ˆäº addFirstã€‚

pop()

ä»è¿™ä¸ªåŒç«¯é˜Ÿåˆ—è¡¨ç¤ºçš„å †æ ˆä¸­å¼¹å‡ºä¸€ä¸ªå…ƒç´ ã€‚ æ¢å¥è¯è¯´ï¼Œåˆ é™¤å¹¶è¿”å›æ­¤åŒç«¯é˜Ÿåˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚
æ­¤æ–¹æ³•ç­‰æ•ˆäº removeFirst()ã€‚

poll()

æ£€ç´¢å¹¶åˆ é™¤æ­¤åŒç«¯é˜Ÿåˆ—è¡¨ç¤ºçš„é˜Ÿåˆ—çš„å¤´éƒ¨ï¼ˆæ¢å¥è¯è¯´ï¼Œæ­¤åŒç«¯é˜Ÿåˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œå¦‚æœæ­¤åŒç«¯é˜Ÿåˆ—ä¸ºç©ºï¼Œåˆ™è¿”å› nullã€‚
æ­¤æ–¹æ³•ç­‰æ•ˆäº pollFirst()ã€‚

## äºŒåˆ†æ³•æŸ¥æ‰¾å€¼å¤§äºæˆ–ç­‰äºvalueçš„æœ€å°å€¼ç´¢å¼•

```
	/**
	 * è¯¥å‡½æ•°åœ¨æŸ¥æ‰¾æ—¶æ€»ç»“è¿‡
	 * 
	 * @param indexIsMaxNumArr æ•°ç»„
	 * @param value            ç›®æ ‡å€¼
	 * @param right            å³ç«¯ç´¢å¼•
	 * @return å€¼å¤§äºæˆ–ç­‰äºvalueçš„æœ€å°å€¼ç´¢å¼•
	 */
	private static int biggerThanValueLeftestIndex(int[] indexIsMaxNumArr, int value,int left, int right) {
		while (left < right) {
			int med = ((right - left) >> 1) + left;
			if (indexIsMaxNumArr[med] == value) {
				return med;
			} else if (indexIsMaxNumArr[med] > value) {
				right = med;//è¿™é‡Œä¸èƒ½ç­‰äºmed-1ï¼Œå› ä¸ºæœ‰å¯èƒ½med-1çš„ä½ç½®å°±å°äºvalueçš„å€¼äº†ï¼Œåªè¦ç­‰äºmedå°±è¡Œã€‚æ™®é€šçš„äºŒåˆ†æ³•å¯ä»¥è¿™ä¹ˆåš
			} else {
				left = med + 1;
			}
		}
		return right;
	}
```

## Longçš„èŒƒå›´

Long.MIN_VALUE;

```
public class test {
    public static void main(String[] args) {
        System.out.println(1);
        long a = 1L;
        int b =2;
        long c = b;
        System.out.println(c);
        System.out.println(a+b);
    }
}
```



 double inorder = -Double.MAX_VALUE;



# æ•´ä½“æ€æƒ³

### [ èºæ—‹çŸ©é˜µ](https://leetcode-cn.com/problems/spiral-matrix/)



### æ—‹è½¬å­—ç¬¦ä¸²

![image-20220107001832841](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220107001832841.png)

- ä¸€èˆ¬æ€è·¯ï¼šå°è¯•æ‰€æœ‰çš„æƒ…å†µï¼Œçœ‹æ˜¯å¦å­˜åœ¨ç›¸åŒçš„
- ä¼˜åŒ–æ€è·¯ï¼šè§ä»£ç 

```
public class Test {
    public static boolean isRoa(String s,String r){
        if (s.length()!=r.length())return false;
        String ss= s + s;
        return ss.contains(r);
    }
}

```





### zigzagæ–¹å¼æ‰“å°çŸ©é˜µ

![image-20211229093821968](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211229093821968.png)

- åªå…³æ³¨å•è¶Ÿå¾ªç¯ï¼Œåˆ†ç¦»å®è§‚æ§åˆ¶å’Œå¾ªç¯è¿‡ç¨‹

- ```java
  public class Main {
  	public static void print(int[][] arr) {
  		int N = arr.length - 1;
  		int M = arr[0].length - 1;
  		int firstRow = 0, firstLine = 0, secondRow = 0, secondLine = 0;
  		boolean flag = false; // æ§åˆ¶æ‰“å°æ–¹å‘
  		while (secondLine != M + 1) {
  			print(arr, firstRow, firstLine, secondRow, secondLine, flag);
  			if (firstLine != M)
  				firstLine++;
  			else
  				firstRow++;
  			if (secondRow != N)
  				secondRow++;
  			else
  				secondLine++;
  			flag = !flag;
  		}
  	}
  
  	private static void print(int[][] arr, int firstRow, int firstLine, int secondRow, int secondLine, boolean flag) {
  		if (flag) {
  			while (firstLine >= secondLine) {
  				System.out.print(arr[firstRow++][firstLine--] + " ");
  			}
  		} else {
  			while (secondLine <= firstLine) {
  				System.out.print(arr[secondRow--][secondLine++] + " ");
  			}
  		}
  	}
  }
  
  ```

  ### 

  ### 



### 90åº¦æ—‹è½¬

https://leetcode-cn.com/problems/rotate-matrix-lcci/submissions/



![image-20211230000012145](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211230000012145.png)

1.å…ˆæ°´å¹³ç¿»è½¬ï¼Œå†æ ¹æ®ä¸»å¯¹è§’çº¿ç¿»è½¬å¾—åˆ°ï¼š

```
class Solution {
    public void rotate(int[][] matrix) {
        int n = matrix.length;
        // æ°´å¹³ç¿»è½¬
        for (int i = 0; i < n / 2; ++i) {
            for (int j = 0; j < n; ++j) {
                int temp = matrix[i][j];
                matrix[i][j] = matrix[n - i - 1][j];
                matrix[n - i - 1][j] = temp;
            }
        }
        // ä¸»å¯¹è§’çº¿ç¿»è½¬
        for (int i = 0; i < n; ++i) {
            for (int j = 0; j < i; ++j) {
                int temp = matrix[i][j];
                matrix[i][j] = matrix[j][i];
                matrix[j][i] = temp;
            }
        }
    }
}

ã€‚
```

2.åŸåœ°æ—‹è½¬

ä¸€ç»„å››ä¸ªå¯¹è§’è½¬ä¸€ä¸‹ï¼Œå€ŸåŠ©ä¸€ä¸ªä¸´æ—¶å˜é‡å°±å¤Ÿäº†



```
class Solution {
    public void rotate(int[][] matrix) {
        int n = matrix.length;
        for (int i = 0; i < n / 2; ++i) {
            for (int j = 0; j < (n + 1) / 2; ++j) {
                int temp = matrix[i][j];
                matrix[i][j] = matrix[n - j - 1][i];
                matrix[n - j - 1][i] = matrix[n - i - 1][n - j - 1];
                matrix[n - i - 1][n - j - 1] = matrix[j][n - i - 1];
                matrix[j][n - i - 1] = temp;
            }
        }
    }
}

```

https://pic.leetcode-cn.com/194630bf90343475a07278a0840d93ad891206acd50be1b81e75eb357d1e2c07-rotate.gif

![194630bf90343475a07278a0840d93ad891206acd50be1b81e75eb357d1e2c07-rotate](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/194630bf90343475a07278a0840d93ad891206acd50be1b81e75eb357d1e2c07-rotate.gif)

3.æš´åŠ›æ–¹æ³•

`å¯¹äºçŸ©é˜µä¸­ç¬¬ i è¡Œçš„ç¬¬ j ä¸ªå…ƒç´ ï¼Œåœ¨æ—‹è½¬åï¼Œå®ƒå‡ºç°åœ¨å€’æ•°ç¬¬ i åˆ—çš„ç¬¬ j ä¸ªä½ç½®ã€‚`

![image-20211230001116999](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20211230001116999.png)

```
class Solution {
    public void rotate(int[][] matrix) {
        int n = matrix.length;
        int[][] matrix_new = new int[n][n];
        for (int i = 0; i < n; ++i) {
            for (int j = 0; j < n; ++j) {
                matrix_new[j][n - i - 1] = matrix[i][j];
            }
        }
        for (int i = 0; i < n; ++i) {
            for (int j = 0; j < n; ++j) {
                matrix[i][j] = matrix_new[i][j];
            }
        }
    }
}

```





# hot 100



## [1. ä¸¤æ•°ä¹‹å’Œ](https://leetcode.cn/problems/two-sum/)

å“ˆå¸Œè¡¨

```
class Solution {
    public int[] twoSum(int[] nums, int target) {
        Map<Integer, Integer> hashtable = new HashMap<Integer, Integer>();
        for (int i = 0; i < nums.length; ++i) {
            if (hashtable.containsKey(target - nums[i])) {
                return new int[]{hashtable.get(target - nums[i]), i};
            }
            hashtable.put(nums[i], i);
        }
        return new int[0];
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/two-sum/solution/liang-shu-zhi-he-by-leetcode-solution/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„


```



## [2. ä¸¤æ•°ç›¸åŠ ](https://leetcode.cn/problems/add-two-numbers/)





å®˜æ–¹è§£æ³•

```
class Solution {
    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {
        ListNode head = null, tail = null;
        int carry = 0;
        while (l1 != null || l2 != null) {
            int n1 = l1 != null ? l1.val : 0;
            int n2 = l2 != null ? l2.val : 0;
            int sum = n1 + n2 + carry;
            if (head == null) {
                head = tail = new ListNode(sum % 10);
            } else {
                tail.next = new ListNode(sum % 10);
                tail = tail.next;
            }
            carry = sum / 10;
            if (l1 != null) {
                l1 = l1.next;
            }
            if (l2 != null) {
                l2 = l2.next;
            }
        }
        if (carry > 0) {
            tail.next = new ListNode(carry);
        }
        return head;
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/add-two-numbers/solution/liang-shu-xiang-jia-by-leetcode-solution/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



## [3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²](https://leetcode.cn/problems/longest-substring-without-repeating-characters/)

æˆ‘çš„è§£æ³•ï¼Œå³æŒ‡é’ˆç§»åŠ¨ï¼Œå·¦æŒ‡é’ˆä¸åŠ¨

```
class Solution {
    public int lengthOfLongestSubstring(String s) {
        if(s.length()==0||s.equals(""))return 0;
        int res = 0;
        int l=0;
        int r = 0;
        HashSet set = new HashSet<Character>();
        while(r<s.length()){
            if(!set.contains(s.charAt(r))){
                set.add(s.charAt(r));
                res = Math.max(r-l+1,res);
                r++;
            }else{
                while(l<=r&&s.charAt(l)!=s.charAt(r)){
                    set.remove(s.charAt(l));
                    l++;                   
                }
                r++;
                 l++;
                
                            }

        }
return res;

    }
}
```



å®˜æ–¹è§£æ³•ï¼Œå›ºå®šå·¦æŒ‡é’ˆï¼Œå¾€å³ç§»åŠ¨

```
class Solution {
    public int lengthOfLongestSubstring(String s) {
        // å“ˆå¸Œé›†åˆï¼Œè®°å½•æ¯ä¸ªå­—ç¬¦æ˜¯å¦å‡ºç°è¿‡
        Set<Character> occ = new HashSet<Character>();
        int n = s.length();
        // å³æŒ‡é’ˆï¼Œåˆå§‹å€¼ä¸º -1ï¼Œç›¸å½“äºæˆ‘ä»¬åœ¨å­—ç¬¦ä¸²çš„å·¦è¾¹ç•Œçš„å·¦ä¾§ï¼Œè¿˜æ²¡æœ‰å¼€å§‹ç§»åŠ¨
        int rk = -1, ans = 0;
        for (int i = 0; i < n; ++i) {
            if (i != 0) {
                // å·¦æŒ‡é’ˆå‘å³ç§»åŠ¨ä¸€æ ¼ï¼Œç§»é™¤ä¸€ä¸ªå­—ç¬¦
                occ.remove(s.charAt(i - 1));
            }
            while (rk + 1 < n && !occ.contains(s.charAt(rk + 1))) {
                // ä¸æ–­åœ°ç§»åŠ¨å³æŒ‡é’ˆ
                occ.add(s.charAt(rk + 1));
                ++rk;
            }
            // ç¬¬ i åˆ° rk ä¸ªå­—ç¬¦æ˜¯ä¸€ä¸ªæé•¿çš„æ— é‡å¤å­—ç¬¦å­ä¸²
            ans = Math.max(ans, rk - i + 1);
        }
        return ans;
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/longest-substring-without-repeating-characters/solution/wu-zhong-fu-zi-fu-de-zui-chang-zi-chuan-by-leetc-2/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

## [4. å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°](https://leetcode.cn/problems/median-of-two-sorted-arrays/)



```
class Solution {
    public double findMedianSortedArrays(int[] nums1, int[] nums2) {
        int length1 = nums1.length, length2 = nums2.length;
        int totalLength = length1 + length2;
        if (totalLength % 2 == 1) {
            double median = getKthElement(nums1, nums2, totalLength / 2 + 1);
            return median;
        } else {
            double median = (getKthElement(nums1, nums2, totalLength / 2 ) + getKthElement(nums1, nums2, totalLength / 2 + 1)) / 2.0;
            return median;
        }
    }

    public int getKthElement(int[] nums1, int[] nums2, int k) {
        /* ä¸»è¦æ€è·¯ï¼šè¦æ‰¾åˆ°ç¬¬ k (k>1) å°çš„å…ƒç´ ï¼Œé‚£ä¹ˆå°±å– pivot1 = nums1[k/2-1] å’Œ pivot2 = nums2[k/2-1] è¿›è¡Œæ¯”è¾ƒ
         * è¿™é‡Œçš„ "/" è¡¨ç¤ºæ•´é™¤
         * nums1 ä¸­å°äºç­‰äº pivot1 çš„å…ƒç´ æœ‰ nums1[0 .. k/2-2] å…±è®¡ k/2-1 ä¸ª
         * nums2 ä¸­å°äºç­‰äº pivot2 çš„å…ƒç´ æœ‰ nums2[0 .. k/2-2] å…±è®¡ k/2-1 ä¸ª
         * å– pivot = min(pivot1, pivot2)ï¼Œä¸¤ä¸ªæ•°ç»„ä¸­å°äºç­‰äº pivot çš„å…ƒç´ å…±è®¡ä¸ä¼šè¶…è¿‡ (k/2-1) + (k/2-1) <= k-2 ä¸ª
         * è¿™æ · pivot æœ¬èº«æœ€å¤§ä¹Ÿåªèƒ½æ˜¯ç¬¬ k-1 å°çš„å…ƒç´ 
         * å¦‚æœ pivot = pivot1ï¼Œé‚£ä¹ˆ nums1[0 .. k/2-1] éƒ½ä¸å¯èƒ½æ˜¯ç¬¬ k å°çš„å…ƒç´ ã€‚æŠŠè¿™äº›å…ƒç´ å…¨éƒ¨ "åˆ é™¤"ï¼Œå‰©ä¸‹çš„ä½œä¸ºæ–°çš„ nums1 æ•°ç»„
         * å¦‚æœ pivot = pivot2ï¼Œé‚£ä¹ˆ nums2[0 .. k/2-1] éƒ½ä¸å¯èƒ½æ˜¯ç¬¬ k å°çš„å…ƒç´ ã€‚æŠŠè¿™äº›å…ƒç´ å…¨éƒ¨ "åˆ é™¤"ï¼Œå‰©ä¸‹çš„ä½œä¸ºæ–°çš„ nums2 æ•°ç»„
         * ç”±äºæˆ‘ä»¬ "åˆ é™¤" äº†ä¸€äº›å…ƒç´ ï¼ˆè¿™äº›å…ƒç´ éƒ½æ¯”ç¬¬ k å°çš„å…ƒç´ è¦å°ï¼‰ï¼Œå› æ­¤éœ€è¦ä¿®æ”¹ k çš„å€¼ï¼Œå‡å»åˆ é™¤çš„æ•°çš„ä¸ªæ•°
         */

        int length1 = nums1.length, length2 = nums2.length;
        int index1 = 0, index2 = 0;
        int kthElement = 0;

        while (true) {
            // è¾¹ç•Œæƒ…å†µ
            if (index1 == length1) {
                return nums2[index2 + k - 1];
            }
            if (index2 == length2) {
                return nums1[index1 + k - 1];
            }
            if (k == 1) {
                return Math.min(nums1[index1], nums2[index2]);
            }

            // æ­£å¸¸æƒ…å†µ
            int half = k / 2;
            int newIndex1 = Math.min(index1 + half, length1) - 1;
            int newIndex2 = Math.min(index2 + half, length2) - 1;
            int pivot1 = nums1[newIndex1], pivot2 = nums2[newIndex2];
            if (pivot1 <= pivot2) {
                k -= (newIndex1 - index1 + 1);
                index1 = newIndex1 + 1;
            } else {
                k -= (newIndex2 - index2 + 1);
                index2 = newIndex2 + 1;
            }
        }
    }
}


```





## [5. æœ€é•¿å›æ–‡å­ä¸²](https://leetcode.cn/problems/longest-palindromic-substring/)


### ä¸­å¿ƒæ‰©å±•æ³•

```
class Solution {
    public String longestPalindrome(String s) {
        if (s == null || s.length() < 1) {
            return "";
        }
        int start = 0, end = 0;
        for (int i = 0; i < s.length(); i++) {
            int len1 = expandAroundCenter(s, i, i);
            int len2 = expandAroundCenter(s, i, i + 1);
            int len = Math.max(len1, len2);
            if (len > end - start) {
                start = i - (len - 1) / 2;
                end = i + len / 2;
            }
        }
        return s.substring(start, end + 1);
    }

    public int expandAroundCenter(String s, int left, int right) {
        while (left >= 0 && right < s.length() && s.charAt(left) == s.charAt(right)) {
            --left;
            ++right;
        }
        return right - left - 1;
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/longest-palindromic-substring/solution/zui-chang-hui-wen-zi-chuan-by-leetcode-solution/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```


### åŠ¨æ€è§„åˆ’

```
class Solution {
    public String longestPalindrome(String s) {
        if (s == null || s.length() == 0) {
            return s;
        }
        int len = s.length();
        int[][] dp = new int[len][len];
        int left = 0;
        int right = 0;
        int max = 1;
        for (int i = len - 1; i >= 0; i--) {
            for (int j = i; j < len; j++) {
                if (i == j) {
                    dp[i][j] = 1;

                } else if ((i + 1 == j) && (s.charAt(i) == s.charAt(j))) {
                    dp[i][j] = 2;
                } else {
                    if (s.charAt(i) == s.charAt(j) && dp[i + 1][j - 1] > 0) {
                        dp[i][j] = dp[i + 1][j - 1] + 2;
                    }

                }
                if (max < dp[i][j]) {
                    max = dp[i][j];
                    left = i;
                    right = j;
                }
            }
        }

        return s.substring(left, right + 1);
    }
}
```

## [10. æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…](https://leetcode.cn/problems/regular-expression-matching/)



åŠ¨æ€è§„åˆ’

```
class Solution {
    public boolean isMatch(String s, String p) {
        int m = s.length();
        int n = p.length();

        boolean[][] f = new boolean[m + 1][n + 1];
        f[0][0] = true;
        for (int i = 0; i <= m; ++i) {
            for (int j = 1; j <= n; ++j) {
                if (p.charAt(j - 1) == '*') {
                    f[i][j] = f[i][j - 2];
                    if (matches(s, p, i, j - 1)) {
                        f[i][j] = f[i][j] || f[i - 1][j];
                    }
                } else {
                    if (matches(s, p, i, j)) {
                        f[i][j] = f[i - 1][j - 1];
                    }
                }
            }
        }
        return f[m][n];
    }

    public boolean matches(String s, String p, int i, int j) {
        if (i == 0) {
            return false;
        }
        if (p.charAt(j - 1) == '.') {
            return true;
        }
        return s.charAt(i - 1) == p.charAt(j - 1);
    }
}

```



## [11. ç››æœ€å¤šæ°´çš„å®¹å™¨](https://leetcode.cn/problems/container-with-most-water/)

åŒæŒ‡é’ˆ

```
class Solution {
    public int maxArea(int[] height) {
        int l = 0 ;
        int r = height.length-1;
        int ans = 0;
        while(l<r){
            ans = Math.max(ans, Math.min(height[l], height[r])*(r-l));
            if(height[l]<=height[r]){
                l++;
            }else{
                r--;
            }
        }
    return ans;
    }
}
```



## [12. æ•´æ•°è½¬ç½—é©¬æ•°å­—](https://leetcode.cn/problems/integer-to-roman/)

è¿™ä¸ªé¢˜ä¸¤ä¸ªè¦ç‚¹ï¼š
		1: åªæœ‰ä¸ƒç§åŸºæœ¬ + å…­ç§ç»„åˆï¼š
   ![image-20220711090853923](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220711090853923.png)



2. å°½å¯èƒ½é€‰æœ€å¤§çš„æ•°å­—æ‹¼å‡‘ï¼š
   æˆ‘ä»¬ç”¨æ¥ç¡®å®šç½—é©¬æ•°å­—çš„è§„åˆ™æ˜¯ï¼šå¯¹äºç½—é©¬æ•°å­—ä»å·¦åˆ°å³çš„æ¯ä¸€ä½ï¼Œé€‰æ‹©å°½å¯èƒ½å¤§çš„ç¬¦å·å€¼ã€‚å¯¹äº 140ï¼Œæœ€å¤§å¯ä»¥é€‰æ‹©çš„ç¬¦å·å€¼ä¸º C=100ã€‚æ¥ä¸‹æ¥ï¼Œå¯¹äºå‰©ä½™çš„æ•°å­— 40ï¼Œæœ€å¤§å¯ä»¥é€‰æ‹©çš„ç¬¦å·å€¼ä¸ºXL=40ã€‚å› æ­¤ï¼Œ140140 çš„å¯¹åº”çš„ç½—é©¬æ•°å­—ä¸º C+XL=CXLã€‚

   ![image-20220711091023168](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220711091023168.png)

   è´ªå¿ƒç®—æ³•ã€‚ä»æœ€å¤§å‘ä¸‹éå†æ‹¼å‡‘å°±å¯ä»¥

```java
class Solution {
     int[] values = {1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1};
    String[] symbols = {"M", "CM", "D", "CD", "C", "XC", "L", "XL", "X", "IX", "V", "IV", "I"};
    public String intToRoman(int num) {
        StringBuffer roman = new StringBuffer();
        for(int i = 0 ; i < values.length ; i++){
            while(num>=values[i]){
                num-=values[i];
                roman.append(symbols[i]);

            }
            if (num==0) break;
        }
        return roman.toString();



    }
}
```



## [15. ä¸‰æ•°ä¹‹å’Œ](https://leetcode.cn/problems/3sum/)

åŒæŒ‡é’ˆï¼Œå›ºå®šä¸€ä¸ªæ•°ï¼Œç„¶åå‰©ä¸‹çš„éƒ¨åˆ†è¿›è¡ŒåŒæŒ‡é’ˆæ‹¼å‡‘å›ºå®šæ•°çš„è´Ÿæ•°

### æ¯”è¾ƒæ¸…æ™°çš„è§£æ³•

```java
class Solution {
    public List<List<Integer>> threeSum(int[] nums) {// æ€»æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)
        List<List<Integer>> ans = new ArrayList<>();
        if (nums == null || nums.length <= 2) return ans;

        Arrays.sort(nums); // O(nlogn)

        for (int i = 0; i < nums.length - 2; i++) { // O(n^2)
            if (nums[i] > 0) break; // ç¬¬ä¸€ä¸ªæ•°å¤§äº 0ï¼Œåé¢çš„æ•°éƒ½æ¯”å®ƒå¤§ï¼Œè‚¯å®šä¸æˆç«‹äº†
            if (i > 0 && nums[i] == nums[i - 1]) continue; // å»æ‰é‡å¤æƒ…å†µ
            int target = -nums[i];
            int left = i + 1, right = nums.length - 1;
            while (left < right) {
                if (nums[left] + nums[right] == target) {
                    ans.add(new ArrayList<>(Arrays.asList(nums[i], nums[left], nums[right])));
                    
                    // ç°åœ¨è¦å¢åŠ  leftï¼Œå‡å° rightï¼Œä½†æ˜¯ä¸èƒ½é‡å¤ï¼Œæ¯”å¦‚: [-2, -1, -1, -1, 3, 3, 3], i = 0, left = 1, right = 6, [-2, -1, 3] çš„ç­”æ¡ˆåŠ å…¥åï¼Œéœ€è¦æ’é™¤é‡å¤çš„ -1 å’Œ 3
                    left++; right--; // é¦–å…ˆæ— è®ºå¦‚ä½•å…ˆè¦è¿›è¡ŒåŠ å‡æ“ä½œ
                    while (left < right && nums[left] == nums[left - 1]) left++;
                    while (left < right && nums[right] == nums[right + 1]) right--;
                } else if (nums[left] + nums[right] < target) {
                    left++;
                } else {  // nums[left] + nums[right] > target
                    right--;
                }
            }
        }
        return ans;
    }
}
```









### å®˜æ–¹è§£æ³•

```
class Solution {
    public List<List<Integer>> threeSum(int[] nums) {
        int n = nums.length;
        Arrays.sort(nums);
        List<List<Integer>> ans = new ArrayList<List<Integer>>();
        // æšä¸¾ a
        for (int first = 0; first < n; ++first) {
            // éœ€è¦å’Œä¸Šä¸€æ¬¡æšä¸¾çš„æ•°ä¸ç›¸åŒ
            if (first > 0 && nums[first] == nums[first - 1]) {
                continue;
            }
            // c å¯¹åº”çš„æŒ‡é’ˆåˆå§‹æŒ‡å‘æ•°ç»„çš„æœ€å³ç«¯
            int third = n - 1;
            int target = -nums[first];
            // æšä¸¾ b
            for (int second = first + 1; second < n; ++second) {
                // éœ€è¦å’Œä¸Šä¸€æ¬¡æšä¸¾çš„æ•°ä¸ç›¸åŒ
                if (second > first + 1 && nums[second] == nums[second - 1]) {
                    continue;
                }
                // éœ€è¦ä¿è¯ b çš„æŒ‡é’ˆåœ¨ c çš„æŒ‡é’ˆçš„å·¦ä¾§
                while (second < third && nums[second] + nums[third] > target) {
                    --third;
                }
                // å¦‚æœæŒ‡é’ˆé‡åˆï¼Œéšç€ b åç»­çš„å¢åŠ 
                // å°±ä¸ä¼šæœ‰æ»¡è¶³ a+b+c=0 å¹¶ä¸” b<c çš„ c äº†ï¼Œå¯ä»¥é€€å‡ºå¾ªç¯
                if (second == third) {
                    break;
                }
                if (nums[second] + nums[third] == target) {
                    List<Integer> list = new ArrayList<Integer>();
                    list.add(nums[first]);
                    list.add(nums[second]);
                    list.add(nums[third]);
                    ans.add(list);
                }
            }
        }
        return ans;
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/3sum/solution/san-shu-zhi-he-by-leetcode-solution/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```





## [17. ç”µè¯å·ç çš„å­—æ¯ç»„åˆ](https://leetcode.cn/problems/letter-combinations-of-a-phone-number/)

æ·±åº¦ä¼˜å…ˆæœç´¢

```
class Solution {
    public List<String> letterCombinations(String digits) {
        List<String> combinations = new ArrayList<String>();
        if (digits.length() == 0) {
            return combinations;
        }
        Map<Character, String> phoneMap = new HashMap<Character, String>() {{
            put('2', "abc");
            put('3', "def");
            put('4', "ghi");
            put('5', "jkl");
            put('6', "mno");
            put('7', "pqrs");
            put('8', "tuv");
            put('9', "wxyz");
        }};
        backtrack(combinations, phoneMap, digits, 0, new StringBuffer());
        return combinations;
    }

    public void backtrack(List<String> combinations, Map<Character, String> phoneMap, String digits, int index, StringBuffer combination) {
        if (index == digits.length()) {
            combinations.add(combination.toString());
        } else {
            char digit = digits.charAt(index);
            String letters = phoneMap.get(digit);
            int lettersCount = letters.length();
            for (int i = 0; i < lettersCount; i++) {
                combination.append(letters.charAt(i));
                backtrack(combinations, phoneMap, digits, index + 1, combination);
                combination.deleteCharAt(index);
            }
        }
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/letter-combinations-of-a-phone-number/solution/dian-hua-hao-ma-de-zi-mu-zu-he-by-leetcode-solutio/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚æ·±åº¦ä¼˜å…ˆ
```

## [19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹](https://leetcode.cn/problems/remove-nth-node-from-end-of-list/)

æ„é€ ä¸€ä¸ªå¤´ç»“ç‚¹ï¼Œç„¶ååŒæŒ‡é’ˆ

```
class Solution {
    public ListNode removeNthFromEnd(ListNode head, int n) {
        ListNode dummy = new ListNode(0, head);
        ListNode first = head;
        ListNode second = dummy;
        for (int i = 0; i < n; ++i) {
            first = first.next;
        }
        while (first != null) {
            first = first.next;
            second = second.next;
        }
        second.next = second.next.next;
        ListNode ans = dummy.next;
        return ans;
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/remove-nth-node-from-end-of-list/solution/shan-chu-lian-biao-de-dao-shu-di-nge-jie-dian-b-61/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

## [20. æœ‰æ•ˆçš„æ‹¬å·](https://leetcode.cn/problems/valid-parentheses/)

æ ˆ 



```
class Solution {
    public boolean isValid(String s) {
        int n = s.length();
        if (n % 2 == 1) {
            return false;
        }

        Map<Character, Character> pairs = new HashMap<Character, Character>() {{
            put(')', '(');
            put(']', '[');
            put('}', '{');
        }};
        Deque<Character> stack = new LinkedList<Character>();
        for (int i = 0; i < n; i++) {
            char ch = s.charAt(i);
            if (pairs.containsKey(ch)) {
                if (stack.isEmpty() || stack.peek() != pairs.get(ch)) {
                    return false;
                }
                stack.pop();
            } else {
                stack.push(ch);
            }
        }
        return stack.isEmpty();
    }
}


```





## [21. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨](https://leetcode.cn/problems/merge-two-sorted-lists/)



é€’å½’

```
/**
 * Definition for singly-linked list.
 * public class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode() {}
 *     ListNode(int val) { this.val = val; }
 *     ListNode(int val, ListNode next) { this.val = val; this.next = next; }
 * }
 */
class Solution {
    public ListNode mergeTwoLists(ListNode list1, ListNode list2) {
        if(list1==null){
            return list2;
        }else if(list2==null){
            return list1;
        }else if(list1.val<=list2.val){
            list1.next=mergeTwoLists(list1.next,list2);
            return list1;

        }else{
            list2.next = mergeTwoLists(list1,list2.next);
            return list2;
        }

    }
}
```



è¿­ä»£

```
class Solution {
    public ListNode mergeTwoLists(ListNode l1, ListNode l2) {
        ListNode prehead = new ListNode(-1);

        ListNode prev = prehead;
        while (l1 != null && l2 != null) {
            if (l1.val <= l2.val) {
                prev.next = l1;
                l1 = l1.next;
            } else {
                prev.next = l2;
                l2 = l2.next;
            }
            prev = prev.next;
        }

        // åˆå¹¶å l1 å’Œ l2 æœ€å¤šåªæœ‰ä¸€ä¸ªè¿˜æœªè¢«åˆå¹¶å®Œï¼Œæˆ‘ä»¬ç›´æ¥å°†é“¾è¡¨æœ«å°¾æŒ‡å‘æœªåˆå¹¶å®Œçš„é“¾è¡¨å³å¯
        prev.next = l1 == null ? l2 : l1;

        return prehead.next;
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/merge-two-sorted-lists/solution/he-bing-liang-ge-you-xu-lian-biao-by-leetcode-solu/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



## [22. æ‹¬å·ç”Ÿæˆ](https://leetcode.cn/problems/generate-parentheses/)



å›æº¯æ³•

å¦‚æœå‰©ä½™å·¦å³æ‹¬å·éƒ½æ˜¯0ï¼Œåˆ™æ˜¯æ–°çš„ç»„åˆï¼Œæ·»åŠ è¿›ç»“æœé›†

å¦‚æœå‰©ä½™å·¦å³ç›¸ç­‰ï¼Œåˆ™åªèƒ½åŠ å·¦è¾¹

å¦åˆ™ï¼ˆè¿™ä¸ªæ—¶å€™è‚¯å®šå·¦è¾¹å°äºå³è¾¹çš„ï¼Œå› ä¸ºç›¸ç­‰çš„æ—¶å€™åªåŠ å·¦è¾¹ï¼‰ï¼ŒåŠ ä¸€ä¸ªå·¦è¾¹çš„ï¼Œç„¶åå›æº¯ï¼Œå†åŠ ä¸€ä¸ªå³è¾¹çš„ å›æº¯

```
class Solution {
    List<String> res = new ArrayList<>();
    public List<String> generateParenthesis(int n) {
        if(n<1){
            return res;
        }
        getParenthesis(new StringBuffer(),n,n);
        return res;

    }
    public void getParenthesis(StringBuffer sb,int left, int right){
        if(left==0&&right==0){
            res.add(new String(sb));
            return;
        }
        if(left==right){
            sb.append("(");
            getParenthesis(sb,left-1,right);
            sb.deleteCharAt(sb.length()-1);
        }else{
            if(left>0){
                sb.append("(");
            getParenthesis(sb,left-1,right);
            sb.deleteCharAt(sb.length()-1);
            }
            sb.append(")");
            getParenthesis(sb,left,right-1);
            sb.deleteCharAt(sb.length()-1);

        }
    }
}
```





å‚è€ƒ

```
class Solution {
        List<String> res = new ArrayList<>();
        public List<String> generateParenthesis(int n) {
            if(n <= 0){
                return res;
            }
            getParenthesis("",n,n);
            return res;
        }

        private void getParenthesis(String str,int left, int right) {
            if(left == 0 && right == 0 ){
                res.add(str);
                return;
            }
            if(left == right){
                //å‰©ä½™å·¦å³æ‹¬å·æ•°ç›¸ç­‰ï¼Œä¸‹ä¸€ä¸ªåªèƒ½ç”¨å·¦æ‹¬å·
                getParenthesis(str+"(",left-1,right);
            }else if(left < right){
                //å‰©ä½™å·¦æ‹¬å·å°äºå³æ‹¬å·ï¼Œä¸‹ä¸€ä¸ªå¯ä»¥ç”¨å·¦æ‹¬å·ä¹Ÿå¯ä»¥ç”¨å³æ‹¬å·
                if(left > 0){
                    getParenthesis(str+"(",left-1,right);
                }
                getParenthesis(str+")",left,right-1);
            }
        }
    }
```







## [23. åˆå¹¶Kä¸ªå‡åºé“¾è¡¨](https://leetcode.cn/problems/merge-k-sorted-lists/)

### å‰ç½®çŸ¥è¯†ï¼šåˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨



```
public ListNode mergeTwoLists(ListNode a, ListNode b) {
    if (a == null || b == null) {
        return a != null ? a : b;
    }
    ListNode head = new ListNode(0);
    ListNode tail = head, aPtr = a, bPtr = b;
    while (aPtr != null && bPtr != null) {
        if (aPtr.val < bPtr.val) {
            tail.next = aPtr;
            aPtr = aPtr.next;
        } else {
            tail.next = bPtr;
            bPtr = bPtr.next;
        }
        tail = tail.next;
    }
    tail.next = (aPtr != null ? aPtr : bPtr);
    return head.next;
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/merge-k-sorted-lists/solution/he-bing-kge-pai-xu-lian-biao-by-leetcode-solutio-2/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



### 

### åˆ†æ²»ç®—æ³•

```
class Solution {
    public ListNode mergeKLists(ListNode[] lists) {
        return merge(lists, 0, lists.length - 1);
    }

    public ListNode merge(ListNode[] lists, int l, int r) {
        if (l == r) {
            return lists[l];
        }
        if (l > r) {
            return null;
        }
        int mid = (l + r) >> 1;
        return mergeTwoLists(merge(lists, l, mid), merge(lists, mid + 1, r));
    }

    public ListNode mergeTwoLists(ListNode a, ListNode b) {
        if (a == null || b == null) {
            return a != null ? a : b;
        }
        ListNode head = new ListNode(0);
        ListNode tail = head, aPtr = a, bPtr = b;
        while (aPtr != null && bPtr != null) {
            if (aPtr.val < bPtr.val) {
                tail.next = aPtr;
                aPtr = aPtr.next;
            } else {
                tail.next = bPtr;
                bPtr = bPtr.next;
            }
            tail = tail.next;
        }
        tail.next = (aPtr != null ? aPtr : bPtr);
        return head.next;
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/merge-k-sorted-lists/solution/he-bing-kge-pai-xu-lian-biao-by-leetcode-solutio-2/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```





### ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—åˆå¹¶

```
class Solution {
    class Status implements Comparable<Status> {
        int val;
        ListNode ptr;

        Status(int val, ListNode ptr) {
            this.val = val;
            this.ptr = ptr;
        }

        public int compareTo(Status status2) {
            return this.val - status2.val;
        }
    }

    PriorityQueue<Status> queue = new PriorityQueue<Status>();

    public ListNode mergeKLists(ListNode[] lists) {
        for (ListNode node: lists) {
            if (node != null) {
                queue.offer(new Status(node.val, node));
            }
        }
        ListNode head = new ListNode(0);
        ListNode tail = head;
        while (!queue.isEmpty()) {
            Status f = queue.poll();
            tail.next = f.ptr;
            tail = tail.next;
            if (f.ptr.next != null) {
                queue.offer(new Status(f.ptr.next.val, f.ptr.next));
            }
        }
        return head.next;
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/merge-k-sorted-lists/solution/he-bing-kge-pai-xu-lian-biao-by-leetcode-solutio-2/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



## [31. ä¸‹ä¸€ä¸ªæ’åˆ—](https://leetcode.cn/problems/next-permutation/)





ä»åå¾€å‰æ‰¾é¡ºåºï¼Œç„¶åè·Ÿä»…å¤§äºå®ƒçš„æ•°äº¤æ¢ï¼Œç„¶ååè½¬å‰©ä¸‹çš„éƒ¨åˆ†

```
class Solution {
    public void nextPermutation(int[] nums) {
        int i = nums.length - 2;
        while (i >= 0 && nums[i] >= nums[i + 1]) {
            i--;
        }
        if (i >= 0) {
            int j = nums.length - 1;
            while (j >= 0 && nums[i] >= nums[j]) {
                j--;
            }
            swap(nums, i, j);
        }
        reverse(nums, i + 1);
    }

    public void swap(int[] nums, int i, int j) {
        int temp = nums[i];
        nums[i] = nums[j];
        nums[j] = temp;
    }

    public void reverse(int[] nums, int start) {
        int left = start, right = nums.length - 1;
        while (left < right) {
            swap(nums, left, right);
            left++;
            right--;
        }
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/next-permutation/solution/xia-yi-ge-pai-lie-by-leetcode-solution/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```





## [32. æœ€é•¿æœ‰æ•ˆæ‹¬å·](https://leetcode.cn/problems/longest-valid-parentheses/)


### åŠ¨æ€è§„åˆ’

çŠ¶æ€ï¼š ä»¥iç»“å°¾å¾€å‰ï¼Œæœ€é•¿çš„åˆæ³•æ‹¬å·æ˜¯å¤šé•¿



![image-20220714212919061](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220714212919061.png)

![image-20220714212936947](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220714212936947.png)





```java
class Solution {
    public int longestValidParentheses(String s) {
        int maxans = 0;
        int[] dp = new int[s.length()];
        for (int i = 1; i < s.length(); i++) {
            if (s.charAt(i) == ')') {
                if (s.charAt(i - 1) == '(') {
                    dp[i] = (i >= 2 ? dp[i - 2] : 0) + 2;
                } else if (i - dp[i - 1] > 0 && s.charAt(i - dp[i - 1] - 1) == '(') {
                //
                    dp[i] = dp[i - 1] + ((i - dp[i - 1]) >= 2 ? dp[i - dp[i - 1] - 2] : 0) + 2;
                }
                maxans = Math.max(maxans, dp[i]);
            }
        }
        return maxans;
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/longest-valid-parentheses/solution/zui-chang-you-xiao-gua-hao-by-leetcode-solution/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



### è´ªå¿ƒç®—æ³•



![image-20220714215653984](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220714215653984.png)

```
class Solution {
    public int longestValidParentheses(String s) {
        int left = 0, right = 0, maxlength = 0;
        for (int i = 0; i < s.length(); i++) {
            if (s.charAt(i) == '(') {
                left++;
            } else {
                right++;
            }
            if (left == right) {
                maxlength = Math.max(maxlength, 2 * right);
            } else if (right > left) {
                left = right = 0;
            }
        }
        left = right = 0;
        for (int i = s.length() - 1; i >= 0; i--) {
            if (s.charAt(i) == '(') {
                left++;
            } else {
                right++;
            }
            if (left == right) {
                maxlength = Math.max(maxlength, 2 * left);
            } else if (left > right) {
                left = right = 0;
            }
        }
        return maxlength;
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/longest-valid-parentheses/solution/zui-chang-you-xiao-gua-hao-by-leetcode-solution/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



## [33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„](https://leetcode.cn/problems/search-in-rotated-sorted-array/)

```
class Solution {
    public int search(int[] nums, int target) {
        int n = nums.length;
        if(n == 0){
            return -1;
        }
        if(n==1){
            return nums[0]==target?0:-1;
        }
        int l=0,r = n-1;

        while(l<=r){
            int mid = (l+r)>>1;
            if(target==nums[mid]){
                return mid;
            }
            if(nums[0]<=nums[mid]){//å·¦åŠè¾¹æœ‰åº,çœ‹åœ¨ä¸åœ¨è¿™ä¸ªåŒºé—´ï¼Œä¸åœ¨å°±åœ¨å¦ä¸€ä¸ªåŒºé—´
            //æ³¨æ„è¿™é‡Œçš„target>=nums[0]
                if(target>=nums[0]&&target<nums[mid]){
                    r=mid-1;
                }else{
                    l=mid+1;
                }

            }else{//å³åŠè¾¹æœ‰åº,çœ‹åœ¨ä¸åœ¨è¿™ä¸ªåŒºé—´ï¼Œä¸åœ¨å°±åœ¨å¦ä¸€ä¸ªåŒºé—´
            //æ³¨æ„è¿™é‡Œçš„target<=nums[n-1] å°äºç­‰äºå·
                  if(target>nums[mid]&&target<=nums[n-1]){
                    l=mid+1;
                }else{
                    r=mid-1;
                }   
            }
        }
        return -1;

    }
}
```

## [34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®](https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array/)

### äºŒåˆ†æ³•å¯»æ‰¾å¤§äºæˆ–è€…å¤§äºç­‰äºtargetçš„ä½ç½®

![image-20220718095834280](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220718095834280.png)

```java
class Solution {
    public int[] searchRange(int[] nums, int target) {
        int left = binarySearch(nums, target, true);
        int right = binarySearch(nums,target,false)-1;
        if(left<=right&&nums[left]==target&&nums[right]==target){
            return new int[]{left,right};
        }
        return new int[]{-1,-1};

    }
     public int binarySearch(int[] nums, int target, boolean lower) {
         int left = 0,right = nums.length-1;
         int ans =  nums.length;//[1]çš„æ—¶å€™è¿™ä¸ªæ¡ä»¶å°±èµ·ä½œç”¨äº†
         
         while(left<=right){
             int mid = (left+right)>>1;
             //å¦‚æœæ˜¯æ‰¾å¤§äºtargetå°±æ˜¯nums[mid]>targetï¼Œæ‰¾å¤§äºç­‰äºtargetå°±æ˜¯nums[mid]>=targetï¼Œåœ¨num[mid]=targetçš„æ—¶å€™ä¸ä¸€æ ·ï¼Œä¸€ä¸ªæ˜¯èµ°å·¦è¾¹ï¼Œä¸€ä¸ªæ˜¯èµ°å³åŠè¾¹
             if(nums[mid]>target||(lower&&nums[mid]>=target)){
                 ans=mid;//æ¯ä¸€æ­¥å°†minçš„å€¼ä½œä¸ºansï¼Œå› ä¸ºæˆ‘ä»¬æ‰¾çš„æ˜¯å¤§äº(æˆ–å¤§äºç­‰äº)targetçš„å€¼
                  right = mid-1;
             }else{
                  left=mid+1;
             }
         }
         return ans;

     }
}
```



## [39. ç»„åˆæ€»å’Œ](https://leetcode.cn/problems/combination-sum/)

æ·±åº¦ä¼˜å…ˆæœç´¢

```
class Solution {
    public List<List<Integer>> combinationSum(int[] candidates, int target) {
        List<List<Integer>> ans = new ArrayList<List<Integer>>();
        Arrays.sort(candidates);
        List<Integer> combina = new ArrayList<>();
        dfs(candidates,ans,combina,target,0);

        return ans;
    }
    public void dfs(int[] candidates, List<List<Integer>> ans,List<Integer> combina,int target,int idx){
        if(idx==candidates.length){
            return;
        }
        if(target==0){
            ans.add(new ArrayList<>(combina));
            return;
        }
        if(target>=candidates[idx]){
            combina.add(candidates[idx]);
            dfs(candidates,ans,combina,target-candidates[idx],idx);
            combina.remove(combina.size()-1);
        }
       dfs(candidates,ans,combina,target,idx+1);

    }
}
```



## [42. æ¥é›¨æ°´](https://leetcode.cn/problems/trapping-rain-water/)

### åŠ¨æ€è§„åˆ’-æ¨è

åˆ›å»ºä¸¤ä¸ªé•¿åº¦ä¸º nn çš„æ•°ç»„ leftMax å’Œ rightMaxã€‚å¯¹äº 0â‰¤i<nï¼ŒleftMax[i] è¡¨ç¤ºä¸‹æ ‡ iåŠå…¶å·¦è¾¹çš„ä½ç½®ä¸­ï¼Œheight çš„æœ€å¤§é«˜åº¦ï¼ŒrightMax[i] è¡¨ç¤ºä¸‹æ ‡ i åŠå…¶å³è¾¹çš„ä½ç½®ä¸­ï¼Œheight çš„æœ€å¤§é«˜åº¦ã€‚



```
class Solution {
    public int trap(int[] height) {
        int n = height.length;
        if (n == 0) {
            return 0;
        }

        int[] leftMax = new int[n];
        leftMax[0] = height[0];
        for (int i = 1; i < n; ++i) {
            leftMax[i] = Math.max(leftMax[i - 1], height[i]);
        }

        int[] rightMax = new int[n];
        rightMax[n - 1] = height[n - 1];
        for (int i = n - 2; i >= 0; --i) {
            rightMax[i] = Math.max(rightMax[i + 1], height[i]);
        }

        int ans = 0;
        for (int i = 0; i < n; ++i) {
            ans += Math.min(leftMax[i], rightMax[i]) - height[i];
        }
        return ans;
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/trapping-rain-water/solution/jie-yu-shui-by-leetcode-solution-tuvc/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



### æ–¹æ³•äºŒï¼šå•è°ƒæ ˆ

çœ‹å®˜æ–¹é¢˜è§£å§

```
class Solution {
    public int trap(int[] height) {
        int ans = 0;
        Deque<Integer> stack = new LinkedList<Integer>();
        int n = height.length;
        for (int i = 0; i < n; ++i) {
            while (!stack.isEmpty() && height[i] > height[stack.peek()]) {
                int top = stack.pop();
                if (stack.isEmpty()) {
                    break;
                }
                int left = stack.peek();
                int currWidth = i - left - 1;
                int currHeight = Math.min(height[left], height[i]) - height[top];
                ans += currWidth * currHeight;
            }
            stack.push(i);
        }
        return ans;
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/trapping-rain-water/solution/jie-yu-shui-by-leetcode-solution-tuvc/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```





### åŒæŒ‡é’ˆ

åŠ¨æ€è§„åˆ’çš„èŠ‚çœç©ºé—´ç‰ˆ

![image-20220719100415526](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220719100415526.png)

```
class Solution {
    public int trap(int[] height) {
        int ans = 0;
        int left = 0, right = height.length - 1;
        int leftMax = 0, rightMax = 0;
        while (left < right) {
            leftMax = Math.max(leftMax, height[left]);
            rightMax = Math.max(rightMax, height[right]);
            if (height[left] < height[right]) {
                ans += leftMax - height[left];
                ++left;
            } else {
                ans += rightMax - height[right];
                --right;
            }
        }
        return ans;
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/trapping-rain-water/solution/jie-yu-shui-by-leetcode-solution-tuvc/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



## [46. å…¨æ’åˆ—](https://leetcode.cn/problems/permutations/)



```
class Solution {
    public List<List<Integer>> permute(int[] nums) {
        List<List<Integer>> res = new ArrayList<List<Integer>>();

        List<Integer> output = new ArrayList<Integer>();
        for (int num : nums) {
            output.add(num);
        }

        int n = nums.length;
        backtrack(n, output, res, 0);
        return res;
    }

    public void backtrack(int n, List<Integer> output, List<List<Integer>> res, int first) {
        // æ‰€æœ‰æ•°éƒ½å¡«å®Œäº†
        if (first == n) {
            res.add(new ArrayList<Integer>(output));
        }
        for (int i = first; i < n; i++) {
            // åŠ¨æ€ç»´æŠ¤æ•°ç»„
            Collections.swap(output, first, i);
            // ç»§ç»­é€’å½’å¡«ä¸‹ä¸€ä¸ªæ•°
            backtrack(n, output, res, first + 1);
            // æ’¤é”€æ“ä½œ
            Collections.swap(output, first, i);
        }
    }
}
```



## [48. æ—‹è½¬å›¾åƒ](https://leetcode.cn/problems/rotate-image/)

åŸåœ°æ—‹è½¬

![image-20220719213525233](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220719213525233.png)





![image-20220719213543091](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220719213543091.png)



```
class Solution {
    public void rotate(int[][] matrix) {
        int n = matrix.length;
        for (int i = 0; i < n / 2; ++i) {
            for (int j = 0; j < (n + 1) / 2; ++j) {
                int temp = matrix[i][j];
                matrix[i][j] = matrix[n - j - 1][i];
                matrix[n - j - 1][i] = matrix[n - i - 1][n - j - 1];
                matrix[n - i - 1][n - j - 1] = matrix[j][n - i - 1];
                matrix[j][n - i - 1] = temp;
            }
        }
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/rotate-image/solution/xuan-zhuan-tu-xiang-by-leetcode-solution-vu3m/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



## [49. å­—æ¯å¼‚ä½è¯åˆ†ç»„](https://leetcode.cn/problems/group-anagrams/)

æ’åº+hash



```
class Solution {
    public List<List<String>> groupAnagrams(String[] strs) {
        Map<String, List<String>> map =new HashMap<String, List<String>>();
        
        for(String s: strs){
            char[] chars = s.toCharArray();
            Arrays.sort(chars);
            String key = new String(chars);
            List<String> list = map.getOrDefault(key, new ArrayList<String>());
            list.add(s);
            map.put(key,list);
        }
        return new ArrayList<List<String>>(map.values());

    }
}
```



## [53. æœ€å¤§å­æ•°ç»„å’Œ](https://leetcode.cn/problems/maximum-subarray/)

### ç®€å•çš„dp

```
class Solution {
    public int maxSubArray(int[] nums) {
        int pre = 0, maxAns = nums[0];
        for (int x : nums) {
            pre = Math.max(pre + x, x);
            maxAns = Math.max(maxAns, pre);
        }
        return maxAns;
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/maximum-subarray/solution/zui-da-zi-xu-he-by-leetcode-solution/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



### çº¿æ®µæ ‘



![image-20220722092439298](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220722092439298.png)

![image-20220722092450325](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220722092450325.png)

```
class Solution {
    public class Status {
        public int lSum, rSum, mSum, iSum;

        public Status(int lSum, int rSum, int mSum, int iSum) {
            this.lSum = lSum;
            this.rSum = rSum;
            this.mSum = mSum;
            this.iSum = iSum;
        }
    }

    public int maxSubArray(int[] nums) {
        return getInfo(nums, 0, nums.length - 1).mSum;
    }

    public Status getInfo(int[] a, int l, int r) {
        if (l == r) {
            return new Status(a[l], a[l], a[l], a[l]);
        }
        int m = (l + r) >> 1;
        Status lSub = getInfo(a, l, m);
        Status rSub = getInfo(a, m + 1, r);
        return pushUp(lSub, rSub);
    }

    public Status pushUp(Status l, Status r) {
        int iSum = l.iSum + r.iSum;
        int lSum = Math.max(l.lSum, l.iSum + r.lSum);
        int rSum = Math.max(r.rSum, r.iSum + l.rSum);
        int mSum = Math.max(Math.max(l.mSum, r.mSum), l.rSum + r.lSum);
        return new Status(lSum, rSum, mSum, iSum);
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/maximum-subarray/solution/zui-da-zi-xu-he-by-leetcode-solution/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



## [55. è·³è·ƒæ¸¸æˆ](https://leetcode.cn/problems/jump-game/)

è´ªå¿ƒ

```
public class Solution {
    public boolean canJump(int[] nums) {
        int n = nums.length;
        int rightmost = 0;
        for (int i = 0; i < n; ++i) {
            if (i <= rightmost) {
                rightmost = Math.max(rightmost, i + nums[i]);
                if (rightmost >= n - 1) {
                    return true;
                }
            }
        }
        return false;
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/jump-game/solution/tiao-yue-you-xi-by-leetcode-solution/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



## [56. åˆå¹¶åŒºé—´](https://leetcode.cn/problems/merge-intervals/)

è‡ªå®šä¹‰æ¯”è¾ƒå™¨ï¼Œç„¶åæŒ¨ä¸ªåˆå¹¶

```
class Solution {
    public int[][] merge(int[][] intervals) {
        if (intervals.length == 0) {
            return new int[0][2];
        }
        Arrays.sort(intervals, new Comparator<int[]>() {
            public int compare(int[] interval1, int[] interval2) {
                return interval1[0] - interval2[0];
            }
        });
        List<int[]> merged = new ArrayList<int[]>();
        for (int i = 0; i < intervals.length; ++i) {
            int L = intervals[i][0], R = intervals[i][1];
            if (merged.size() == 0 || merged.get(merged.size() - 1)[1] < L) {
                merged.add(new int[]{L, R});
            } else {
                merged.get(merged.size() - 1)[1] = Math.max(merged.get(merged.size() - 1)[1], R);
            }
        }
        return merged.toArray(new int[merged.size()][]);
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/merge-intervals/solution/he-bing-qu-jian-by-leetcode-solution/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

## [62. ä¸åŒè·¯å¾„](https://leetcode.cn/problems/unique-paths/)

### åŠ¨æ€è§„åˆ’

```
class Solution {
    public int uniquePaths(int m, int n) {
        int[][] f = new int[m][n];
        for (int i = 0; i < m; ++i) {
            f[i][0] = 1;
        }
        for (int j = 0; j < n; ++j) {
            f[0][j] = 1;
        }
        for (int i = 1; i < m; ++i) {
            for (int j = 1; j < n; ++j) {
                f[i][j] = f[i - 1][j] + f[i][j - 1];
            }
        }
        return f[m - 1][n - 1];
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/unique-paths/solution/bu-tong-lu-jing-by-leetcode-solution-hzjf/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```

### æ•°å­¦å…¬å¼

![image-20220722093829888](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220722093829888.png)





```
class Solution {
    public int uniquePaths(int m, int n) {
        long ans = 1;
        for (int x = n, y = 1; y < m; ++x, ++y) {
            ans = ans * x / y;
        }
        return (int) ans;
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/unique-paths/solution/bu-tong-lu-jing-by-leetcode-solution-hzjf/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```





## [64. æœ€å°è·¯å¾„å’Œ](https://leetcode.cn/problems/minimum-path-sum/)

\





```
class Solution {
    public int minPathSum(int[][] grid) {
        if( grid==null||grid.length==0){
            return 0;
        }
        int m = grid.length;
        int n = grid[0].length;
        int[]dp =new int[n];
        dp[0]=grid[0][0];
        for(int i  = 1;i<n;i++){
            dp[i]=dp[i-1]+grid[0][i];
        }
        for(int i = 1 ; i<m;i++){
            for(int j = 0;j<n;j++){
                if(j>0){
                    dp[j]=Math.min(dp[j-1]+grid[i][j],dp[j]+grid[i][j]);
                }else{
                    dp[j]=dp[j]+grid[i][j];
                }
            }
        }
        return dp[n-1];


    }
}
```



## [70. çˆ¬æ¥¼æ¢¯](https://leetcode.cn/problems/climbing-stairs/)



```
class Solution {
    public int climbStairs(int n) {
        int p = 0, q = 0, r = 1;
        for (int i = 1; i <= n; ++i) {
            p = q; 
            q = r; 
            r = p + q;
        }
        return r;
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/climbing-stairs/solution/pa-lou-ti-by-leetcode-solution/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```





## [72. ç¼–è¾‘è·ç¦»](https://leetcode.cn/problems/edit-distance/)

![image-20220722095329588](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220722095329588.png)

![image-20220722095358689](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220722095358689.png)

![image-20220722095425807](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220722095425807.png)

![image-20220722095440641](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220722095440641.png)

![image-20220722095459232](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220722095459232.png)

åŠ¨æ€è§„åˆ’

```
class Solution {
    public int minDistance(String word1, String word2) {
        int n = word1.length();
        int m = word2.length();

        // æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²ä¸ºç©ºä¸²
        if (n * m == 0) {
            return n + m;
        }

        // DP æ•°ç»„
        int[][] D = new int[n + 1][m + 1];

        // è¾¹ç•ŒçŠ¶æ€åˆå§‹åŒ–
        for (int i = 0; i < n + 1; i++) {
            D[i][0] = i;
        }
        for (int j = 0; j < m + 1; j++) {
            D[0][j] = j;
        }

        // è®¡ç®—æ‰€æœ‰ DP å€¼
        for (int i = 1; i < n + 1; i++) {
            for (int j = 1; j < m + 1; j++) {
                int left = D[i - 1][j] + 1;
                int down = D[i][j - 1] + 1;
                int left_down = D[i - 1][j - 1];
                if (word1.charAt(i - 1) != word2.charAt(j - 1)) {
                    left_down += 1;
                }
                D[i][j] = Math.min(left, Math.min(down, left_down));
            }
        }
        return D[n][m];
    }
}

```

## [75. é¢œè‰²åˆ†ç±»](https://leetcode.cn/problems/sort-colors/)





![image-20220727092908447](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220727092908447.png)





```
class Solution {
    public void sortColors(int[] nums) {
        int n = nums.length;
        int p0 = 0, p2 = n - 1;
        for (int i = 0; i <= p2; ++i) {
            while (i <= p2 && nums[i] == 2) {
                int temp = nums[i];
                nums[i] = nums[p2];
                nums[p2] = temp;
                --p2;
            }
            if (nums[i] == 0) {
                int temp = nums[i];
                nums[i] = nums[p0];
                nums[p0] = temp;
                ++p0;
            }
        }
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/sort-colors/solution/yan-se-fen-lei-by-leetcode-solution/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



## [76. æœ€å°è¦†ç›–å­ä¸²](https://leetcode.cn/problems/minimum-window-substring/)



ä¸¤ä¸ªhashmapã€‚lå’Œrä¸¤ä¸ªæŒ‡é’ˆ

```
class Solution {
    Map<Character, Integer> ori = new HashMap<Character, Integer>();
    Map<Character, Integer> cnt = new HashMap<Character, Integer>();

    public String minWindow(String s, String t) {
        int tLen = t.length();
        for (int i = 0; i < tLen; i++) {
            char c = t.charAt(i);
            ori.put(c, ori.getOrDefault(c, 0) + 1);
        }
        int l = 0, r = -1;
        int len = Integer.MAX_VALUE, ansL = -1, ansR = -1;
        int sLen = s.length();
        while (r < sLen) {
            ++r;
            if (r < sLen && ori.containsKey(s.charAt(r))) {
                cnt.put(s.charAt(r), cnt.getOrDefault(s.charAt(r), 0) + 1);
                            while (check() && l <= r) {
                if (r - l + 1 < len) {
                    len = r - l + 1;
                    ansL = l;
                    ansR = l + len;
                }
                if (ori.containsKey(s.charAt(l))) {
                    cnt.put(s.charAt(l), cnt.getOrDefault(s.charAt(l), 0) - 1);
                }
                ++l;
            }
            }

        }
        return ansL == -1 ? "" : s.substring(ansL, ansR);
    }

    public boolean check() {
        Iterator iter = ori.entrySet().iterator(); 
        while (iter.hasNext()) { 
            Map.Entry entry = (Map.Entry) iter.next(); 
            Character key = (Character) entry.getKey(); 
            Integer val = (Integer) entry.getValue(); 
            if (cnt.getOrDefault(key, 0) < val) {
                return false;
            }
        } 
        return true;
    }
}

```



ç”¨æ•°ç»„è¾¾åˆ°åŒæ ·çš„æ•ˆæœ



```
class Solution {
    public String minWindow(String s, String t) {
        if (s == null || s == "" || t == null || t == "" || s.length() < t.length()) {
            return "";
        }
        //ç»´æŠ¤ä¸¤ä¸ªæ•°ç»„ï¼Œè®°å½•å·²æœ‰å­—ç¬¦ä¸²æŒ‡å®šå­—ç¬¦çš„å‡ºç°æ¬¡æ•°ï¼Œå’Œç›®æ ‡å­—ç¬¦ä¸²æŒ‡å®šå­—ç¬¦çš„å‡ºç°æ¬¡æ•°
        //ASCIIè¡¨æ€»é•¿128
        int[] need = new int[128];
        int[] have = new int[128];

        //å°†ç›®æ ‡å­—ç¬¦ä¸²æŒ‡å®šå­—ç¬¦çš„å‡ºç°æ¬¡æ•°è®°å½•
        for (int i = 0; i < t.length(); i++) {
            need[t.charAt(i)]++;
        }

        //åˆ†åˆ«ä¸ºå·¦æŒ‡é’ˆï¼Œå³æŒ‡é’ˆï¼Œæœ€å°é•¿åº¦(åˆå§‹å€¼ä¸ºä¸€å®šä¸å¯è¾¾åˆ°çš„é•¿åº¦)
        //å·²æœ‰å­—ç¬¦ä¸²ä¸­ç›®æ ‡å­—ç¬¦ä¸²æŒ‡å®šå­—ç¬¦çš„å‡ºç°æ€»é¢‘æ¬¡ä»¥åŠæœ€å°è¦†ç›–å­ä¸²åœ¨åŸå­—ç¬¦ä¸²ä¸­çš„èµ·å§‹ä½ç½®
        int left = 0, right = 0, min = s.length() + 1, count = 0, start = 0;
        while (right < s.length()) {
            char r = s.charAt(right);
            //è¯´æ˜è¯¥å­—ç¬¦ä¸è¢«ç›®æ ‡å­—ç¬¦ä¸²éœ€è¦ï¼Œæ­¤æ—¶æœ‰ä¸¤ç§æƒ…å†µ
            // 1.å¾ªç¯åˆšå¼€å§‹ï¼Œé‚£ä¹ˆç›´æ¥ç§»åŠ¨å³æŒ‡é’ˆå³å¯ï¼Œä¸éœ€è¦åšå¤šä½™åˆ¤æ–­
            // 2.å¾ªç¯å·²ç»å¼€å§‹ä¸€æ®µæ—¶é—´ï¼Œæ­¤å¤„åˆæœ‰ä¸¤ç§æƒ…å†µ
            //  2.1 ä¸Šä¸€æ¬¡æ¡ä»¶ä¸æ»¡è¶³ï¼Œå·²æœ‰å­—ç¬¦ä¸²æŒ‡å®šå­—ç¬¦å‡ºç°æ¬¡æ•°ä¸æ»¡è¶³ç›®æ ‡å­—ç¬¦ä¸²æŒ‡å®šå­—ç¬¦å‡ºç°æ¬¡æ•°ï¼Œé‚£ä¹ˆæ­¤æ—¶
            //      å¦‚æœè¯¥å­—ç¬¦è¿˜ä¸è¢«ç›®æ ‡å­—ç¬¦ä¸²éœ€è¦ï¼Œå°±ä¸éœ€è¦è¿›è¡Œå¤šä½™åˆ¤æ–­ï¼Œå³æŒ‡é’ˆç§»åŠ¨å³å¯
            //  2.2 å·¦æŒ‡é’ˆå·²ç»ç§»åŠ¨å®Œæ¯•ï¼Œé‚£ä¹ˆæ­¤æ—¶å°±ç›¸å½“äºå¾ªç¯åˆšå¼€å§‹ï¼ŒåŒç†ç›´æ¥ç§»åŠ¨å³æŒ‡é’ˆ
            if (need[r] == 0) {
                right++;
                continue;
            }
            //å½“ä¸”ä»…å½“å·²æœ‰å­—ç¬¦ä¸²ç›®æ ‡å­—ç¬¦å‡ºç°çš„æ¬¡æ•°å°äºç›®æ ‡å­—ç¬¦ä¸²å­—ç¬¦çš„å‡ºç°æ¬¡æ•°æ—¶ï¼Œcountæ‰ä¼š+1
            //æ˜¯ä¸ºäº†åç»­èƒ½ç›´æ¥åˆ¤æ–­å·²æœ‰å­—ç¬¦ä¸²æ˜¯å¦å·²ç»åŒ…å«äº†ç›®æ ‡å­—ç¬¦ä¸²çš„æ‰€æœ‰å­—ç¬¦ï¼Œä¸éœ€è¦æŒ¨ä¸ªæ¯”å¯¹å­—ç¬¦å‡ºç°çš„æ¬¡æ•°
            if (have[r] < need[r]) {
                count++;
            }
            //å·²æœ‰å­—ç¬¦ä¸²ä¸­ç›®æ ‡å­—ç¬¦å‡ºç°çš„æ¬¡æ•°+1
            have[r]++;
            //ç§»åŠ¨å³æŒ‡é’ˆ
            right++;
            //å½“ä¸”ä»…å½“å·²æœ‰å­—ç¬¦ä¸²å·²ç»åŒ…å«äº†æ‰€æœ‰ç›®æ ‡å­—ç¬¦ä¸²çš„å­—ç¬¦ï¼Œä¸”å‡ºç°é¢‘æ¬¡ä¸€å®šå¤§äºæˆ–ç­‰äºæŒ‡å®šé¢‘æ¬¡
            while (count == t.length()) {
                //æŒ¡çª—å£çš„é•¿åº¦æ¯”å·²æœ‰çš„æœ€çŸ­å€¼å°æ—¶ï¼Œæ›´æ”¹æœ€å°å€¼ï¼Œå¹¶è®°å½•èµ·å§‹ä½ç½®
                if (right - left < min) {
                    min = right - left;
                    start = left;
                }
                char l = s.charAt(left);
                //å¦‚æœå·¦è¾¹å³å°†è¦å»æ‰çš„å­—ç¬¦ä¸è¢«ç›®æ ‡å­—ç¬¦ä¸²éœ€è¦ï¼Œé‚£ä¹ˆä¸éœ€è¦å¤šä½™åˆ¤æ–­ï¼Œç›´æ¥å¯ä»¥ç§»åŠ¨å·¦æŒ‡é’ˆ
                if (need[l] == 0) {
                    left++;
                    continue;
                }
                //å¦‚æœå·¦è¾¹å³å°†è¦å»æ‰çš„å­—ç¬¦è¢«ç›®æ ‡å­—ç¬¦ä¸²éœ€è¦ï¼Œä¸”å‡ºç°çš„é¢‘æ¬¡æ­£å¥½ç­‰äºæŒ‡å®šé¢‘æ¬¡ï¼Œé‚£ä¹ˆå¦‚æœå»æ‰äº†è¿™ä¸ªå­—ç¬¦ï¼Œ
                //å°±ä¸æ»¡è¶³è¦†ç›–å­ä¸²çš„æ¡ä»¶ï¼Œæ­¤æ—¶è¦ç ´åå¾ªç¯æ¡ä»¶è·³å‡ºå¾ªç¯ï¼Œå³æ§åˆ¶ç›®æ ‡å­—ç¬¦ä¸²æŒ‡å®šå­—ç¬¦çš„å‡ºç°æ€»é¢‘æ¬¡(countï¼‰-1
                if (have[l] == need[l]) {
                    count--;
                }
                //å·²æœ‰å­—ç¬¦ä¸²ä¸­ç›®æ ‡å­—ç¬¦å‡ºç°çš„æ¬¡æ•°-1
                have[l]--;
                //ç§»åŠ¨å·¦æŒ‡é’ˆ
                left++;
            }
        }
        //å¦‚æœæœ€å°é•¿åº¦è¿˜ä¸ºåˆå§‹å€¼ï¼Œè¯´æ˜æ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„å­ä¸²
        if (min == s.length() + 1) {
            return "";
        }
        //è¿”å›çš„ä¸ºä»¥è®°å½•çš„èµ·å§‹ä½ç½®ä¸ºèµ·ç‚¹ï¼Œè®°å½•çš„æœ€çŸ­é•¿åº¦ä¸ºè·ç¦»çš„æŒ‡å®šå­—ç¬¦ä¸²ä¸­æˆªå–çš„å­ä¸²
        return s.substring(start, start + min);
    }
}
```



## [78. å­é›†](https://leetcode.cn/problems/subsets/)

### ä½è¿ç®—

![image-20220727094848733](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220727094848733.png)

````java
class Solution {
    public List<List<Integer>> subsets(int[] nums) {
        // ä½è¿ç®—
        List<List<Integer>> res = new ArrayList<List<Integer>>();
        List<Integer> t = new ArrayList<>();
        int len = nums.length;
        for(int i = 0; i<(1<<len);i++){
            t.clear();
            for(int j = 0 ; j <len;j++){
                if((i&(1<<j))!=0){
                    t.add(nums[j]);
                }
            }
            res.add(new ArrayList<Integer>(t));
        }
        return res;


    }
}
````



### dfs

```
class Solution {
    List<Integer> t = new ArrayList<Integer>();
    List<List<Integer>> ans = new ArrayList<List<Integer>>();

    public List<List<Integer>> subsets(int[] nums) {
        int n = nums.length;
        for (int mask = 0; mask < (1 << n); ++mask) {
            t.clear();
            for (int i = 0; i < n; ++i) {
                if ((mask & (1 << i)) != 0) {
                    t.add(nums[i]);
                }
            }
            ans.add(new ArrayList<Integer>(t));
        }
        return ans;
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/subsets/solution/zi-ji-by-leetcode-solution/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



## [79. å•è¯æœç´¢](https://leetcode.cn/problems/word-search/)

dfs åŠ çŠ¶æ€ï¼Œé˜²æ­¢é‡å¤éå†



```
class Solution {

    public boolean exist(char[][] board, String word) {
        int r = board.length;
        int l = board[0].length;
        boolean[][] status  = new boolean[r][l];
        for(int i = 0; i < r;i++){
            for(int j = 0 ; j < l ; j++){
                if(dfs(board,word,status,i,j,0,r,l)){
                    return true;
                }
            }
        }
        return false;
    }
    public boolean dfs(char[][] board, String word,boolean[][] status ,int i,int j,int cur, int r,int l){
        if(cur>=word.length()){
            return true;
        }
        if(i>=r||j>=l||i<0||j<0||status[i][j]){
            return false;
        }
        if(board[i][j]==word.charAt(cur)){
            status[i][j]=true;
            if(dfs(board,word,status,i+1,j,cur+1,r,l)||dfs(board,word,status,i,j+1,cur+1,r,l)||dfs(board,word,status,i,j-1,cur+1,r,l)||dfs(board,word,status,i-1,j,cur+1,r,l)){
                return true;
            }
             status[i][j]=false;
        }
 
        return false;
    }
}
```



## [84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢](https://leetcode.cn/problems/largest-rectangle-in-histogram/)

ç»´æŠ¤ä¸¤ä¸ªå•è°ƒæ ˆï¼Œä¸€ä¸ªæ˜¯ä»å·¦å¾€å³é€’å¢ï¼Œä¸€ä¸ªæ˜¯ä»å³å¾€å·¦éå†ï¼Œé€’å‡ï¼Œç›®çš„éƒ½æ˜¯ä¸ºäº†æ‰¾åˆ°å½“å‰éå†æŸ±å­å·¦å³ä¸¤è¾¹ç¬¬ä¸€ä¸ªæ¯”ä»–é«˜åº¦çŸ®çš„ï¼Œè¿™æ ·å¯ä»¥è®¡ç®—ä»¥ä»–çš„é«˜åº¦ä¸ºç»“æœçš„å®½ã€‚

![image-20220727100104777](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220727100104777.png)

![image-20220727100320418](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220727100320418.png)

![image-20220727100337689](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220727100337689.png)

```
class Solution {
    public int largestRectangleArea(int[] heights) {
        int n = heights.length;
        int[] left = new int[n];
        int[] right = new int[n];
        
        Deque<Integer> mono_stack = new ArrayDeque<Integer>();
        for (int i = 0; i < n; ++i) {
            while (!mono_stack.isEmpty() && heights[mono_stack.peek()] >= heights[i]) {
                mono_stack.pop();
            }
            left[i] = (mono_stack.isEmpty() ? -1 : mono_stack.peek());
            mono_stack.push(i);
        }

        mono_stack.clear();
        for (int i = n - 1; i >= 0; --i) {
            while (!mono_stack.isEmpty() && heights[mono_stack.peek()] >= heights[i]) {
                mono_stack.pop();
            }
            right[i] = (mono_stack.isEmpty() ? n : mono_stack.peek());
            mono_stack.push(i);
        }
        
        int ans = 0;
        for (int i = 0; i < n; ++i) {
            ans = Math.max(ans, (right[i] - left[i] - 1) * heights[i]);
        }
        return ans;
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/largest-rectangle-in-histogram/solution/zhu-zhuang-tu-zhong-zui-da-de-ju-xing-by-leetcode-/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



## [85. æœ€å¤§çŸ©å½¢](https://leetcode.cn/problems/maximal-rectangle/)

è·Ÿä¸Šä¸ªé¢˜ä¸€æ ·ï¼ŒæŠŠæ¯ä¸€è¡Œçš„åˆ°å·¦è¾¹è¿ç»­1çš„é•¿åº¦å½“æˆé«˜ï¼Œæ¥è¿›è¡Œå•è°ƒæ ˆåˆ¤æ–­çŸ©å½¢é¢ç§¯ã€‚



```
import java.util.ArrayDeque;
import java.util.Deque;

class Solution {
    public int maximalRectangle(char[][] matrix) {
        int row = matrix.length;
        if (row == 0) {
            return 0;
        }
        int col = matrix[0].length;
        int[][] left = new int[row][col];
        for (int i = 0; i < row; i++) {
            for (int j = 0; j < col; j++) {
                if (matrix[i][j] == '1') {
                    left[i][j] = (j == 0 ? 0 : left[i][j - 1]) + 1;
                }

            }
        }

        for (int i = 0; i < row; i++) {
            for (int j = 0; j < col; j++) {
                if (matrix[i][j] == '1') {
                    left[i][j] = (j == 0 ? 0 : left[i][j - 1]) + 1;
                }
            }
        }


        int res = 0;
        Deque<Integer> queue = new ArrayDeque<Integer>();

        for (int j = 0; j < col; j++) {
            int[] low = new int[row];
            int[] up = new int[row];
            for (int i = 0; i < row; i++) {
                while (!queue.isEmpty() && left[queue.peek()][j] >= left[i][j]) {
                    queue.pop();
                }
                low[i] = queue.isEmpty() ? -1 : queue.peek();
                queue.push(i);
            }
            queue.clear();
            for (int i = row - 1; i >= 0; i--) {
                while (!queue.isEmpty() && left[queue.peek()][j] >= left[i][j]) {
                    queue.pop();
                }
                up[i] = queue.isEmpty() ? row : queue.peek();
                queue.push(i);
            }
            queue.clear();
            for (int i = 0; i < row; i++) {
                res = Math.max(res, left[i][j] * (up[i] - low[i] - 1));
            }
        }
        return res;

    }
}

```



## [94. äºŒå‰æ ‘çš„ä¸­åºéå†](https://leetcode.cn/problems/binary-tree-inorder-traversal/)



### é€’å½’

```
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    public List<Integer> list = new ArrayList<>();
    public List<Integer> inorderTraversal(TreeNode root) {
        if(root==null){
            return list;
        }
        inorderTraversal(root.left);
        list.add(root.val);
        inorderTraversal(root.right);
        return list;

    }
}
```



### è¿­ä»£



```
/**
 * Definition for a binary tree node.
 * public class TreeNode {
 *     int val;
 *     TreeNode left;
 *     TreeNode right;
 *     TreeNode() {}
 *     TreeNode(int val) { this.val = val; }
 *     TreeNode(int val, TreeNode left, TreeNode right) {
 *         this.val = val;
 *         this.left = left;
 *         this.right = right;
 *     }
 * }
 */
class Solution {
    public List<Integer> inorderTraversal(TreeNode root) {
        List<Integer> list = new ArrayList<>();
        Deque<TreeNode> stack = new ArrayDeque<>();
        while(root!=null||!stack.isEmpty()){
            while(root!=null){
                stack.push(root);
                root=root.left;
            }
            root=stack.pop();
            list.add(root.val);
            root=root.right;
        }
        return list;
    }
}
```





## [96. ä¸åŒçš„äºŒå‰æœç´¢æ ‘](https://leetcode.cn/problems/unique-binary-search-trees/) 



### æˆ‘è‡ªå·±å†™çš„é€’å½’è°ƒç”¨

```
class Solution {
    public int numTrees(int n) {
        if(n==0){
            return 1;
        }
        if(n==1){
            return 1;
        }
        if(n == 2){
            return 2;
        }
        int res = 0;
        for(int i = 0;i<=n-1;i++){

               res+=numTrees(i)*numTrees(n-1-i);
           
        }
        return res;

    }
}
```



### åŠ¨æ€è§„åˆ’

ä¸Šä¸€ä¸ªçš„ä¼˜åŒ–

![image-20220801100619538](%E5%93%88%E5%B8%8C%E5%87%BD%E6%95%B0%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8.assets/image-20220801100619538.png)

```
class Solution {
    public int numTrees(int n) {
        int[] G = new int[n + 1];
        G[0] = 1;
        G[1] = 1;

        for (int i = 2; i <= n; ++i) {
            for (int j = 1; j <= i; ++j) {
                G[i] += G[j - 1] * G[i - j];
            }
        }
        return G[n];
    }
}

ä½œè€…ï¼šLeetCode-Solution
é“¾æ¥ï¼šhttps://leetcode.cn/problems/unique-binary-search-trees/solution/bu-tong-de-er-cha-sou-suo-shu-by-leetcode-solution/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```









##

##

##

##

##

##

##

##





## [128. æœ€é•¿è¿ç»­åºåˆ—](https://leetcode.cn/problems/longest-consecutive-sequence/)

### hashmap

```
class Solution {
    public int longestConsecutive(int[] nums) {
        if(nums.length<2) return nums.length;
        HashSet<Integer> set = new HashSet<>();
        int res = 1;
        for(int num: nums){
            set.add(num);
        }
        for(int num:nums){
            if(set.contains(num-1)){
                continue;
            }
            int temnum = num;
            int temres = 1;
            while(set.contains(temnum+1)){
                temnum+=1;
                temres++;
            }
            res = Math.max(temres, res);
        }
        return res;

    }
}
```

### è§£é¢˜æ€è·¯4ï¼šå¹¶æŸ¥é›†

å¹¶æŸ¥é›†çš„æ€è·¯å®é™…ä¸Šä¸æ€è·¯2æœ‰ç‚¹åƒï¼Œä¹Ÿæ˜¯æ¥è®°å½•å³è¾¹ç•Œçš„ï¼Œæ‰€æœ‰åœ¨ä¸€ä¸ªè¿ç»­åŒºé—´å†…çš„å…ƒç´ éƒ½ä¼šåœ¨ä¸€ä¸ªè¿é€šåˆ†é‡ä¸­ï¼Œä¸”è¿™äº›å…ƒç´ çš„æ ¹ç»“ç‚¹éƒ½ä¸ºæœ€è¿œçš„å³è¾¹ç•Œå…ƒç´ ã€‚
å…·ä½“æ€è·¯æ˜¯ï¼š

éå†æ‰€æœ‰å…ƒç´ numï¼Œå¦‚æœnum+1å­˜åœ¨ï¼Œå°†numåŠ å…¥åˆ°num+1æ‰€åœ¨çš„è¿é€šåˆ†é‡ä¸­ï¼›
é‡æ–°éå†ä¸€éæ‰€æœ‰å…ƒç´ numï¼Œé€šè¿‡findå‡½æ•°æ‰¾åˆ°numæ‰€åœ¨åˆ†é‡çš„æ ¹ç»“ç‚¹ï¼Œä¹Ÿå°±æ˜¯æœ€è¿œå³è¾¹ç•Œï¼Œä»è€Œæ±‚å¾—è¿ç»­åŒºé—´çš„é•¿åº¦ã€‚

ä½œè€…ï¼šyimeixiaobai
é“¾æ¥ï¼šhttps://leetcode.cn/problems/longest-consecutive-sequence/solution/xiao-bai-lang-ha-xi-ji-he-ha-xi-biao-don-j5a2/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚



```java
class UnionFind {
    // è®°å½•æ¯ä¸ªèŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹
    private Map<Integer, Integer> parent;

    public UnionFind(int[] nums) {
        parent = new HashMap<>();
        // åˆå§‹åŒ–çˆ¶èŠ‚ç‚¹ä¸ºè‡ªèº«
        for (int num : nums) {
            parent.put(num, num);
        }
    }

    // å¯»æ‰¾xçš„çˆ¶èŠ‚ç‚¹ï¼Œå®é™…ä¸Šä¹Ÿå°±æ˜¯xçš„æœ€è¿œè¿ç»­å³è¾¹ç•Œï¼Œè¿™ç‚¹ç±»ä¼¼äºæ–¹æ³•2
    public Integer find(int x) {
        // numsä¸åŒ…å«x
        if (!parent.containsKey(x)) {
            return null;
        }
        // éå†æ‰¾åˆ°xçš„çˆ¶èŠ‚ç‚¹
        while (x != parent.get(x)) {
            // è¿›è¡Œè·¯å¾„å‹ç¼©ï¼Œä¸å†™ä¸‹é¢è¿™è¡Œä¹Ÿå¯ä»¥ï¼Œä½†æ˜¯æ—¶é—´ä¼šæ…¢äº›
            parent.put(x, parent.get(parent.get(x)));
            x = parent.get(x);
        }
        return x;
    }

    // åˆå¹¶ä¸¤ä¸ªè¿é€šåˆ†é‡ï¼Œåœ¨æœ¬é¢˜ä¸­åªç”¨æ¥å°†numå¹¶å…¥åˆ°num+1çš„è¿ç»­åŒºé—´ä¸­
    public void union(int x, int y) {
        int rootX = find(x);
        int rootY = find(y);
        if (rootX == rootY) {
            return;
        }
        parent.put(rootX, rootY);
    }
}

class Solution {
    public int longestConsecutive(int[] nums) {
        UnionFind uf = new UnionFind(nums);
        int ans = 0;
        
        for (int num : nums) {
            // å½“num+1å­˜åœ¨ï¼Œå°†numåˆå¹¶åˆ°num+1æ‰€åœ¨é›†åˆä¸­
            if (uf.find(num + 1) != null) {
                uf.union(num, num + 1);
            }
        }

        for (int num : nums) {
            // æ‰¾åˆ°numçš„æœ€è¿œè¿ç»­å³è¾¹ç•Œ
            int right = uf.find(num);
            ans = Math.max(ans, right - num + 1);
        }
        return ans;
    }
}

ä½œè€…ï¼šyimeixiaobai
é“¾æ¥ï¼šhttps://leetcode.cn/problems/longest-consecutive-sequence/solution/xiao-bai-lang-ha-xi-ji-he-ha-xi-biao-don-j5a2/
æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚
```



# ç¬”è®°æ•´ç†

https://blog.csdn.net/weixin_54884881/article/details/121140623



# git time out é—®é¢˜

å–æ¶ˆä»£ç†

```

å–æ¶ˆä»£ç†
git config --global --unset http.proxy
git config --global --unset https.proxy
git config --global http.sslVerify "false"
```

 OpenSSL SSL_read: Connection was reset, errno 10054



ipconfig /flushdns cmdä¸­æ‰§è¡Œä¸€ä¸‹å†è¯•è¯•

æ‰§è¡Œå®Œå†æ‰“å¼€gitå°±å¥½äº†





# åŒç«¯é˜Ÿåˆ—

```
 public static void main(String[] args) {
        Deque<Integer> stack = new ArrayDeque<>();
        stack.push(1);
        stack.push(2);
        stack.push(3);
        System.out.println(stack.pop());
        System.out.println(stack.pop());
        System.out.println(stack.pop());
        System.out.println("++++++++++++++++++++++++++++++++++++++++++++");
        stack = new ArrayDeque<>();
        stack.offer(1);
        stack.offer(2);
        stack.offer(3);
        System.out.println(stack.poll());
        System.out.println(stack.poll());
        System.out.println(stack.poll());


    }
    
    
3
2
1
++++++++++++++++++++++++++++++++++++++++++++
1
2
3    
```

